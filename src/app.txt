import React, { useState, useEffect } from 'react';
import { Book, Code, Layout, Palette, Database, Globe, Moon, Sun, Search, ChevronRight, ChevronDown, BookOpen, Cpu, Smartphone, Menu, Zap, Shield, Server, Type, Aperture, Layers, BlocksIcon, FileJson } from 'lucide-react';

const booksData = {
  frontend: {
    id: 'frontend',
    title: 'Frontend Development',
    icon: Layout,
    color: '#2196F3',
    description: 'Master HTML, CSS, and JavaScript',
    units: [
  {
    "id": 1,
    "title": "Traditional Markup: SGML & XML Foundations üèõÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "HTML and XHTML: First Look and Version History",
        "content": "A detailed look at the origins of web markup, contrasting the loose syntax of **SGML-based HTML** (up to 4.01) with the strict, well-formed requirements of **XML-based XHTML 1.x**. This section covers the evolution of the web from HTML 2.0 to the transitional standards, explaining why attributes must be quoted and tags closed in XML parsing environments. It lays the groundwork for understanding the later pragmatic shift found in HTML5. Key topics include the necessity of the `xmlns` attribute in XHTML and the reasons behind XHTML's failure to fully displace HTML 4.01 due to browser tolerance for bad markup.",
        "codeExample": "\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\">\n<head>\n    <title>XHTML Strict Document</title>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n</head>\n<body>\n    <p>Self-closing tags require a trailing slash: <br /></p>\n</body>\n</html>"
      },
      {
        "title": "Document Structure, Head, and Essential Metadata",
        "content": "A thorough examination of the **`(X)HTML Document Structure`**, focusing on the required **`<html>`**, **`<head>`**, and **`<body>`** elements. The head is detailed as the crucial non-rendered section that provides metadata. This includes the required `<title>` element, the `<link>` element for external files (styles, icons), and a deep dive into the versatile **`<meta>`** tag for specifying character sets (`charset`), viewport settings, content descriptions, keywords, and HTTP-EQUIV settings (e.g., content-type, refresh). It also explores the `<base>` tag for setting the base URL for relative paths.",
        "codeExample": "\n<head>\n    <meta charset=\"UTF-8\" />\n    <title>Reference Guide</title>\n    <meta name=\"description\" content=\"A complete reference guide for web developers.\">\n    <meta http-equiv=\"refresh\" content=\"300;url=http://example.com/\">\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/styles/main.css\">\n    <base href=\"http://www.example.com/assets/\">\n</head>"
      },
      {
        "title": "Viewing Markup and Server Environment Considerations",
        "content": "Practical guidance on the process of developing and testing web pages. This covers **Viewing Markup Locally** (simple file opening) versus the critical difference of **Viewing Markup with a Web Server**. Understanding the distinction is vital, especially when dealing with server-side includes, HTTP headers (which often control the perceived Document Type), and URL path resolution. It explains how server configuration affects content delivery and interpretation by the browser, particularly the MIME type delivered for XHTML documents and the base behavior of relative vs. absolute URLs.",
        "codeExample": "/* Conceptual difference between local and server views (p. 8, 10) */\n\n// Local File Path (client-side only)\nfile:///C:/Users/user/Desktop/index.html\n\n// Server URL (requires HTTP request/response)\nhttp://localhost:8080/index.html\n\n// Server-side code that determines content type for XHTML (Conceptual)\nheader('Content-Type: application/xhtml+xml');"
      },
      {
        "title": "Document Type Definitions (DTDs) Up Close",
        "content": "An advanced look at the technical role of **HTML and XHTML DTDs**‚Äîthe specifications that define the legal structure of a document. This section breaks down the difference between Strict (no deprecated/presentational markup), Transitional (allows some presentation), and Frameset (for use with `<frameset>`). It details how the browser interprets the **Document Type Statement** to determine the document's conformance mode, which directly impacts rendering through the Doctype Switch. Understanding DTDs is the foundation for proper validation.",
        "codeExample": "\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \n\"http://www.w3.org/TR/html4/loose.dtd\">\n\n\n<!ELEMENT h1 (#PCDATA) -- Level 1 Heading -->\n<!ATTLIST h1 align (left|center|right|justify) #IMPLIED>"
      },
      {
        "title": "Validation, Browser Rendering Modes, and The Rules of (X)HTML",
        "content": "Focuses on the critical role of **Validation** for producing interoperable code. Explores the effects of the **Doctype Switch and Browser Rendering Modes**‚ÄîQuirks Mode (for broken, legacy pages) versus Standards Mode (for modern, compliant pages). The core rules are defined: **HTML is not Case Sensitive, XHTML Is**; elements should always **Nest** correctly; elements should have **Close Tags Unless Empty**; and **Attributes Should Be Quoted**. This section also addresses misconceptions and the separation of **Logical and Physical Markup**. (p. 37-47)",
        "codeExample": "/* Demonstrating HTML vs. XHTML Case Sensitivity (p. 41) */\n\n\n<P class=\"intro\">Hello</P>\n\n\n<p class=\"intro\">Hello</p>\n\n\n<p>This is a paragraph."
      }
    ]
  },
  {
    "id": 2,
    "title": "HTML5 Structural Semantics & Document Flow üÜï",
    "icon": "Code",
    "subsections": [
      {
        "title": "Hello HTML5, Loose Syntax, and Presentational Markup Removal",
        "content": "An in-depth introduction to HTML5, highlighting its development under the WHATWG and its focus on being a living standard. This section details how the new specification embraces the web's reality with a return to a more **Loose Syntax**, while still defining an **XHTML5** (XML) serialization. It systematically lists the deprecated presentational elements (`<font>`, `<center>`, etc.) that have been removed or redefined, reinforcing the separation of concerns, and setting the stage for CSS-driven presentation. (p. 55-66)",
        "codeExample": "\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>HTML5</title>\n</head>\n<body>...</body>\n</html>\n\n\n"
      },
      {
        "title": "New Semantic Document Structure",
        "content": "The cornerstone of modern HTML development. This section explains the intent and proper use of the major new structural elements: **`<header>`**, **`<footer>`**, **`<nav>`** (for site navigation links), **`<article>`** (self-contained, distributable content), **`<section>`** (thematic grouping of content), **`<aside>`** (content related to the main content, often a sidebar), and **`<main>`** (the dominant content of the body). It also covers **`<hgroup>`** for grouping related headings and the concept of the **HTML5 Document Outline Algorithm** for generating semantic hierarchy. (p. 69-77, 261, 263, 326, 365)",
        "codeExample": "\n<header>\n    <h1>Site Name</h1>\n    <nav>\n        <a href=\"#contact\">Contact</a>\n    </nav>\n</header>\n<article>\n    <h2>Title of Article</h2>\n    <p>Content block...</p>\n</article>\n<aside>\n    <p>Advertisements or related links.</p>\n</aside>"
      },
      {
        "title": "Semantic Text and Grouping Elements",
        "content": "Focuses on new elements that add explicit semantic value to inline and block content. This includes **`<figure>`** and **`<figcaption>`** for grouping media (images, code, tables) with captions; **`<mark>`** for highlighting text; **`<time>`** for indicating dates and times in a machine-readable format; and changes to the roles of old elements like **`<b>`** (now representing bold text without conveying extra importance) and **`<i>`** (now representing text in an alternate voice or mood, e.g., technical terms, foreign phrases). (p. 75-77, 244, 314, 408)",
        "codeExample": "\n<p>\n    The meeting is scheduled for <time datetime=\"2025-11-05T10:00\">Tuesday morning</time>.\n    The new feature is ready, but please <mark>review the code</mark> carefully.\n</p>\n<figure>\n    <img src=\"graph.png\" alt=\"Quarterly Sales Graph\">\n    <figcaption>Fig 1: Q3 Sales Performance.</figcaption>\n</figure>"
      },
      {
        "title": "Global Attributes: Custom Data and Microdata",
        "content": "An introduction to the attributes intended to support arbitrary data and semantic enrichment. **`data-*` Attributes** allow developers to embed custom, non-visible data in standard HTML elements, which can be retrieved and manipulated via JavaScript, enabling powerful client-side scripting and data handling without reliance on external scripts. This section also introduces the concept of **Microdata** (`itemscope`, `itemtype`, `itemprop`) for describing content in a machine-readable way, crucial for SEO and rich snippets in search results. (p. 116-120, 143-146)",
        "codeExample": "\n<button id=\"add-to-cart\" data-product-id=\"789\" data-stock-level=\"12\">\n    Add to Cart\n</button>\n\n\n<div itemscope itemtype=\"http://schema.org/Product\">\n    <span itemprop=\"name\">Widget X</span>\n    <span itemprop=\"aggregateRating\" itemscope itemtype=\"http://schema.org/AggregateRating\">\n        Rated <span itemprop=\"ratingValue\">4.5</span>/5\n    </span>\n</div>"
      },
      {
        "title": "HTML, JavaScript, and the DOM Renewed",
        "content": "Explores the renewed relationship between markup and scripting, noting how HTML5 has formalized and standardized many **Ad Hoc JavaScript Conventions**. This section details improvements to the **DOM (Document Object Model)**, providing native methods and properties for interacting with new elements like `<canvas>` and `<video>`. It discusses the `defer` attribute on `<script>` for efficient loading and the broader trend of HTML becoming a platform for web applications, rather than just static documents. (p. 121-125)",
        "codeExample": "\n<script src=\"deferred-script.js\" defer></script>\n\n// JavaScript to access a custom data attribute\nconst button = document.getElementById('add-to-cart');\nconst id = button.dataset.productId; // Returns '789'"
      }
    ]
  },
  {
    "id": 3,
    "title": "HTML5 Media, Forms, and Application APIs üß©",
    "icon": "Code",
    "subsections": [
      {
        "title": "Advanced HTML5 Forms: New Input Types",
        "content": "A detailed listing and explanation of the new **Input Form Control** types (p. 279) introduced to improve data entry and user experience without relying on JavaScript libraries. This covers: `search`, `tel`, `url`, `email` (with client-side format checking), `datetime`, `date`, `month`, `week`, `time`, `number` (with spin-box controls), `range` (slider control), and `color` (browser-native color picker). Each type's purpose and behavioral quirks are noted. (p. 101)",
        "codeExample": "\n<input type=\"email\" name=\"user-email\" placeholder=\"name@example.com\">\n<input type=\"range\" name=\"volume\" min=\"0\" max=\"100\" step=\"10\" value=\"50\">\n<input type=\"color\" name=\"fav-color\">"
      },
      {
        "title": "Form Validation, Usability, and Interactivity",
        "content": "Focuses on enhanced client-side validation using new attributes: **`required`** (must not be empty), **`pattern`** (for regex validation), **`min`/`max`** (for numbers/dates), **`step`**, and **`autofocus`**. It details the use of **`<datalist>`** to provide pre-fill suggestions for text inputs and the **`<output>`** element for displaying the result of a calculation within a form, offering immediate feedback to the user. Covers the new `form` attribute to associate inputs with forms located elsewhere in the document. (p. 104-105, 220, 341)",
        "codeExample": "\n<input type=\"url\" pattern=\"https?://.*\" required>\n\n<input list=\"browsers\" name=\"browser\">\n<datalist id=\"browsers\">\n  <option value=\"Chrome\">\n  <option value=\"Firefox\">\n</datalist>"
      },
      {
        "title": "The Canvas API: Drawing and Transformations",
        "content": "A technical breakdown of the **`<canvas>`** element. This is not just a tag, but a gateway to a low-level, pixel-based graphics API driven entirely by JavaScript. The section details the methods for drawing: defining paths, coloring with `fillStyle` and `strokeStyle`, drawing **Lines and Shapes**, creating **Arcs and Curves** (`arc()`, `bezierCurveTo()`), and using the translation methods like **`scale()`**, **`rotate()`**, and **`translate()`** for complex transformations. It also covers importing and manipulating images and text within the canvas context. (p. 82-98)",
        "codeExample": "// JavaScript to draw a red triangle on the canvas (p. 85)\nvar ctx = document.getElementById('myCanvas').getContext('2d');\nctx.beginPath();\nctx.moveTo(75, 50);\nctx.lineTo(100, 75);\nctx.lineTo(100, 25);\nctx.fillStyle = 'red';\nctx.fill();"
      },
      {
        "title": "Web Application Attributes and Utility Elements",
        "content": "Focuses on elements and attributes that enable desktop-like web applications. This includes the global **`contenteditable`** attribute (p. 140, 143, 114) for turning any element into a rich text editor; the **`draggable`** attribute and the corresponding **Drag and Drop API** (p. 112); and the contextual command elements like **`<menu>`** (repurposed for context menus) and **`<command>`** (for creating command buttons). It also references the **`spellcheck`** attribute for basic text validation. (p. 106-115)",
        "codeExample": "\n<p contenteditable=\"true\" spellcheck=\"true\" data-user-role=\"admin\">\n  This paragraph can be modified.\n</p>\n\n\n<img src=\"item.png\" draggable=\"true\">"
      },
      {
        "title": "The Uncertain Future of Frames and Legacy Elements",
        "content": "A historical and forward-looking view of framing technologies. This section contrasts the deprecated **`<frame>`** and **`<frameset>`** elements with the supported **`<iframe>` (Inline Frame)**. It explains why traditional framesets were removed (accessibility, navigation, deep linking issues) but why `<iframe>` remains useful for embedding third-party content (e.g., maps, videos) while maintaining security boundaries. Also notes the removal of legacy elements like **`<isindex>`** and **`<plaintext>`**. (p. 110-111, 252, 270, 289)",
        "codeExample": "\n<iframe src=\"external-widget.html\" width=\"400\" height=\"300\" sandbox></iframe>\n\n\n"
      }
    ]
  },
  {
    "id": 4,
    "title": "The A-L HTML Element Reference üìö",
    "icon": "List",
    "subsections": [
      {
        "title": "A-C Elements: Anchor, Audio, Canvas, and Blockquotes",
        "content": "Comprehensive details on **`<a>` (Anchor)**, focusing on attributes like `href`, `target`, `rel` (link relationship), and the older `name` attribute vs. `id`. Covers **`<article>`** and **`<aside>`** semantic roles. Details the attributes of **`<audio>`** (controls, loop, preload) and the drawing context of **`<canvas>`**. Includes the block-level citation element **`<blockquote>`**. (p. 158-213)",
        "codeExample": "\n<a href=\"/doc.pdf\" download rel=\"nofollow\">Download Document</a>\n\n\n<blockquote cite=\"http://example.com/source\">\n    <p>A quoted passage.</p>\n</blockquote>"
      },
      {
        "title": "D-F Elements: Divisions, Definitions, and Forms",
        "content": "Reference for **`<div>` (Division)** as the general-purpose container and the elements of description lists: **`<dl>`**, **`<dt>`**, and **`<dd>`**. Details the core **`<form>`** element, including `method` (GET/POST), `action`, and the new HTML5 `novalidate` attribute. Covers **`<fieldset>`** and **`<legend>`** for grouping form controls, and the use of **`<figure>`** with **`<figcaption>`**. (p. 231-248)",
        "codeExample": "\n<dl>\n    <dt>Term</dt>\n    <dd>Definition</dd>\n</dl>\n\n\n<form action=\"/submit.php\" method=\"post\">\n    <label>Name: <input type=\"text\" name=\"name\"></label>\n    <input type=\"submit\" value=\"Send\">\n</form>"
      },
      {
        "title": "G-H Elements: Headings and Horizontal Rule",
        "content": "Covers **`<h1>` through `<h6>` (Headings)** and their hierarchical significance, alongside the HTML5 element **`<hgroup>`** (now often discouraged but historically used to group subheadings). Details **`<head>`** and **`<header>`** (the semantic heading area for its nearest ancestor section/article). Describes the styling and attribute usage for **`<hr>` (Horizontal Rule)**, noting its move from presentational line to semantic content separator. (p. 258-267)",
        "codeExample": "\n<section>\n    <h2>Chapter One</h2>\n    <p>Introductory content.</p>\n    <h3>Section 1.1</h3>\n</section>"
      },
      {
        "title": "I Elements: Images, Input, and Inline Frames",
        "content": "Focuses on the critical image element **`<img>`**, detailing `src`, `alt`, and the now-deprecated presentational attributes (`hspace`, `vspace`, `border`). Provides a deep reference for **`<input>` (Input Form Control)**, covering all its `type` values (text, checkbox, radio, hidden, etc.) and core attributes (`name`, `value`, `disabled`). Includes the current status and use of **`<iframe>` (Inline Frame)**. (p. 270-287)",
        "codeExample": "\n<img src=\"/photos/profile.jpg\" alt=\"User Profile Picture\" loading=\"lazy\">\n\n\n<input type=\"checkbox\" id=\"agree\" name=\"terms\" value=\"agreed\" checked>"
      },
      {
        "title": "L Elements: Labels, Lists, and Links",
        "content": "Details **`<label>`** and its importance for accessibility, linking to controls via the `for` attribute. Covers the three primary list types: **`<ul>` (Unordered List)**, **`<ol>` (Ordered List)**, and the list item element **`<li>`**, along with their styling attributes (`type`, `start`). Provides an essential reference for **`<link>` (Link to External Files)**, including common relationships (`stylesheet`, `icon`, `preload`). (p. 294-311)",
        "codeExample": "\n<label for=\"username\">Username:</label>\n<input type=\"text\" id=\"username\">\n\n\n<ol start=\"5\">\n    <li>Item 5</li>\n    <li>Item 6</li>\n</ol>"
      }
    ]
  },
  {
    "id": 5,
    "title": "The M-Z HTML Element Reference üìñ",
    "icon": "List",
    "subsections": [
      {
        "title": "M-O Elements: Media, Metadata, and Object Embedding",
        "content": "Covers **`<map>`** and **`<area>`** for client-side image maps. Deepens the reference for **`<meta>`** tag use (p. 320). Details the new HTML5 media elements **`<meter>`** and **`<output>`**. Provides the full attributes for **`<object>` (Embedded Object)** (p. 331), often used for Flash, Java applets, or generic media embedding, along with its companion tag **`<param>`** (p. 345). Also covers list option elements **`<option>`** and **`<optgroup>`**. (p. 312-341)",
        "codeExample": "\n<img src=\"chart.gif\" usemap=\"#saleschart\">\n<map name=\"saleschart\">\n    <area shape=\"rect\" coords=\"0,0,50,50\" href=\"/north.html\" alt=\"North Region\">\n</map>"
      },
      {
        "title": "P-R Elements: Paragraphs, Preformatting, and Scripts",
        "content": "Reference for **`<p>` (Paragraph)**, the fundamental block-level text element. Covers **`<pre>` (Preformatted Text)** and its special handling of whitespace and line breaks. Details the use of **`<progress>`** for showing task completion status. Includes the **Ruby Annotation** elements **`<ruby>`**, **`<rt>`**, and **`<rp>`** (p. 353-357) for East Asian typography. (p. 343-365)",
        "codeExample": "\n<pre>\nLine 1:      Data\nLine 2:      More Data\n</pre>\n\n\n<progress id=\"file-load\" value=\"50\" max=\"100\">50%</progress>"
      },
      {
        "title": "S Elements: Scripts, Styles, and Text Styling",
        "content": "In-depth reference for **`<script>`** (including attributes like `src`, `async`, and `defer`) and the companion **`<noscript>`** tag. Covers the inline container **`<span>`**. Details the use of **`<style>`** for embedded CSS (p. 379). Includes physical text styling elements **`<sub>` (Subscript)**, **`<sup>` (Superscript)**, and **`<strong>`** (strong importance). Notes on deprecated strikethrough tags (`<s>`, `<strike>`). (p. 362-383)",
        "codeExample": "\n<style type=\"text/css\">\n    h1 { color: #008080; }\n</style>\n\n\n<p>H<sub>2</sub>O and 10<sup>th</sup> Floor</p>"
      },
      {
        "title": "T Elements: Tables and Textareas",
        "content": "A complete guide to **`<table>`** structure, attributes, and layout. Details the required nesting elements: **`<caption>`**, **`<thead>`**, **`<tbody>`**, **`<tfoot>`**, **`<tr>` (Table Row)**, and **`<th>`/`<td>` (Header/Data cells)**. Covers cell attributes (`colspan`, `rowspan`, `scope`) and the deprecated table sizing attributes. Provides an overview of the multiline text input element **`<textarea>`**. (p. 385-414)",
        "codeExample": "\n<table>\n    <caption>Quarterly Results</caption>\n    <thead>\n        <tr><th>Month</th><th>Sales</th></tr>\n    </thead>\n    <tbody>\n        <tr><td>Jan</td><td>$100</td></tr>\n    </tbody>\n</table>"
      },
      {
        "title": "U-Z Elements: Lists, Videos, and Variables",
        "content": "Covers **`<ul>` (Unordered List)** and its type attributes. Details the **`<var>`** element (variable name). Provides the attributes and usage for the HTML5 media element **`<video>`**. Notes the current status of deprecated tags like **`<u>` (Underline)** and the non-standard **`<xml>`** data island element. (p. 415-425)",
        "codeExample": "\n<ul type=\"disc\">\n    <li>Coffee</li>\n    <li>Tea</li>\n</ul>\n\n\n<code><var>i</var> = 0;</code>"
      }
    ]
  },
  {
    "id": 6,
    "title": "CSS Fundamentals: Cascade, Specificity, & Syntax üí°",
    "icon": "Palette",
    "subsections": [
      {
        "title": "The Slow Rise of CSS and Syntax Basics",
        "content": "Explains the necessity of CSS as a response to **Presentational HTML** (`<font>`, `bgcolor`) and the initial browser wars. Covers the basic structure of a CSS rule: **Selector**, **Declaration Block**, **Property**, and **Value**. Distinguishes between **CSS Versions** (CSS1, CSS2.1, CSS3 Modules) and notes the existence of **Proprietary CSS** (vendor prefixes). Includes rules for **CSS Error Handling** by browsers (ignoring malformed rules). (p. 429-445, 521-523)",
        "codeExample": "/* A basic CSS rule block (p. 432) */\np {\n  color: #333; /* Declaration 1: property and value */\n  line-height: 1.5; /* Declaration 2 */\n}"
      },
      {
        "title": "Applying Style: Linking, Embedding, and Importing",
        "content": "A detailed comparison of the four primary methods of integrating CSS into a document. **Linking to a Style Sheet** (`<link>`) is emphasized as the best practice. **Embedding Style Sheets** (`<style>`) for page-specific rules. **Importing Style Sheets** (`@import`) syntax and its cascade implications. Finally, the role of **Inline Styles** (`style` attribute) is defined, noting their high specificity and poor separation of concerns. (p. 452-460, 524-527)",
        "codeExample": "\n<link rel=\"stylesheet\" type=\"text/css\" href=\"global.css\">\n\n/* Importing a stylesheet within an embedded <style> block (p. 458) */\n@import url('modules.css') screen and (min-width: 600px);"
      },
      {
        "title": "The Cascade, Inheritance, and Overrides",
        "content": "The central mechanism of CSS is explained. The **Cascade** process determines which rule wins based on origin (Author, User, Browser) and importance. **Inheritance** details how properties (like `color` and `font-family`) pass from parent elements to children. The use of the **`!important` Override** is detailed, noting its power to break the cascade and its general discouragement in large projects. (p. 468-470, 542)",
        "codeExample": "/* Inheritance example (font style passes down) */\nbody { font-family: Arial, sans-serif; }\n\n/* Overriding the cascade using !important */\n.sidebar-text { color: red !important; }\n.sidebar-text { color: blue; } /* This rule will lose */"
      },
      {
        "title": "Media Types, Media Queries, and Alternative Styles",
        "content": "Covers the older concept of **Media Types** (`screen`, `print`, `projection`) for applying style based on the output medium. This transitions into the much more powerful **Media Queries** (CSS3) for applying styles based on device characteristics (width, orientation, resolution), which is fundamental to **Responsive Web Design**. Also describes the use of **Alternative Styles** (using `<link>` with `title` and `alternate stylesheet`) to allow users to switch themes. (p. 461-464, 541, 625)",
        "codeExample": "/* Print-specific style rule (p. 463) */\n@media print {\n  nav, aside { display: none; }\n  body { font-size: 10pt; }\n}\n\n\n<link rel=\"stylesheet\" href=\"default.css\" title=\"Default Theme\">"
      },
      {
        "title": "CSS Measurements, Units, and Color Values",
        "content": "A complete reference of available values. **Measurements** are broken down into absolute units (e.g., `px`, `pt`, `cm`) and relative units (e.g., `em`, `ex`, `rem`, `%`), explaining the context of each. Covers common keywords (`auto`, `initial`, `inherit`) and the standard forms for **CSS Color Values**: hex codes (`#RRGGBB`), RGB functions (`rgb(R,G,B)`), and the **16 Standard Color Names**. (p. 502, 527-533)",
        "codeExample": "/* Relative units and Hex/RGB colors (p. 527, 530) */\n.header {\n  font-size: 1.2em; /* Relative to parent font size */\n  margin: 1rem; /* Relative to root font size */\n}\n\n.footer {\n  background-color: #f0f8ff; /* Hex code */\n  color: rgb(255, 0, 0); /* RGB function */\n}"
      }
    ]
  },
  {
    "id": 7,
    "title": "CSS 2.1 Core Properties: Layout & Box Model üì¶",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Box Model: Margin, Border, and Padding",
        "content": "The definitive section on the **CSS Box Model**, illustrating how every element is a rectangular box composed of content, padding, border, and margin. Details the shorthand properties (`margin`, `padding`, `border`) and the longhand properties (e.g., `margin-top`, `border-bottom-style`). Explains the crucial concept of **Margin Collapsing** for vertical margins and the role of `border-collapse` and `border-spacing` for tables. (p. 547, 581, 591)",
        "codeExample": "/* Margin and Padding Shorthand (p. 581, 591) */\n.box {\n  margin: 10px 20px 30px 40px; /* Top, Right, Bottom, Left */\n  padding: 5px 10px; /* Top/Bottom, Left/Right */\n  border: 1px solid black;\n}"
      },
      {
        "title": "Controlling Flow: Display and Visibility",
        "content": "Explains the most fundamental property, **`display`**, detailing its values: `block`, `inline`, `inline-block`, `list-item`, `table`, and the crucial `none` (which removes the element and its space). Covers the usage of **`visibility`** (`visible`, `hidden`, `collapse`), which hides the element but preserves its layout space, contrasting its effect with `display: none`. Includes background on the default display types of common HTML elements (e.g., `div` is block, `span` is inline). (p. 508, 568, 603)",
        "codeExample": "/* Display and Visibility contrast (p. 568, 603) */\n.hidden-block { display: none; } /* Element is gone, no space */\n\n.invisible-block { visibility: hidden; } /* Element is invisible, space remains */\n\n/* Common use of inline-block (p. 568) */\nnav a { display: inline-block; padding: 5px; }"
      },
      {
        "title": "Positioning, Floating, and Layering",
        "content": "A complete guide to non-flow layout. **`position`** is explained with its four core values: `static` (default), `relative` (positioning relative to its normal flow position), `absolute` (positioning relative to its nearest positioned ancestor), and `fixed` (positioning relative to the viewport). Covers **`float`** (`left`, `right`) and the technique of using **`clear`** to stop floating behavior. Finally, explains the **`z-index`** property for controlling stacking order when elements overlap. (p. 571, 577, 596, 607)",
        "codeExample": "/* Absolute positioning and z-index (p. 596, 607) */\n.parent { position: relative; }\n.child {\n  position: absolute;\n  top: 10px;\n  left: 20px;\n  z-index: 5;\n}\n\n/* Clearing floats (p. 560) */\n.clearfix { clear: both; }"
      },
      {
        "title": "Sizing, Clipping, and Overflow",
        "content": "Details the properties for constraining and managing element dimensions and content. This includes **`width`** and **`height`**, as well as the constraints **`min-width`/`max-width`** and **`min-height`/`max-height`**, which are crucial for fluid and responsive design. Explains the **`overflow`** property (`hidden`, `scroll`, `auto`) for handling content that exceeds the box dimensions, and the **`clip`** property for defining a visible area of an absolutely positioned element. (p. 560, 576, 584, 590, 605)",
        "codeExample": "/* Fluid and max width for responsive images (p. 584, 605) */\nimg { max-width: 100%; height: auto; }\n\n/* Scrollable content box (p. 590) */\n.terminal {\n  width: 300px;\n  height: 150px;\n  overflow: scroll;\n}"
      },
      {
        "title": "Text, Font, and List Properties",
        "content": "A reference for properties governing typography and list markers. **Font** properties (`font-family`, `font-size`, `font-weight`, `font-style`) are covered in detail, including generic families. Text properties include **`text-align`**, **`text-decoration`** (underline, line-through), **`text-transform`** (uppercase, lowercase), and **`white-space`** (for preformatting or collapsing). **List Style** properties (`list-style-type`, `list-style-image`, `list-style-position`) are explained for customizing bullet points and numbers. (p. 572-581, 599-601, 604)",
        "codeExample": "/* Font stack and line height (p. 572, 578) */\nbody { font-family: Georgia, serif; line-height: 1.6; }\n\n/* Customizing list markers (p. 579) */\nul.tasks { list-style-type: square; list-style-position: inside; }"
      }
    ]
  },
  {
    "id": 8,
    "title": "CSS Selectors, Pseudo-Classes, & Generated Content üéØ",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Element, Class, and ID Selectors: Specificity Scoring",
        "content": "Revisits the fundamental selectors, focusing on how each contributes to a selector's **Specificity Score**‚Äîthe core mechanic that determines which competing CSS rule is applied. Details the simple but powerful use of **Element Selectors** (e.g., `p`, `a`), the reusable nature of **Class Selectors** (`.intro`), and the high-specificity, unique nature of **ID Selectors** (`#main`). Understanding the hierarchy is essential for writing maintainable CSS. (p. 470-473, 533-535)",
        "codeExample": "/* Specificity Score Example (Conceptual) */\n\n#header h1 { color: red; } /* High specificity: 1,0,1 */\n.main-nav a { color: blue; } /* Medium specificity: 0,1,1 */\nh1 { color: green; } /* Low specificity: 0,0,1 */"
      },
      {
        "title": "Combinators and Complex Contextual Selection",
        "content": "Explores the tools used to select elements based on their relationships to others. This includes the **Descendant Combinator** (space, e.g., `.nav a`), the **Child Combinator** (`>`, e.g., `.nav > li`), the **Adjacent Sibling Combinator** (`+`, e.g., `h2 + p`), and the **General Sibling Combinator** (`~`, e.g., `h2 ~ p`). Each is detailed with examples of where it's best applied to target content precisely within a document's tree structure. (p. 476-479, 536-537)",
        "codeExample": "/* Targeting a paragraph immediately following a heading (p. 476) */\nh2 + p { margin-top: 0; }\n\n/* Targeting all sibling list items that follow the first one (CSS3) */\nli ~ li { border-top: 1px solid #eee; }"
      },
      {
        "title": "Attribute Selectors (CSS2.1 and CSS3)",
        "content": "Covers selectors that target elements based on the presence or value of their attributes. **CSS 2.1** provides basic selectors (`[attr]`, `[attr='val']`, `[attr~='val']`). **CSS3** expands this with more powerful string-matching: starts with (`[attr^='val']`), ends with (`[attr$='val']`), contains (`[attr*='val']`), and prefix matching (`[attr|='val']`). This is widely used for targeting inputs, links, and elements with custom `data-*` attributes. (p. 479-483, 615)",
        "codeExample": "/* Selecting a specific input type (p. 479) */\ninput[type=\"submit\"] { background-color: green; }\n\n/* Selecting all links that end with '.pdf' (CSS3) (p. 615) */\na[href$='.pdf']::after { content: ' (PDF)'; }"
      },
      {
        "title": "User Action and Structural Pseudo-Classes",
        "content": "A complete reference of **Pseudo-Classes** that select elements based on their *state* or *position* in the document tree. **User Action** pseudo-classes include `:hover`, `:focus`, `:active`, and `:visited` (p. 487-490). **Structural** pseudo-classes include `:first-child`, `:last-child`, `:nth-child()`, `:only-child`, and the **`:not()` negation pseudo-class** (CSS3). The complex syntax of `:nth-child(An+B)` is explained for pattern matching. (p. 487-498, 616-620)",
        "codeExample": "/* Styling every third list item (p. 617) */\nli:nth-child(3n) { border-bottom: 2px solid #ccc; }\n\n/* Styling all elements EXCEPT those with a class of 'error' (p. 618) */\np:not(.error) { color: black; }\n\n/* Styling a focused input field (p. 489) */\ninput:focus { border-color: blue; box-shadow: 0 0 5px blue; }"
      },
      {
        "title": "Pseudo-Elements and Generated Content",
        "content": "Details the usage of **Pseudo-Elements** (`::before`, `::after`, `::first-letter`, `::first-line`) for styling specific parts of an element or injecting non-markup content. Focuses heavily on the **`content`** property, which is mandatory for `::before`/`::after`, explaining how to use strings, images (URLs), and **Counters** (`counter-increment`, `counter-reset`) to number sections automatically. Note on the transition from the single colon (`:before`) to the double colon (`::before`) for clarity. (p. 484-486, 562-564)",
        "codeExample": "/* Adding a custom icon before a link (p. 562) */\na::before {\n  content: url('external-link.svg');\n  margin-right: 5px;\n}\n\n/* Auto-incrementing counters (p. 564) */\nbody { counter-reset: section; }\nsection h2::before {\n  counter-increment: section;\n  content: \"Section \" counter(section) \": \";\n}"
      }
    ]
  },
  {
    "id": 9,
    "title": "CSS3 Visual Effects, Animation, & Responsive Design ‚ú®",
    "icon": "Palette",
    "subsections": [
      {
        "title": "CSS3 Color Functions and Advanced Backgrounds",
        "content": "Expands on CSS color capabilities with **CSS3 Color Values**: **`rgba()`** and **`hsla()`** (including the Alpha transparency channel) and the use of the **`opacity`** property for overall element transparency. Details advanced background properties like **`background-size`** (`cover`, `contain`), **`background-origin`** (padding-box, border-box), and **`background-clip`** (content-box, text), moving beyond simple tiling. Introduces the concept of CSS **Gradients** as image values (`linear-gradient()`, `radial-gradient()`). (p. 622, 641, 644, 671, 690)",
        "codeExample": "/* Transparent background color using rgba (p. 622) */\nbackground-color: rgba(0, 0, 0, 0.7);\n\n/* Full-cover background image (p. 644) */\nbackground-size: cover;\n\n/* Gradient as a background-image value (p. 671) */\nbackground-image: linear-gradient(to right, #ccc, white);"
      },
      {
        "title": "Aesthetic Effects: Borders, Shadows, and Outlines",
        "content": "Covers the widely adopted aesthetic properties. **`border-radius`** is explained for creating rounded corners (including elliptical forms and individual corner control). **`box-shadow`** is detailed for adding depth via multiple shadows, offset, blur, spread, and color. The **`text-shadow`** property is covered for text effects. Finally, the **`outline-offset`** property is noted for controlling the spacing of an element's outline outside its border. (p. 650, 653, 656, 690, 708)",
        "codeExample": "/* Creating a pill-shaped button (p. 653) */\n.button { border-radius: 9999px; }\n\n/* Adding a drop shadow (p. 656) */\nbox-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5), inset 0 0 5px white;"
      },
      {
        "title": "CSS Transforms (2D and 3D)",
        "content": "The set of properties that enable manipulation of an element in space without affecting layout flow. Details the **`transform`** property and its functions: `translate()`, `scale()`, `rotate()`, and `skew()` for **2D Transforms**. Explains the introduction of **3D Transforms** using `translate3d()`, `rotateY()`, **`perspective`**, and **`transform-style`** for complex, layered effects. The **`transform-origin`** property for setting the point around which transforms occur is also covered. (p. 693, 712, 715)",
        "codeExample": "/* Scaling and rotating a button on hover (p. 712) */\n.btn:hover {\n  transform: scale(1.1) rotate(5deg);\n  transform-origin: center center;\n}\n\n/* Setting up a 3D context (p. 693) */\n#container { perspective: 1000px; }"
      },
      {
        "title": "CSS Transitions and Animations",
        "content": "A breakdown of the two mechanisms for temporal styling. **`transition`** is the simpler method, allowing automatic, smooth changes when a property's value is altered (e.g., on `:hover`). Covers `transition-property`, `transition-duration`, `transition-delay`, and the crucial **`transition-timing-function`** (e.g., `ease-in`, `cubic-bezier()`). **CSS Animations** are the advanced method, relying on the **`@keyframes`** rule to define specific stages (`0%` to `100%`) and the `animation` shorthand for control (duration, iteration count, direction). (p. 630-638, 717-719)",
        "codeExample": "/* Applying a 0.5s transition to the background-color (p. 717) */\n.card { transition: background-color 0.5s ease; }\n\n/* Keyframe rule (p. 630) */\n@keyframes slidein { 0% { opacity: 0; } 100% { opacity: 1; } }"
      },
      {
        "title": "Responsive Design: Media Queries and Multi-Column Layout",
        "content": "Focuses on the CSS tools that make web pages adapt to different devices. **Media Queries** are detailed for querying the viewport width, height, and device orientation (`@media screen and (max-width: 768px)`). This section also covers **Multi-Column Layout** properties: **`column-count`**, **`column-width`**, and **`column-gap`** (p. 660), providing a native way to format text into newspaper-like columns without floats. (p. 625-626)",
        "codeExample": "/* Media Query for phones (p. 625) */\n@media screen and (max-width: 480px) {\n  .sidebar { display: none; }\n  .main-content { width: 100%; }\n}\n\n/* Multi-column layout (p. 660) */\n.text-block {\n  column-count: 3;\n  column-gap: 40px;\n}"
      }
    ]
  },
  {
    "id": 10,
    "title": "Appendixes: Character Sets, URLs, & DTD Structure üóÇÔ∏è",
    "icon": "List",
    "subsections": [
      {
        "title": "Character Entities and Unicode Encoding (Appendix A)",
        "content": "A definitive reference for escaping special characters in HTML. Covers **Traditional HTML Entities** (reserved characters: `&lt;`, `&gt;`, `&amp;`) and accented characters. Provides tables for **HTML 4.x and XHTML 1.x Character Entities** (Latin Extended, Greek, Mathematical Operators, Arrows). Explains the shift to **Embracing Unicode (UTF-8)** as the preferred encoding method and the use of **Numeric Entities** (decimal and hex) for any character not having a named entity. (p. 727-748)",
        "codeExample": "\n&copy; or &#169;\n&euro; or &#8364;"
      },
      {
        "title": "Standard Fonts and Downloadable Web Fonts (Appendix B)",
        "content": "Guidance on cross-platform typography. Lists common **Fonts for Windows Platform and Browsers** and **Fonts for Macintosh System and Browsers**, including families like Arial, Times New Roman, and Verdana. Provides best practices for building **Font Stacks** (fallbacks). Details the `@font-face` rule and its use with different font formats (WOFF, EOT, TTF) for **Downloadable Fonts**, a key feature of modern CSS. (p. 751-762)",
        "codeExample": "/* Font Stack with generic fallback (p. 751) */\nfont-family: Arial, Helvetica, sans-serif;\n\n/* Web Font Declaration (p. 761) */\n@font-face {\n  font-family: 'HeadlineFont';\n  src: url('headline.woff') format('woff');\n}"
      },
      {
        "title": "HTML and CSS Color Reference (Appendix C)",
        "content": "A complete reference for color values used in both markup and style sheets. Lists the **16 Standard Color Names** (e.g., `red`, `blue`). Provides comprehensive charts of the **216 Browser-Safe Colors** (p. 779). Details how to use hexadecimal (`#RRGGBB`), RGB (`rgb(r,g,b)`), and the newer CSS3 color functions (`rgba`, `hsla`). Also includes a list of (X)HTML Elements Supporting Color via deprecated attributes (e.g., `bgcolor`). (p. 765-776)",
        "codeExample": "/* CSS Color values: Hex, RGB, Name (p. 773) */\ncolor: #ff3366; \nbackground-color: rgb(0, 128, 0); \n/* CSS3 with transparency */\nbox-shadow: 0 0 10px rgba(0, 0, 0, 0.5);"
      },
      {
        "title": "URLs and Advanced Addressing Schemes (Appendix D)",
        "content": "Breaks down the **Basic Concepts** of a URL (Uniform Resource Locator): **Protocol** (`http`, `ftp`), **Server Address**, **Directory**, **Filename**, and **Fragment Identifier** (`#anchor`). Explains the process of navigating via **Relative URLs** and the role of the **`<base>` Tag**. Introduces the **Data URIs** scheme for embedding resources directly into the document. Briefly covers the evolution to **URIs** (Uniform Resource Identifiers) and **URNs** (Uniform Resource Names). (p. 783-798)",
        "codeExample": "\n<a href=\"../images/logo.png\">Logo</a>\n\n\nbackground: url('data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEK...');"
      },
      {
        "title": "Reading a Document Type Definition (DTD) (Appendix E)",
        "content": "An advanced section explaining the syntax used to write DTDs, valuable for understanding legacy markup and XML schemas. Details **Element Type Declarations** (`<!ELEMENT>`), **Occurrence Indicators** (`?`, `*`, `+`), **Logical Connectors** (`,` for sequence, `|` for choice), and **Attribute Declarations** (`<!ATTLIST>`) including data types (e.g., `CDATA`, `ID`). Covers **Parameter Entities** for grouping common attributes. (p. 801-807)",
        "codeExample": "\n<!ELEMENT p (#PCDATA) -- Paragraph element content is text -->\n<!ATTLIST img\n  src CDATA #REQUIRED -- Image source URL\n  alt CDATA #REQUIRED -- Alternate text\n>"
      }
    ]
  }
]
  },
  backend: {
    id: 'backend',
    title: 'Backend Development',
    icon: Database,
    color: '#27AE60',
    description: 'Server-side programming',
    units: [
  {
    "id": 1,
    "title": "Node.js & NPM: Server-Side JavaScript üü¢",
    "icon": "Code",
    "subsections": [
      {
        "title": "Node.js Architecture and Event Loop",
        "content": "In-depth look at the **Node.js runtime environment** and its non-blocking, asynchronous nature. This covers the **V8 JavaScript engine** and the crucial role of the **Event Loop** in handling I/O operations efficiently using the libuv library. Understanding the single-threaded nature of Node.js and how to avoid blocking operations is essential for high performance.",
        "codeExample": "// Non-blocking Asynchronous I/O (Callback pattern)\nconst fs = require('fs');\nconsole.log('Start reading...');\nfs.readFile('/file.txt', 'utf8', (err, data) => {\n  if (err) throw err;\n  console.log('File content:', data);\n});\nconsole.log('...Waiting for file to finish.');"
      },
      {
        "title": "Core Modules and Global Objects",
        "content": "Reference for essential **Node.js core modules** used for building any backend: **`fs`** (File System), **`path`** (Path resolution), **`http`** (Low-level networking), and **`util`**. Details **Global Objects** like `process` (for environment variables and process control), `Buffer` (for binary data), and the differences between global scope and module scope (`module.exports`).",
        "codeExample": "// Using the Path and HTTP modules\nconst path = require('path');\nconst http = require('http');\n\nconst server = http.createServer((req, res) => {\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\n  res.end('Server Running');\n});"
      },
      {
        "title": "NPM/Yarn Package Management",
        "content": "Mastering the Node **Package Manager (NPM)** and its alternatives like Yarn. This section covers initializing a project (`npm init`), installing dependencies (`npm install <package>`), distinguishing between `dependencies` and `devDependencies`, and scripting basic tasks within the `package.json` file. Explains semantic versioning (SemVer) and managing package security.",
        "codeExample": "/* package.json scripts configuration */\n{\n  \"name\": \"my-app\",\n  \"scripts\": {\n    \"start\": \"node server.js\",\n    \"dev\": \"nodemon server.js\",\n    \"test\": \"jest\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.17.1\"\n  }\n}"
      },
      {
        "title": "Asynchronous Patterns: Promises and Async/Await",
        "content": "Transitioning from callback hell to modern asynchronous code. This section explains **Promises** (Pending, Fulfilled, Rejected states) and the structure of **`async`/`await`** as syntactical sugar over Promises for writing cleaner, synchronous-looking asynchronous code. Covers error handling using `.catch()` with Promises and `try...catch` blocks with `async/await`.",
        "codeExample": "// Asynchronous request using async/await\nconst axios = require('axios');\n\nasync function fetchData(url) {\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  } catch (error) {\n    console.error('Fetch failed:', error.message);\n  }\n}"
      },
      {
        "title": "Module System: CommonJS vs. ES Modules",
        "content": "A detailed comparison of Node's traditional **CommonJS** module system (`require`/`module.exports`) and the newer, browser-standard **ES Modules (ESM)** system (`import`/`export`). Discusses how to configure Node.js to use ESM (via `type: 'module'` in `package.json`) and the implications for compatibility and tooling in the MERN stack.",
        "codeExample": "/* CommonJS (default Node.js) */\nconst logger = require('./logger');\nmodule.exports = { logger };\n\n/* ES Modules (modern standard) */\nimport logger from './logger.js';\nexport { logger };"
      }
    ]
  },
  {
    "id": 2,
    "title": "Express.js: Routing and Middleware üõ£Ô∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Setting up the Express Server and Basic Routing",
        "content": "Step-by-step guide to initializing an Express application. Covers installing the framework, creating the primary server instance, and listening on a port. Details **Basic Routing** using HTTP methods (`app.get`, `app.post`) and defining the structure of the request (`req`) and response (`res`) objects. Introduces the concept of **Route Handlers**.",
        "codeExample": "const express = require('express');\nconst app = express();\nconst port = 3000;\n\napp.get('/', (req, res) => {\n  res.send('Welcome to the Express API!');\n});\n\napp.listen(port, () => console.log(`Server listening on port ${port}`));"
      },
      {
        "title": "Middleware Fundamentals and Use Cases",
        "content": "The core concept of Express: **Middleware**. Middleware functions are executed sequentially and have access to the request, response, and the next middleware function (`next`). Covers use cases like **logging**, request body parsing (JSON/URL-encoded), Cross-Origin Resource Sharing (**CORS**), and serving static files. Explains how to define and execute application-level middleware.",
        "codeExample": "// Application-level middleware for logging requests\napp.use((req, res, next) => {\n  console.log(`${req.method} ${req.url} @ ${Date.now()}`);\n  next(); // Pass control to the next handler\n});\n\n// Built-in middleware for JSON parsing\napp.use(express.json());"
      },
      {
        "title": "Router Modules and Organization",
        "content": "Best practices for organizing large Express applications using **`express.Router()`**. This involves creating modular, mountable route handlers that can be imported and mounted to specific base paths (e.g., `/api/users`, `/api/products`), promoting code separation and maintainability. Demonstrates using `app.use('/api/v1', apiRouter)`. This is essential for scaling an API.",
        "codeExample": "/* user-routes.js */\nconst router = require('express').Router();\n\nrouter.get('/', (req, res) => {\n  res.json({ message: 'User list' });\n});\n\nmodule.exports = router;"
      },
      {
        "title": "Request Handling: Params, Queries, and Body",
        "content": "Detailed instruction on accessing data submitted in an HTTP request. **Route Parameters** (`req.params`) are used for capturing path segments (e.g., `/users/:id`). **Query Strings** (`req.query`) are used for optional filtering, sorting, or pagination (e.g., `/users?limit=10`). **Request Body** (`req.body`) is used for data submission in POST/PUT requests, requiring middleware like `express.json()`. Covers input validation concepts.",
        "codeExample": "// Handling route parameters and query strings\napp.get('/products/:id', (req, res) => {\n  const productId = req.params.id;\n  const sort = req.query.sort || 'asc';\n  res.json({ id: productId, sort: sort });\n});"
      },
      {
        "title": "Response Formatting and Status Codes",
        "content": "Guidance on sending appropriate and well-structured HTTP responses. Covers core response methods like `res.send()`, `res.json()` (for structured JSON data), `res.status()` (for setting the HTTP status code), and `res.redirect()`. Emphasizes the importance of using correct **HTTP Status Codes** (e.g., 200 OK, 201 Created, 400 Bad Request, 404 Not Found) for effective API communication.",
        "codeExample": "// Sending a structured JSON response with a specific status code\napp.post('/new', (req, res) => {\n  // Assume new resource created successfully\n  const newResource = { id: 1, name: 'Item' };\n  res.status(201).json(newResource); // 201 Created\n});"
      }
    ]
  },
  {
    "id": 3,
    "title": "MongoDB: Data Modeling and Queries üçÉ",
    "icon": "List",
    "subsections": [
      {
        "title": "NoSQL Concepts and MongoDB Structure",
        "content": "Introduction to **NoSQL databases** and their key differentiators from relational databases (schemas, joins). Explains the hierarchical structure of MongoDB: **Databases**, **Collections** (analogous to tables), and **Documents** (JSON-like objects). Discusses the flexibility of the **Schema-less** nature and its advantages/disadvantages for development speed and data consistency.",
        "codeExample": "/* Example MongoDB Document Structure (BSON) */\n{\n  _id: ObjectId(\"60c72b2f9d8a59001b9e0f63\"),\n  title: \"MERN Stack Guide\",\n  author: \"Jane Doe\",\n  tags: [\"mongodb\", \"nodejs\", \"express\"],\n  createdAt: ISODate(\"2021-06-15T12:00:00Z\")\n}"
      },
      {
        "title": "Data Modeling: Embedding vs. Referencing",
        "content": "Critical discussion of **Data Modeling** strategies in MongoDB. **Embedding** involves nesting related documents (fast reads, duplicate data). **Referencing** involves linking documents via `_id` fields (similar to foreign keys, flexible updates). Provides guidelines on when to use each approach based on data cardinality (one-to-one, one-to-many, many-to-many) and access patterns (e.g., highly connected data vs. limited size data).",
        "codeExample": "/* Referencing Example: Post links to an Author */\n{\n  title: \"New Post\",\n  author: ObjectId(\"50c72b2f...\") \n}\n\n/* Embedding Example: Comments embedded in a Post */\n{\n  title: \"Post\",\n  comments: [\n    { text: \"Great!\", user: \"Bob\" },\n    // ... more comments\n  ]\n}"
      },
      {
        "title": "Basic CRUD Operations with the Shell",
        "content": "Hands-on guide to performing fundamental **CRUD (Create, Read, Update, Delete)** operations using the MongoDB shell. Covers **`db.collection.insertOne()`** and **`.insertMany()`**; powerful queries using **`.find()`** and **`.findOne()`**; updates with **`.updateOne()`** and **`.updateMany()`** (including update operators like `$set`); and deletion with **`.deleteOne()`** and **`.deleteMany()`**. Emphasis on filter objects for precise targeting.",
        "codeExample": "// MongoDB Shell Commands\n// Find documents where status is 'active' and limit to 10\ndb.users.find({ status: \"active\" }).limit(10);\n\n// Update a single document: Set role to 'admin'\ndb.users.updateOne(\n  { username: \"alice\" },\n  { $set: { role: \"admin\" } }\n);"
      },
      {
        "title": "Advanced Querying and Indexing",
        "content": "Focuses on maximizing query efficiency. Covers **Comparison Operators** (`$gt`, `$lt`), **Logical Operators** (`$and`, `$or`), and **Element/Array Operators** (`$in`, `$size`). Explains the vital role of **Indexing** in speeding up read operations, including single-field, compound, and text indexes. Provides instruction on using **`.sort()`** for ordering and **`.skip()` / `.limit()`** for pagination.",
        "codeExample": "// Advanced Query Example: Users aged 25-35 OR with role 'guest'\ndb.users.find({\n  $or: [\n    { age: { $gt: 25, $lt: 35 } },\n    { role: \"guest\" }\n  ]\n}).sort({ age: -1 });"
      },
      {
        "title": "The Aggregation Framework",
        "content": "Introduction to the powerful **Aggregation Framework**, MongoDB's pipeline for processing data records and calculating aggregated results. Details the common pipeline stages: **`$match`** (filtering), **`$group`** (grouping and calculating sums/averages with `$sum`, `$avg`), **`$project`** (reshaping documents), and **`$lookup`** (performing left outer joins, overcoming the lack of native joins).",
        "codeExample": "// Aggregation Pipeline Example: Count users by status\ndb.users.aggregate([\n  { $match: { createdAt: { $gte: ISODate(\"2023-01-01\") } } },\n  { $group: { _id: \"$status\", count: { $sum: 1 } } },\n  { $sort: { count: -1 } }\n]);"
      }
    ]
  },
  {
    "id": 4,
    "title": "RESTful API Design & Implementation ‚öôÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Principles of REST and Resource Identification",
        "content": "A definitive guide to **Representational State Transfer (REST)** architecture. Defines core principles: **Statelessness**, use of standard **HTTP Methods** (verbs), and **Uniform Interface**. Explains how to identify and name resources using clear, plural nouns in URLs (e.g., `/users`, `/products`), avoiding action-based verbs in the path.",
        "codeExample": "/* Standard RESTful Endpoints vs. Poor Design */\n\n// GOOD (Resource-based):\nGET /api/users\nPOST /api/products\n\n// BAD (Action-based):\nGET /api/getAllUsers\nPOST /api/createProduct"
      },
      {
        "title": "Mapping CRUD to HTTP Methods",
        "content": "The standard mapping of **CRUD operations to HTTP methods**: **POST** (Create, e.g., `/products`), **GET** (Read, e.g., `/products/:id`), **PUT/PATCH** (Update, e.g., `/products/:id`), and **DELETE** (Delete, e.g., `/products/:id`). Discusses the difference between **PUT** (full replacement) and **PATCH** (partial modification) and the appropriate use of idempotency.",
        "codeExample": "/* Express implementation of REST mapping */\n\n// Create (201 Created)\nrouter.post('/', controller.create);\n\n// Read Single (200 OK)\nrouter.get('/:id', controller.readOne);\n\n// Update Partial (200 OK)\nrouter.patch('/:id', controller.updatePartial);"
      },
      {
        "title": "Versioning and Pagination Strategies",
        "content": "Best practices for maintaining a scalable and stable API. Covers **API Versioning** strategies, primarily using URI Path (`/api/v1/users`) or HTTP Headers. Details **Pagination** using query parameters (`?page=1&limit=20`) and how to return pagination metadata (total count, next page URL) in the response headers or body for client consumption.",
        "codeExample": "// Example of a paginated request and response body structure\nGET /api/v1/posts?page=2&limit=10\n\n{\n  \"data\": [...10 posts],\n  \"metadata\": {\n    \"totalItems\": 100,\n    \"currentPage\": 2,\n    \"totalPages\": 10\n  }\n}"
      },
      {
        "title": "Controller/Service Layer Separation (MVC)",
        "content": "Structuring the Express application using the **Model-View-Controller (MVC)** pattern. Focuses on separating **Controllers** (handling request/response logic and calling services) from **Services/Logic Layers** (containing all business rules and database calls). This separation makes the code easier to test, maintain, and swap out underlying database technology. (Note: The Model is often handled by Mongoose).",
        "codeExample": "/* Controller function (handles HTTP) */\nexports.create = async (req, res, next) => {\n  try {\n    const user = await UserService.createUser(req.body);\n    res.status(201).json(user);\n  } catch (error) { next(error); }\n};\n\n/* Service function (handles business logic/DB) */\nclass UserService {\n  static async createUser(data) { /* DB logic here */ }\n}"
      },
      {
        "title": "OpenAPI/Swagger Documentation",
        "content": "Importance of clear **API Documentation**. Introduces **OpenAPI (formerly Swagger)** as a standard for describing RESTful APIs. Covers tools and middleware for automatically generating interactive documentation (Swagger UI) directly from code annotations or specification files, allowing frontend and backend teams to integrate seamlessly and efficiently.",
        "codeExample": "/* Example YAML snippet for API documentation */\nopenapi: 3.0.0\ninfo:\n  title: My MERN API\n  version: '1.0'\npaths:\n  /users:\n    get:\n      summary: Returns a list of users\n      responses:\n        '200':\n          description: Success"
      }
    ]
  },
  {
    "id": 5,
    "title": "Authentication and Security üîí",
    "icon": "Palette",
    "subsections": [
      {
        "title": "JSON Web Tokens (JWT) Implementation",
        "content": "Detailed instruction on implementing **Token-Based Authentication** using **JSON Web Tokens (JWTs)**. This covers the three parts of a token (Header, Payload, Signature), the process of **signing** a token on login, and **verification** middleware on subsequent requests. Discusses the advantages of JWT (statelessness) and risks (token size, expiration management).",
        "codeExample": "// Pseudocode for generating and verifying a JWT\nconst jwt = require('jsonwebtoken');\nconst token = jwt.sign({ userId: user._id }, process.env.JWT_SECRET, { expiresIn: '1h' });\n\n// Middleware to protect a route\nfunction protect(req, res, next) {\n  const token = req.headers.authorization.split(' ')[1];\n  jwt.verify(token, process.env.JWT_SECRET, (err, decoded) => {\n    if (err) return res.status(403).send('Forbidden');\n    req.user = decoded; next();\n  });\n}"
      },
      {
        "title": "Password Hashing with bcrypt",
        "content": "The essential security practice of **password hashing**. Explains why plain-text storage is dangerous and why one-way hashing algorithms are required. Covers using the **bcrypt** library to securely hash passwords during user registration and to compare hashes during login, emphasizing the importance of a sufficient **salt rounds** factor to prevent brute-force attacks.",
        "codeExample": "// Hashing a password during registration\nconst bcrypt = require('bcrypt');\nconst saltRounds = 10;\nconst hashedPassword = await bcrypt.hash('password123', saltRounds);\n\n// Comparing password during login\nconst isMatch = await bcrypt.compare('password123', user.passwordHash);"
      },
      {
        "title": "Authorization: Role-Based Access Control (RBAC)",
        "content": "Implementing **Authorization**‚Äîdetermining *what* an authenticated user is allowed to do. Covers **Role-Based Access Control (RBAC)**, where users are assigned roles (e.g., 'admin', 'editor', 'guest') and middleware checks the user's role before granting access to a resource or endpoint, ensuring proper data segregation and security.",
        "codeExample": "// Middleware for restricting access based on role\nconst restrictTo = (...roles) => {\n  return (req, res, next) => {\n    if (!roles.includes(req.user.role)) {\n      return res.status(403).send('Access denied.');\n    }\n    next();\n  };\n};\n\n// Usage in a route\nrouter.post('/', protect, restrictTo('admin'), controller.create);"
      },
      {
        "title": "Cross-Origin Resource Sharing (CORS)",
        "content": "Resolving the security constraint imposed by the browser's **Same-Origin Policy**. This section explains the need for **CORS** configuration when the frontend (React, running on port A) communicates with the backend (Express, running on port B). Covers using the `cors` middleware, configuring specific origins, methods, and credentials, and handling preflight `OPTIONS` requests.",
        "codeExample": "// Simple CORS configuration for all origins\nconst cors = require('cors');\napp.use(cors());\n\n// Configuring CORS for a specific frontend origin\napp.use(cors({\n  origin: 'http://localhost:3001',\n  methods: ['GET', 'POST', 'PATCH', 'DELETE'],\n  credentials: true\n}));"
      },
      {
        "title": "Common Security Vulnerabilities (XSS, CSRF, DDoS)",
        "content": "A high-level overview of common web security risks and mitigation strategies in Express. Covers **Cross-Site Scripting (XSS)** (mitigated by input sanitization and secure templating), **Cross-Site Request Forgery (CSRF)** (mitigated by tokens or cookie-based defenses), and basic defenses against **Denial-of-Service (DDoS)** attacks (rate limiting). Stresses the importance of using Helmet middleware for setting secure HTTP headers.",
        "codeExample": "// Using Helmet to set various security headers\nconst helmet = require('helmet');\napp.use(helmet());\n\n// Example of rate-limiting middleware\nconst rateLimit = require('express-rate-limit');\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // Limit each IP to 100 requests\n});\napp.use('/api/', limiter);"
      }
    ]
  },
  {
    "id": 6,
    "title": "Advanced Express Features & Error Handling üö¶",
    "icon": "Code",
    "subsections": [
      {
        "title": "Environment Configuration (.env)",
        "content": "The crucial practice of separating configuration from code using **Environment Variables**. Covers using the **`dotenv`** package to load variables (e.g., API keys, database URLs, JWT secrets) from a local `.env` file into `process.env`. Explains the importance of never committing `.env` files to source control (e.g., adding to `.gitignore`).",
        "codeExample": "// Loading environment variables\nrequire('dotenv').config();\n\n// Accessing a variable\nconst dbUrl = process.env.MONGO_URI;\nconst jwtSecret = process.env.JWT_SECRET;"
      },
      {
        "title": "Custom Error Handling Middleware",
        "content": "Building a robust, centralized **Error Handling System**. Explains the structure of the specialized Express error handling middleware, which must accept four arguments: `(err, req, res, next)`. Details how to catch synchronous errors using `try...catch` and pass asynchronous errors using `next(err)` to the centralized handler for consistent response formatting.",
        "codeExample": "// Centralized error handling middleware (must take 4 arguments)\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  const statusCode = err.statusCode || 500;\n  res.status(statusCode).json({\n    status: 'error',\n    message: err.message || 'Internal Server Error',\n  });\n});"
      },
      {
        "title": "Handling Not Found (404) Routes",
        "content": "Implementing a catch-all route handler for requests that don't match any preceding route definitions. This middleware must be placed **last** in the chain. It ensures that any unhandled request results in an appropriate **404 Not Found** response, preventing the server from hanging or returning ambiguous errors to the client.",
        "codeExample": "// Catch-all 404 handler (placed at the end of middleware chain)\napp.all('*', (req, res, next) => {\n  const err = new Error(`Can't find ${req.originalUrl} on this server!`);\n  err.statusCode = 404;\n  err.status = 'fail';\n  next(err); // Pass the error to the global handler\n});"
      },
      {
        "title": "File Uploads (Multer)",
        "content": "Handling multipart form data, specifically **file uploads**. Covers using the **`multer`** middleware library, configuring storage destinations (disk or memory), defining file size limits, and filtering allowed file types. Demonstrates how `multer` populates `req.file` or `req.files` with metadata for processing the uploaded content.",
        "codeExample": "const multer = require('multer');\nconst upload = multer({ dest: 'uploads/' });\n\n// Route for single file upload\nrouter.post('/upload', upload.single('photo'), (req, res) => {\n  console.log(req.file); // File metadata\n  res.send('File uploaded successfully');\n});"
      },
      {
        "title": "Input Validation and Sanitization (Joi)",
        "content": "Implementing robust server-side validation using schema-based libraries like **Joi**. Covers defining data schemas (e.g., a username must be a string, minimum 3 characters, required) and integrating the validation step as middleware before the controller logic executes. Also discusses basic **Sanitization** (e.g., using `express-mongo-sanitize`) to prevent injection attacks.",
        "codeExample": "// Joi validation schema and middleware setup\nconst Joi = require('joi');\n\nconst userSchema = Joi.object({\n  username: Joi.string().min(3).required(),\n  email: Joi.string().email().required(),\n  password: Joi.string().min(8).required()\n});\n\nconst validateUser = (req, res, next) => {\n  const { error } = userSchema.validate(req.body);\n  if (error) {\n    return res.status(400).json({ message: error.details[0].message });\n  }\n  next();\n};\n\nrouter.post('/users', validateUser, controller.create);"
      }
    ]
  },
  {
    "id": 7,
    "title": "Database Integration with Mongoose üêò",
    "icon": "List",
    "subsections": [
      {
        "title": "Mongoose Setup and Connection Management",
        "content": "Introduction to **Mongoose**, the object data modeling (ODM) library for MongoDB and Node.js. Covers installation, defining the **connection string** (URI), and handling the connection lifecycle (`mongoose.connect()`, `on('error')`, `on('disconnected')`). Emphasizes best practices for secure connection management using environment variables.",
        "codeExample": "// Mongoose connection setup\nconst mongoose = require('mongoose');\n\nconst connectDB = async () => {\n  try {\n    await mongoose.connect(process.env.MONGO_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    });\n    console.log('MongoDB Connected...');\n  } catch (err) {\n    console.error(err.message); process.exit(1);\n  }\n};\nconnectDB();"
      },
      {
        "title": "Defining Schemas and Models",
        "content": "The core of Mongoose: defining a structured **Schema** to enforce data shape and types (String, Number, Date, Boolean, ObjectId). Covers defining validation rules (required, minlength, enum), default values, and custom validators within the schema definition. The schema is then compiled into a **Model** (e.g., `User`, `Product`) which provides the interface for database operations.",
        "codeExample": "const userSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    required: [true, 'Username is required'],\n    unique: true,\n    trim: true\n  },\n  email: {\n    type: String,\n    required: true,\n    lowercase: true,\n  },\n  role: {\n    type: String,\n    enum: ['user', 'admin'],\n    default: 'user'\n  }\n});\nconst User = mongoose.model('User', userSchema);"
      },
      {
        "title": "Mongoose CRUD Operations and Queries",
        "content": "Implementing CRUD using Mongoose methods on the Model. Covers **`.create()`** (Insert), **`.find()`** and **`.findOne()`** (Read), **`.findByIdAndUpdate()`** (Update), and **`.deleteMany()`** (Delete). Details the difference between executing a query immediately and building a **Query Object** (`.find().where('age').gt(20)`), allowing for method chaining.",
        "codeExample": "// Mongoose CRUD Operations\n\n// Create a new document\nconst newUser = await User.create({ username: 'testuser' });\n\n// Find users where role is 'admin' and select only username\nconst admins = await User.find({ role: 'admin' }).select('username');\n\n// Update by ID and return the new document\nconst updatedUser = await User.findByIdAndUpdate(\n  id, \n  { $set: { email: 'new@email.com' } }, \n  { new: true }\n);"
      },
      {
        "title": "Virtuals, Methods, and Pre/Post Hooks",
        "content": "Advanced Mongoose features for enhancing models. **Virtuals** are fields that don't persist to MongoDB but are dynamically computed (e.g., a `fullName` virtual). **Instance Methods** and **Static Methods** allow attaching reusable business logic to instances or the Model itself. **Pre/Post Hooks (Middleware)** are functions that execute before or after a specific operation (e.g., hashing a password `pre('save')`).",
        "codeExample": "// Defining a Virtual property\nuserSchema.virtual('fullName').get(function() {\n  return `${this.firstName} ${this.lastName}`;\n});\n\n// Defining a Pre-Save Hook for password hashing\nuserSchema.pre('save', async function(next) {\n  if (!this.isModified('password')) return next();\n  this.password = await bcrypt.hash(this.password, 12);\n  next();\n});"
      },
      {
        "title": "Population and Denormalization",
        "content": "Handling relationships between Mongoose models. **Population** (`.populate()`) is Mongoose's powerful feature for retrieving referenced documents from other collections, effectively performing a join. Discusses strategies for managing complex relationships, including array references and how to selectively **Denormalize** (embed) critical, non-changing data for performance (e.g., embedding a user's ID and username on every post).",
        "codeExample": "// Population Example: Retrieving the author document for a post\nconst post = await Post.findOne({ title: 'MongoDB Intro' })\n  .populate('author', 'username email -_id') // Populate 'author' field, selecting specific fields\n  .exec();"
      }
    ]
  },
  {
    "id": 8,
    "title": "Testing and Deployment Strategies üöÄ",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Unit Testing with Jest/Mocha",
        "content": "Best practices for **Unit Testing** individual components (e.g., service functions, utility classes) using popular frameworks like **Jest** or **Mocha**. Covers writing test cases (`it`/`test`), assertions (`expect`), and setting up basic test environments. Emphasizes the importance of writing tests that are independent and fast.",
        "codeExample": "// Simple unit test with Jest\ndescribe('User Service', () => {\n  it('should create a new user object', () => {\n    const user = UserService.create({ name: 'Bob' });\n    expect(user).toHaveProperty('name', 'Bob');\n  });\n});"
      },
      {
        "title": "Integration Testing and Mocking",
        "content": "Testing the interaction between multiple components, such as a controller and a service layer, or testing the entire API route. Covers using tools like **Supertest** to make actual HTTP requests against the Express application. Explains **Mocking** techniques to isolate the database layer (e.g., mocking Mongoose calls) and external API calls, ensuring tests are deterministic and fast.",
        "codeExample": "// Integration test using Supertest\nconst request = require('supertest');\nconst app = require('../server');\n\ndescribe('GET /api/users', () => {\n  it('should return 200 and a list of users', async () => {\n    const res = await request(app).get('/api/users');\n    expect(res.statusCode).toBe(200);\n    expect(res.body).toBeInstanceOf(Array);\n  });\n});"
      },
      {
        "title": "Pre-Deployment Setup and Environment Variables",
        "content": "Checklist for preparing the backend for production. Covers finalizing the **`package.json`** scripts, setting up **production-specific environment variables** (e.g., hardening secrets, using a production database URI), and configuring logging levels. Emphasizes minimizing dependencies and ensuring that static assets are correctly built or referenced.",
        "codeExample": "/* package.json production script */\n{\n  \"scripts\": {\n    \"start\": \"NODE_ENV=production node server.js\",\n    \"build\": \"npm install --production\"\n  }\n}"
      },
      {
        "title": "Containerization (Docker)",
        "content": "Introduction to **Docker** for packaging the Node.js application and its dependencies into a consistent, portable unit. Covers writing a simple **`Dockerfile`** to define the build process (base image, copying files, installing dependencies, exposed port) and using Docker Compose to orchestrate the application container with a separate MongoDB container.",
        "codeExample": "/* Simple Node.js Dockerfile */\nFROM node:18-alpine\nWORKDIR /usr/src/app\nCOPY package*.json ./\nRUN npm install --production\nCOPY . .\nEXPOSE 3000\nCMD [ \"node\", \"server.js\" ]"
      },
      {
        "title": "Cloud Deployment (Heroku/Render/AWS)",
        "content": "Overview of common cloud hosting solutions for Node.js backends. Covers deployment strategies for platforms like **Heroku**, **Render**, or **AWS (EC2/Elastic Beanstalk)**. Focuses on connecting the production environment to a managed MongoDB service (e.g., MongoDB Atlas) and configuring environment variables and process managers (like PM2 or built-in service workers) for high availability.",
        "codeExample": "// PM2 (Process Manager) script example for clustering\nmodule.exports = {\n  apps : [{\n    name: \"mern-api\",\n    script: \"server.js\",\n    instances: \"max\", // Use max available CPU cores\n    exec_mode: \"cluster\",\n    env_production: { NODE_ENV: \"production\" }\n  }]\n};"
      }
    ]
  },
  {
    "id": 9,
    "title": "Real-time Communication (Sockets) üí¨",
    "icon": "Code",
    "subsections": [
      {
        "title": "Introduction to WebSockets vs. HTTP Polling",
        "content": "Explaining the limitations of traditional REST/HTTP (client-initiated, stateless) for real-time applications. Introduces the **WebSocket protocol** as a full-duplex, persistent connection for bi-directional communication. Contrasts WebSockets with older techniques like **Short/Long Polling** and discusses scenarios where real-time is necessary (chat, notifications, live data).",
        "codeExample": "/* Conceptual difference */\n\n// HTTP Polling: Client requests data periodically (high latency, high overhead)\nClient --[GET]--> Server (Wait)\nClient <--[Data]-- Server\n\n// WebSocket: Server pushes data instantly (low latency, persistent)\nClient <--> Server (Single, open connection)"
      },
      {
        "title": "Setting up Socket.IO with Node.js/Express",
        "content": "The practical implementation of real-time communication using **Socket.IO**. Covers installing the library and integrating the Socket.IO server with the existing Express HTTP server instance. Explains the concept of a client **'connection'** and a server **'listener'** for basic event handling.",
        "codeExample": "// Integrating Socket.IO with Express\nconst http = require('http');\nconst { Server } = require('socket.io');\n\nconst server = http.createServer(app);\nconst io = new Server(server, { cors: { origin: '*' } });\n\nio.on('connection', (socket) => {\n  console.log('A user connected');\n  socket.on('disconnect', () => {\n    console.log('User disconnected');\n  });\n});"
      },
      {
        "title": "Emitting and Broadcasting Events",
        "content": "Mastering the two core communication patterns in Socket.IO. **Emitting** (`socket.emit`) is sending a message back to the sender only. **Broadcasting** (`socket.broadcast.emit` or `io.emit`) is sending messages to all connected clients or all clients *except* the sender. Covers sending custom data payloads and defining custom event names.",
        "codeExample": "// Emitting and Broadcasting examples\n\nio.on('connection', (socket) => {\n  // Send to the client that just connected\n  socket.emit('welcome', 'You are connected!');\n\n  // Send to all clients except the sender\n  socket.broadcast.emit('user joined', socket.id);\n\n  // Send to ALL connected clients\n  io.emit('online count', io.engine.clientsCount);\n});"
      },
      {
        "title": "Rooms and Namespaces",
        "content": "Structuring complex real-time applications. **Rooms** allow developers to group subsets of connected sockets (e.g., all users in a specific chat room or playing a specific game session) and send targeted broadcasts. **Namespaces** allow separating concerns by creating different endpoints for different functionalities (e.g., `/chat` vs. `/admin`).",
        "codeExample": "// Joining and sending to a specific room\nio.on('connection', (socket) => {\n  socket.on('join room', (roomId) => {\n    socket.join(roomId);\n    io.to(roomId).emit('message', `Joined room ${roomId}`);\n  });\n});"
      },
      {
        "title": "Scaling Socket.IO (Redis Adapter)",
        "content": "Addressing the challenge of horizontal scaling for real-time applications. Explains how the default in-memory storage of connected sockets breaks when multiple Node.js instances are used (load balancing). Covers using the **Redis Adapter** to allow multiple server instances to communicate and share state across the cluster, ensuring that broadcasts reach all clients regardless of which server they are connected to.",
        "codeExample": "// Using the Redis adapter for scaling\nconst { createAdapter } = require('@socket.io/redis-adapter');\nconst redis = require('redis');\n\nconst pubClient = redis.createClient();\nconst subClient = pubClient.duplicate();\n\nio.adapter(createAdapter(pubClient, subClient));"
      }
    ]
  },
  {
    "id": 10,
    "title": "DevOps and Performance Optimization üìà",
    "icon": "List",
    "subsections": [
      {
        "title": "Process Management (PM2)",
        "content": "Ensuring high availability and reliability for the production server. Details using **PM2 (Process Manager 2)** to daemonize the Node.js process (keep it running forever), automatically restart it upon failure, and use its **Cluster Mode** to fork the application across all available CPU cores, dramatically improving concurrency and performance.",
        "codeExample": "// PM2 CLI commands\npm2 start server.js --name \"mern-app\"\npm2 scale mern-app 4          // Run 4 instances\npm2 status"
      },
      {
        "title": "Logging and Monitoring",
        "content": "Implementing structured and efficient logging for debugging and auditing. Covers using dedicated libraries like **Winston** or **Pino** instead of simple `console.log()`. Discusses logging levels (debug, info, warn, error) and directing logs to files or external monitoring services for aggregation and real-time analysis.",
        "codeExample": "// Winston logger configuration\nconst winston = require('winston');\n\nconst logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.json(),\n  transports: [\n    new winston.transports.Console(),\n    new winston.transports.File({ filename: 'error.log', level: 'error' }),\n  ],\n});"
      },
      {
        "title": "Caching Strategies (Redis/Memory)",
        "content": "Improving API response times and reducing database load through **Caching**. Covers implementing an in-memory cache for frequently requested static data. Explores using **Redis** as a distributed, persistent cache layer for storing JSON responses, user sessions, and rate-limiting data, which is essential for scaling across multiple servers.",
        "codeExample": "// Pseudocode for response caching with Redis\nconst cacheKey = req.originalUrl;\nconst cachedData = await redisClient.get(cacheKey);\n\nif (cachedData) {\n  return res.json(JSON.parse(cachedData));\n}\n\n// ... Fetch data from DB ...\nawait redisClient.set(cacheKey, JSON.stringify(data), 'EX', 3600); // 1-hour expiration\nres.json(data);"
      },
      {
        "title": "Gzip Compression and Performance Audits",
        "content": "Optimizing network transfer efficiency. Covers using the **`compression`** middleware in Express to enable **Gzip Compression** for all text-based responses (JSON, HTML, CSS), significantly reducing payload size. Discusses basic **Performance Audits** and profiling tools built into Node.js to identify CPU bottlenecks and memory leaks.",
        "codeExample": "// Enabling Gzip compression for all responses\nconst compression = require('compression');\napp.use(compression());\n\n// Performance audit goal (Conceptual)\n// Response Time: < 100ms\n// Payload Size: Reduced by > 70% with Gzip"
      },
      {
        "title": "Continuous Integration/Continuous Deployment (CI/CD)",
        "content": "Automating the software delivery process. Introduction to **CI/CD** pipelines using tools like **GitHub Actions** or **Jenkins**. Covers the steps: automated testing (CI), building the Docker image, and automatically deploying (CD) the new image to the cloud platform (e.g., Heroku, Kubernetes) upon successful code merge to the main branch.",
        "codeExample": "/* Conceptual step in a GitHub Actions workflow file */\n- name: Run Jest Tests\n  run: npm run test\n\n- name: Build and Push Docker Image\n  uses: docker/build-push-action@v2"
      }
    ]
  }
]
  },
  react: {
    id: 'react',
    title: 'React Development',
    icon: BookOpen,
    color: '#61DAFB',
    description: 'Modern React',
    units: [
  {
    "id": 1,
    "title": "Core Concepts: Components, JSX, and Props üèóÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "React Architecture and Virtual DOM",
        "content": "In-depth explanation of the **React Component-Based Architecture** and the role of the **Virtual DOM (VDOM)**. Details how React performs reconciliation: diffing the new VDOM tree against the old one and applying only necessary updates to the actual DOM. Understanding this process, particularly batching and fiber architecture (if appropriate for the assumed context), is key to performance.",
        "codeExample": "// Conceptual representation of a VDOM node\nconst vdomElement = {\n  type: 'div',\n  props: { className: 'container' },\n  children: ['Hello']\n};\n\n// How React sees and manages updates (Conceptual)\nReactDOM.render(<App />, document.getElementById('root'));"
      },
      {
        "title": "JSX Syntax and Element Creation",
        "content": "Mastering **JSX (JavaScript XML)**, the syntactic sugar that allows writing HTML-like structures within JavaScript. Covers key rules: **single root element**, embedding JavaScript expressions using curly braces (`{}`), and necessary attribute transformations (**`className`** instead of `class`, **camelCase** for attributes). Shows how JSX is compiled down to **`React.createElement()`** calls.",
        "codeExample": "// JSX with expression embedding and class/style conversion\nfunction Greeting({ name, isActive }) {\n  return (\n    <div className='card' style={{ backgroundColor: isActive ? 'lightblue' : 'white' }}>\n      <h1>Hello, {name.toUpperCase()}!</h1>\n    </div>\n  );\n}"
      },
      {
        "title": "Props: Component Communication and Immutability",
        "content": "Detailed exploration of **Props** (properties) as the fundamental mechanism for **one-way data flow** (parent-to-child communication). Emphasizes the **immutability** of props within the child component. Covers **destructuring props**, passing functions as props (callbacks), and using **`children`** prop for composition (e.g., in layout components).",
        "codeExample": "// Using props and the special 'children' prop\nfunction Card({ title, children }) {\n  return (\n    <div className='card'>\n      <h2>{title}</h2>\n      {children}\n      <button onClick={props.onAction}>Click</button>\n    </div>\n  );\n}\n\n// Usage in Parent\n<Card title=\"My Item\" onAction={handleClick}>\n  <p>This is the child content.</p>\n</Card>"
      },
      {
        "title": "Component Composition vs. Inheritance",
        "content": "React's preference for **Composition** (combining small components) over traditional object-oriented **Inheritance**. Covers patterns like **Container/Presentational components** (a historic but useful separation of logic and UI), using **Higher-Order Components (HOCs)** for logic reuse, and **Render Props** for flexible component sharing.",
        "codeExample": "// HOC example: adds loading state logic to any component\nconst withLoading = (Component) => ({ isLoading, ...props }) => {\n  if (isLoading) return <div>Loading...</div>;\n  return <Component {...props} />;\n};\n\n// Usage\nconst UserListWithLoading = withLoading(UserList);"
      },
      {
        "title": "Conditional Rendering and List Rendering",
        "content": "Techniques for dynamically changing component output. Covers **Conditional Rendering** using JavaScript expressions (`&&` operator), ternary operators (`? :`), and conditional return statements. Details **List Rendering** using the **`map()`** function and the critical importance of providing a unique, stable **`key`** prop for each element in the list to help React's VDOM diffing algorithm identify changes efficiently.",
        "codeExample": "// Conditional and List Rendering\nfunction ItemsList({ items }) {\n  return (\n    <ul>\n      {items.length > 0 ? (\n        items.map(item => (\n          <li key={item.id}>\n            {item.name} {item.isNew && <span className=\"new-tag\">NEW</span>}\n          </li>\n        ))\n      ) : (\n        <li>No items found.</li>\n      )}\n    </ul>\n  );\n}"
      }
    ]
  },
  {
    "id": 2,
    "title": "Functional Components & Essential Hooks (State, Effects) ‚ú®",
    "icon": "Code",
    "subsections": [
      {
        "title": "Functional Components vs. Class Components (The Shift)",
        "content": "Detailed explanation of the shift from legacy **Class Components** (relying on lifecycle methods like `componentDidMount`, `render`, `this`) to modern **Functional Components** (simple JavaScript functions). Highlights the advantages of functional components: better readability, easier testing, and simplified state management via **Hooks**, which encapsulate state and logic.",
        "codeExample": "// Functional component is a simple function\nfunction Timer() {\n  return <div>Time Elapsed: 0s</div>;\n}\n\n// Class Component (Legacy)\nclass TimerClass extends React.Component {\n  render() {\n    return <div>Time Elapsed: 0s</div>;\n  }\n}"
      },
      {
        "title": "The `useState` Hook and State Immutability",
        "content": "Mastering the **`useState` Hook** for adding local state to functional components. Covers destructuring the hook's return value (`[state, setState]`) and passing initial state (primitive or function for lazy initialization). **Crucially emphasizes state immutability**: always update state by creating a *new* object or array instance, never by directly mutating the previous state value.",
        "codeExample": "// Correct state update (Immutability)\nconst [user, setUser] = useState({ name: 'Alice', age: 30 });\n\nconst incrementAge = () => {\n  // Creates a new object, preserving existing properties\n  setUser(prevUser => ({ ...prevUser, age: prevUser.age + 1 }));\n};\n\n// Incorrect (Direct Mutation)\n// user.age = user.age + 1; // Fails to trigger re-render"
      },
      {
        "title": "The `useEffect` Hook: Setup, Cleanup, and Dependencies",
        "content": "The **`useEffect` Hook** for handling side effects (data fetching, subscriptions, DOM manipulation). Details the three main forms: **Mounting Only** (empty dependency array `[]`), **Run on Every Render** (no array), and **Run on Dependency Change** (array with variables). Explains the importance of returning a **Cleanup Function** to prevent memory leaks and unnecessary operations (e.g., unsubscribing from a WebSocket or clearing a timer).",
        "codeExample": "// useEffect with setup and cleanup for a timer\nuseEffect(() => {\n  const timerId = setInterval(() => {\n    console.log('Tick');\n  }, 1000);\n\n  // Cleanup function runs before unmount and before re-running the effect\n  return () => clearInterval(timerId);\n}, []); // Empty array runs only once on mount\n\n// useEffect dependent on a prop\nuseEffect(() => {\n  document.title = `Chatting with ${props.friendId}`;\n}, [props.friendId]); // Re-runs when props.friendId changes"
      },
      {
        "title": "Custom Hooks: Logic Reusability",
        "content": "Developing **Custom Hooks** as functions beginning with **`use`** (e.g., `useToggle`, `useFetch`). This is the primary pattern for reusing stateful logic across multiple components, adhering to the principle of **Don't Repeat Yourself (DRY)**. Covers the rule: Custom Hooks must only call other Hooks and are critical for simplifying complex functional components by abstracting non-UI logic.",
        "codeExample": "// Custom Hook to manage boolean state\nfunction useToggle(initialValue = false) {\n  const [value, setValue] = useState(initialValue);\n  const toggle = useCallback(() => {\n    setValue(v => !v);\n  }, []);\n  return [value, toggle];\n}\n\n// Usage in component\nconst [isDarkMode, toggleDarkMode] = useToggle(false);"
      },
      {
        "title": "Rules of Hooks and ESLint Integration",
        "content": "Strict enforcement of the **Rules of Hooks**: **1. Only call Hooks at the top level** (no loops, conditions, or nested functions); **2. Only call Hooks from React functions** (Functional Components or Custom Hooks). Explains how the **React ESLint Plugin** (`eslint-plugin-react-hooks`) automatically enforces these rules, preventing subtle bugs related to inconsistent Hook call order between renders.",
        "codeExample": "// INCORRECT HOOK USAGE (Violates Rule 1)\nfunction BadComponent({ user }) {\n  if (user) {\n    // HOOK CALLED CONDITIONALLY - DANGER!\n    const [count, setCount] = useState(0);\n  }\n  return <div>...</div>;\n}\n\n// CORRECT HOOK USAGE\nfunction GoodComponent({ user }) {\n  // HOOKS MUST BE DECLARED FIRST\n  const [count, setCount] = useState(0);\n  // ... rest of logic\n}"
      }
    ]
  },
  {
    "id": 3,
    "title": "Advanced Hooks and Component Optimization üß†",
    "icon": "Code",
    "subsections": [
      {
        "title": "The `useMemo` Hook for Value Caching",
        "content": "Using **`useMemo`** to optimize expensive calculations by **memoizing** the result (caching the value) until a dependency changes. Covers when to use `useMemo` (e.g., filtering large lists, complex formatting) versus when it's unnecessary (simple math), ensuring the performance gain from avoiding recalculation outweighs the overhead of the Hook itself.",
        "codeExample": "// useMemo to avoid recalculating filtered list on every render\nconst filteredList = useMemo(() => {\n  console.log('Recalculating Filtered List...');\n  return items.filter(item => item.price > minPrice);\n}, [items, minPrice]); // Only re-runs if items or minPrice changes\n\nreturn <div>Total items: {filteredList.length}</div>;"
      },
      {
        "title": "The `useCallback` Hook for Function Caching",
        "content": "Using **`useCallback`** to memoize a function definition itself. This is primarily used to prevent unnecessary re-renders in optimized child components (components wrapped in `React.memo`) that receive the function as a prop, as JavaScript sees a new function on every render by default. Explains its key role in performance and stability.",
        "codeExample": "// useCallback memoizes the function definition\nconst handleSubmit = useCallback((event) => {\n  event.preventDefault();\n  submitData(name, email); // submitData is stable\n}, [name, email]); // Dependencies define when the function is recreated\n\n// Passing to a memoized child component\n<MemoizedForm onSubmit={handleSubmit} />"
      },
      {
        "title": "The `useRef` Hook for Direct Access and Identity",
        "content": "Exploring **`useRef`** for two primary purposes: **1. Storing Mutable Values** that persist across renders without causing a re-render (e.g., storing a timer ID). **2. Accessing a DOM Element or Component Instance** directly (e.g., focusing an input, measuring element size). Emphasizes that `useRef` provides the **identity** of an object (the object itself remains stable across renders).",
        "codeExample": "// useRef for DOM access and focusing an input\nconst inputRef = useRef(null);\n\nuseEffect(() => {\n  if (inputRef.current) {\n    inputRef.current.focus(); // Direct DOM manipulation\n  }\n}, []);\n\n// useRef for storing a mutable value (not triggering re-render)\nconst counterRef = useRef(0);\ncounterRef.current = counterRef.current + 1;"
      },
      {
        "title": "The `useReducer` Hook for Complex State Transitions",
        "content": "Using **`useReducer`** as an alternative to `useState` for state management, particularly effective for complex state logic involving multiple sub-values or when the next state depends on the previous one. Covers defining the **Reducer Function** (`(state, action) => newState`) and dispatching action objects (`dispatch({ type: 'ADD_ITEM', payload: data })`) for explicit state transitions.",
        "codeExample": "// Reducer function for handling explicit actions\nconst shoppingCartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_ITEM': return { ...state, items: [...state.items, action.payload] };\n    case 'REMOVE_ITEM': return { ...state, items: state.items.filter(i => i.id !== action.payload) };\n    default: throw new Error();\n  }\n};\n\n// Component usage\nconst [cartState, dispatch] = useReducer(shoppingCartReducer, { items: [], total: 0 });"
      },
      {
        "title": "Component Optimization: `React.memo` and `useCallback` Synergy",
        "content": "Implementing **`React.memo`** (Higher-Order Component) to prevent a functional component from re-rendering if its props are the same as the previous render (Shallow Comparison). Details the crucial synergy with **`useCallback`** and **`useMemo`**: memoized functions/objects must be passed to `React.memo`-wrapped components to ensure the props comparison (`prevProps === nextProps`) returns `true` when intended, preventing unnecessary churn.",
        "codeExample": "// Memoizing the child component to prevent unnecessary re-renders\nconst Button = React.memo(({ onClick, label }) => {\n  console.log('Button rendered');\n  return <button onClick={onClick}>{label}</button>;\n});\n\n// Parent component must use useCallback for onClick:\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  // If handleSubmit is not wrapped, Button always re-renders!\n  const handleClick = useCallback(() => setCount(c => c + 1), []);\n  return <Button onClick={handleClick} label=\"Add\" />;\n}"
      }
    ]
  },
  {
    "id": 4,
    "title": "State Management: Context API and Reducers üîÑ",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Problem of Prop Drilling",
        "content": "Identifying and solving **Prop Drilling**‚Äîthe anti-pattern of passing props manually through multiple component layers when the data is only needed by a deeply nested component. Explains why prop drilling increases coupling and decreases maintainability, setting the context for centralized state solutions like the Context API.",
        "codeExample": "// Example of Prop Drilling (Data passed through unnecessary layers)\n<App>\n  <Layout username={user.name}>\n    <Sidebar username={user.name}>\n      <ProfileInfo username={user.name} />\n    </Sidebar>\n  </Layout>\n</App>"
      },
      {
        "title": "Context API: Creation and Consumption",
        "content": "Mastering the **Context API** for efficient global state sharing. Covers the two main parts: **`React.createContext()`** for creating the context object (with a default value) and the **Provider Component** (`<MyContext.Provider value={...}>`) for setting the value. Details consumption via the **`useContext` Hook** in functional components for direct, efficient access to the shared value.",
        "codeExample": "// 1. Create Context\nconst ThemeContext = React.createContext('light');\n\n// 2. Provide Context (Parent)\nfunction App() {\n  return (\n    <ThemeContext.Provider value=\"dark\">\n      <Toolbar />\n    </ThemeContext.Provider>\n  );\n}\n\n// 3. Consume Context (Child)\nfunction Button() {\n  const theme = useContext(ThemeContext);\n  return <button className={theme}>Click Me</button>;\n}"
      },
      {
        "title": "Scaling Context with Multiple Providers",
        "content": "Strategies for structuring large applications by avoiding a single monolithic context. Covers the benefits of creating **multiple, smaller contexts** (e.g., `UserContext`, `ThemeContext`, `CartContext`) to logically separate concerns and prevent excessive component re-renders (a component only re-renders if the context *it* consumes changes). Details the pattern of combining providers in a single `AppProvider` wrapper component.",
        "codeExample": "// Combining multiple providers into a single wrapper\nfunction AppProviders({ children }) {\n  return (\n    <ThemeContext.Provider value={themeValue}>\n      <UserContext.Provider value={userValue}>\n        {children}\n      </UserContext.Provider>\n    </ThemeContext.Provider>\n  );\n}"
      },
      {
        "title": "The `useReducer` + `useContext` Pattern (Global Store)",
        "content": "Implementing a mini-Redux-like global store using the combination of **`useReducer`** (for complex state logic and explicit actions) and **`useContext`** (for dependency injection). Covers separating the dispatch function and the state value into two separate contexts to allow components to consume only what they need (preventing re-renders for components that only dispatch actions).",
        "codeExample": "// Combining useReducer and useContext for global state\nfunction StoreProvider({ children }) {\n  const [state, dispatch] = useReducer(mainReducer, initialState);\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}"
      },
      {
        "title": "Introduction to Redux Toolkit and State Slicing",
        "content": "For enterprise-level applications: a conceptual overview of **Redux Toolkit (RTK)**. Covers its benefits (reduced boilerplate, immutability built-in via Immer). Focuses on **State Slicing** (`createSlice`) to organize Redux state by feature and the use of **Redux Thunks** or **Redux Saga** (conceptual) for handling complex asynchronous logic and side effects outside of components.",
        "codeExample": "// Redux Toolkit createSlice example\nimport { createSlice } from '@reduxjs/toolkit';\n\nconst counterSlice = createSlice({\n  name: 'counter',\n  initialState: { value: 0 },\n  reducers: {\n    increment: state => { state.value += 1; },\n    decrement: state => { state.value -= 1; },\n  },\n});\n\nexport const { increment, decrement } = counterSlice.actions;"
      }
    ]
  },
  {
    "id": 5,
    "title": "React Router: SPA Navigation and Routing üõ£Ô∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Single Page Application (SPA) vs. Multi-Page Application (MPA)",
        "content": "Defining the core difference between **SPA** (client-side routing, one HTML file) and **MPA** (server-side rendering, multiple HTML files). Explains why React is primarily used for SPAs and how libraries like **React Router** emulate server-side navigation to create a seamless user experience by manipulating the browser's history API.",
        "codeExample": "/* Conceptual difference: */\n// SPA Navigation: window.history.pushState()\n// MPA Navigation: Full page reload (Server Request)"
      },
      {
        "title": "Basic Routing: `<BrowserRouter>`, `<Routes>`, and `<Route>`",
        "content": "Setting up the foundational structure of React Router (v6). Covers wrapping the application in **`<BrowserRouter>`** (or `HashRouter`). Details defining the routing structure using **`<Routes>`** and mapping specific paths to components using **`<Route path=\"/path\" element={<Component />} />`**. Explains how React Router uses a scoring algorithm to match the best route.",
        "codeExample": "// Basic Route setup using React Router v6\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"/about\" element={<AboutPage />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}"
      },
      {
        "title": "Navigating: `<Link>`, `useNavigate`, and Dynamic Params",
        "content": "Methods for programmatic and declarative navigation. Covers the declarative **`<Link to=\"/path\">`** component for standard navigation. Details the imperative **`useNavigate` Hook** for navigation within event handlers or conditional logic. Focuses on setting up **Dynamic Route Parameters** (`:id`) and accessing them via the **`useParams` Hook**.",
        "codeExample": "// Dynamic routes and programmatic navigation\nimport { useNavigate, useParams, Link } from 'react-router-dom';\n\n// Accessing parameters\nfunction UserProfile() {\n  const { userId } = useParams();\n  return <h1>User ID: {userId}</h1>;\n}\n\n// Programmatic navigation\nfunction Dashboard() {\n  const navigate = useNavigate();\n  const goToSettings = () => navigate('/settings');\n  return <button onClick={goToSettings}>Go</button>;\n}"
      },
      {
        "title": "Nested Routing and Layouts",
        "content": "Implementing complex UI structures using **Nested Routes**. Covers defining a parent route with child routes (e.g., `/dashboard/*`). Details using the **`<Outlet />`** component within the parent component to render the matching child route's element, allowing for common persistent layouts (Sidebar, Header) across a section of the application.",
        "codeExample": "// Parent Layout Route\n<Route path=\"/dashboard\" element={<DashboardLayout />}>\n  {/* Renders inside the DashboardLayout's <Outlet /> */}\n  <Route path=\"profile\" element={<UserProfile />} />\n  <Route path=\"settings\" element={<UserSettings />} />\n  {/* Index route for the base path */}\n  <Route index element={<DashboardHome />} />\n</Route>"
      },
      {
        "title": "Protected Routes and URL Search Parameters",
        "content": "Implementing **Protected Routes** using wrapper components or middleware logic to conditionally render a component (if authenticated) or redirect to a login page. Covers managing **URL Search Parameters** (`?sort=asc&page=2`) using the **`useSearchParams` Hook** for filtering and pagination state, emphasizing reading and setting parameters without full page reloads.",
        "codeExample": "// Protected Route Component\nfunction PrivateRoute({ element }) {\n  const { isAuthenticated } = useAuth();\n  return isAuthenticated ? element : <Navigate to=\"/login\" replace />;\n}\n\n// Accessing and setting URL search params\nfunction Products() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const page = searchParams.get('page') || 1;\n  const setPage = (p) => setSearchParams({ page: p });\n  // ... fetch data based on 'page'\n}"
      }
    ]
  },
  {
    "id": 6,
    "title": "Styling Methodologies and Component Libraries üé®",
    "icon": "Palette",
    "subsections": [
      {
        "title": "CSS Modules for Component Isolation",
        "content": "Mastering **CSS Modules** (file names ending in `.module.css`) as a solution for scope isolation, eliminating global style pollution and naming collisions. Covers importing the styles object and accessing class names (which are automatically hashed and unique) in JSX, ensuring styles are component-specific by default.",
        "codeExample": "// 1. Component.module.css:\n// .header { color: blue; }\n\n// 2. Component.js:\nimport styles from './Component.module.css';\n\nfunction MyComponent() {\n  // Accessing the hashed class name\n  return <h1 className={styles.header}>Title</h1>;\n}"
      },
      {
        "title": "Styled-Components (CSS-in-JS)",
        "content": "Deep dive into **Styled-Components**, a popular CSS-in-JS library. Covers defining styles using **tagged template literals** to create true React components with scoped styles. Details dynamic styling based on props, extending styles, and handling global or keyframe styles, emphasizing runtime compilation benefits.",
        "codeExample": "// Styled-Components definition and dynamic styling\nimport styled from 'styled-components';\n\n// Define a styled component\nconst Button = styled.button`\n  background: ${props => props.primary ? 'palevioletred' : 'white'};\n  color: ${props => props.primary ? 'white' : 'palevioletred'};\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n`;\n\n// Usage in component\n<Button primary>Primary Button</Button>"
      },
      {
        "title": "Tailwind CSS and Utility-First Styling",
        "content": "Using the **Utility-First** framework **Tailwind CSS**. Covers configuring Tailwind's build process and applying styles directly in JSX using utility classes (e.g., `flex`, `p-4`, `text-lg`). Discusses its speed benefits and the use of **`@apply`** within a CSS file to create custom reusable classes from Tailwind utilities, managing complexity in large projects.",
        "codeExample": "// Tailwind CSS usage in JSX (Utility-first)\n<div className=\"flex items-center justify-between p-4 bg-white shadow-lg rounded-xl\">\n  <h1 className=\"text-2xl font-bold text-gray-800\">\n    Hello Tailwind\n  </h1>\n</div>\n\n// Creating a custom class with @apply (Conceptual)\n// .btn-primary { @apply py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-blue-500; }"
      },
      {
        "title": "Pre-processors (Sass/Less) and Variables",
        "content": "Integration of **CSS pre-processors** like **Sass/SCSS** or **Less**. Covers advanced features not available in pure CSS: **variables** (`$primary-color`), **nesting** selectors, **mixins** (reusable blocks of styles), and **imports**. Explains how Webpack handles compilation and ensures compatibility with React's build process, especially when dealing with large, structured stylesheets.",
        "codeExample": "/* Sass/SCSS example using variables and nesting */\n$primary-color: #3f51b5;\n\n.card {\n  border: 1px solid #ccc;\n  padding: 1rem;\n  \n  h2 {\n    color: $primary-color;\n    margin-bottom: 0.5rem;\n  }\n}"
      },
      {
        "title": "Integration with Component Libraries (MUI/Ant Design)",
        "content": "Using pre-built UI toolkits like **Material-UI (MUI)** or **Ant Design** to rapidly develop compliant and accessible UIs. Covers installation, component usage (`<Button>`, `<TextField>`), and **Theming** (using `ThemeProvider` or `createTheme`) to customize the look and feel globally, ensuring brand consistency while benefiting from pre-tested, accessible components.",
        "codeExample": "// Theming with Material-UI (MUI)\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport Button from '@mui/material/Button';\n\nconst theme = createTheme({\n  palette: {\n    primary: { main: '#556cd6' },\n  },\n});\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Button variant=\"contained\" color=\"primary\">Styled</Button>\n    </ThemeProvider>\n  );\n}"
      }
    ]
  },
  {
    "id": 7,
    "title": "Forms, Controlled Inputs, and Validation ‚úÖ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Controlled vs. Uncontrolled Components",
        "content": "Definitive guide to managing form data. **Controlled Components** (the standard React pattern) have their state managed entirely by React (`useState`), requiring value and `onChange` props. **Uncontrolled Components** rely on the DOM itself (using **`useRef`** to access the element) and are often used for simple file inputs or when integrating with non-React libraries.",
        "codeExample": "// Controlled Input (Recommended React pattern)\nconst [value, setValue] = useState('');\n\n<input \n  type=\"text\" \n  value={value} \n  onChange={(e) => setValue(e.target.value)} \n/>\n\n// Uncontrolled Input (using useRef)\nconst inputRef = useRef(null);\n<input type=\"file\" ref={inputRef} />"
      },
      {
        "title": "Handling Multiple Inputs and Dynamic Fields",
        "content": "Techniques for managing state for forms with many fields. Covers centralizing state management (e.g., using a single state object with keys matching input names) and implementing a single generic **`handleChange`** function to handle updates across all inputs, improving component cleanliness. Details adding and removing dynamic field arrays (e.g., multi-line addresses).",
        "codeExample": "// Single centralized handleChange function\nconst [form, setForm] = useState({ name: '', email: '' });\n\nconst handleChange = (e) => {\n  const { name, value } = e.target;\n  setForm(prevForm => ({ ...prevForm, [name]: value }));\n};\n\n<input name=\"name\" value={form.name} onChange={handleChange} />"
      },
      {
        "title": "Form Validation (Basic and Schema-Based)",
        "content": "Implementing client-side form validation. Covers **Basic Validation** (checking fields on blur or submit). Introduces **Schema-Based Validation** using libraries like **Yup** or **Zod** to define declarative validation rules (string length, email format). Explains triggering validation on different events and displaying meaningful error messages to the user.",
        "codeExample": "// Yup validation schema (Conceptual)\nimport * as yup from 'yup';\n\nconst loginSchema = yup.object().shape({\n  email: yup.string().email('Invalid email format').required('Email is required'),\n  password: yup.string().min(6, 'Min 6 characters').required()\n});\n\n// Usage on submit: await loginSchema.validate(formData, { abortEarly: false });"
      },
      {
        "title": "React Hook Form Integration (Performance Focus)",
        "content": "Integrating the high-performance library **React Hook Form**. Covers its key advantage: isolating input state from component state by leveraging uncontrolled inputs with registered refs, leading to minimal re-renders. Details the use of **`register`**, **`handleSubmit`**, and automatic integration with validation libraries like Yup or Zod via the **`resolver`** option.",
        "codeExample": "// React Hook Form basic usage\nimport { useForm } from 'react-hook-form';\n\nfunction LoginForm() {\n  const { register, handleSubmit, formState: { errors } } = useForm();\n\n  const onSubmit = (data) => console.log(data);\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <input {...register('email', { required: true })} />\n      {errors.email && <span>Email is required</span>}\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}"
      },
      {
        "title": "File Uploads and Asynchronous Form Submission",
        "content": "Handling form data that includes files (requiring the browser to submit as `multipart/form-data`). Covers using **uncontrolled components** with `useRef` for file inputs. Details the process of asynchronous form submission: displaying loading states, handling success/failure responses, and clearing form state after a successful submission.",
        "codeExample": "// File upload handling on submit\nconst fileRef = useRef(null);\n\nconst handleSubmit = async (e) => {\n  e.preventDefault();\n  const formData = new FormData();\n  formData.append('profileImage', fileRef.current.files[0]);\n  formData.append('name', name); \n  \n  try {\n    // Axios post request\n    await axios.post('/api/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' }\n    });\n  } catch (err) { /* Handle error */ }\n};\n\n<input type=\"file\" ref={fileRef} />"
      }
    ]
  },
  {
    "id": 8,
    "title": "Data Fetching, Error Boundaries, and Suspense üì°",
    "subsections": [
      {
        "title": "The `useEffect` Data Fetching Pattern and Cleanup",
        "content": "The fundamental pattern for fetching data in functional components using **`useEffect`**. Covers wrapping asynchronous fetching logic inside a function and calling it immediately (`IIFE` or named function). **Crucially**, details how to implement **cleanup logic** (using a controller/token or a boolean flag) to **cancel pending requests** if the component unmounts mid-fetch, preventing warnings and memory leaks.",
        "codeExample": "// useEffect cleanup for canceling an HTTP request\nuseEffect(() => {\n  let didCancel = false;\n  const fetchData = async () => {\n    // ... fetching logic\n    if (!didCancel) { /* setState(data) */ }\n  };\n  fetchData();\n  return () => { didCancel = true; }; // Set flag on cleanup\n}, [itemId]);"
      },
      {
        "title": "Modern Data Fetching with React Query (TanStack Query)",
        "content": "Adopting a dedicated data fetching library like **React Query (TanStack Query)**. Covers its benefits: automatic **caching**, **background re-fetching** (stale-while-revalidate), **mutation management**, and centralized state management for server data. Focuses on the **`useQuery`** and **`useMutation`** Hooks for declarative, simple data lifecycle management, eliminating the need for complex `useEffect` logic.",
        "codeExample": "// Fetching with React Query's useQuery\nimport { useQuery } from '@tanstack/react-query';\n\nfunction ProductsList() {\n  const { isLoading, error, data } = useQuery({\n    queryKey: ['products'],\n    queryFn: () => axios.get('/api/products').then(res => res.data),\n  });\n\n  if (isLoading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error.message}</div>;\n  return <ul>{data.map(p => <li key={p.id}>{p.name}</li>)}</ul>;\n}"
      },
      {
        "title": "Custom Error Boundaries (Catching Render-Phase Errors)",
        "content": "Implementing **Class-based Error Boundaries** (using `componentDidCatch` and `static getDerivedStateFromError`) to catch **render-phase errors** (errors thrown during rendering, lifecycle methods, or constructors) in the component tree below them. Explains the purpose: gracefully displaying a fallback UI instead of crashing the entire application, improving user experience and resilience.",
        "codeExample": "// Error Boundary Class Component (Required for catching render errors)\nclass ErrorBoundary extends React.Component {\n  state = { hasError: false };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error(\"Caught an error:\", error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <h1>Something went wrong.</h1>; // Fallback UI\n    }\n    return this.props.children;\n  }\n}\n\n// Usage: Wrap the component tree\n<ErrorBoundary><MyWidget /></ErrorBoundary>"
      },
      {
        "title": "Code Splitting, `React.lazy`, and `<Suspense>`",
        "content": "Implementing **Code Splitting** (splitting the application bundle into smaller chunks) for faster initial load times. Covers dynamic imports using **`React.lazy()`** to load components on demand (e.g., when a route is matched). The essential companion is the **`<Suspense fallback={...}>`** component, which handles the loading state (e.g., showing a spinner) while the code chunk is being downloaded.",
        "codeExample": "// Code Splitting with React.lazy and Suspense\nconst LazyProduct = React.lazy(() => import('./ProductPage'));\n\nfunction AppRoutes() {\n  return (\n    <Suspense fallback={<div>Loading Page...</div>}>\n      <Routes>\n        <Route path=\"/products\" element={<LazyProduct />} />\n        {/* Other routes */}\n      </Routes>\n    </Suspense>\n  );\n}"
      },
      {
        "title": "Axios Interceptors and HTTP Status Code Handling",
        "content": "Using **Axios** (or Fetch) for making HTTP requests. Details setting up **Axios Interceptors** for global handling of requests (e.g., automatically attaching the JWT Access Token to headers) and responses (e.g., automatically logging out the user if a 401 Unauthorized response is received, or refreshing an expired token). Essential for unified API error management.",
        "codeExample": "// Axios Response Interceptor for handling 401/Expired Tokens\naxios.interceptors.response.use(\n  (response) => response, // Pass successful response\n  (error) => {\n    if (error.response.status === 401) {\n      // Redirect to login or initiate token refresh flow\n      console.error('Unauthorized request. Logging out...');\n      // logoutUser();\n    }\n    return Promise.reject(error);\n  }\n);"
      }
    ]
  },
  {
    "id": 9,
    "title": "Testing Strategies: Unit, Integration, and E2E üß™",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Unit Testing with Jest and Enzyme/Testing Library",
        "content": "Setting up the testing environment with **Jest** (test runner) and **React Testing Library (RTL)** (preferred tool for component testing). Emphasizes RTL's guiding principle: testing components as a user would. Covers basic Jest syntax (`describe`, `it/test`, `expect`) and querying elements by roles, text, and labels (`screen.getByRole`).",
        "codeExample": "// Unit test using React Testing Library (RTL)\nimport { render, screen } from '@testing-library/react';\nimport Button from './Button';\n\ntest('renders button with correct text and handles click', () => {\n  const handleClick = jest.fn();\n  render(<Button onClick={handleClick}>Submit</Button>);\n  \n  // Query by Role\n  const buttonElement = screen.getByRole('button', { name: /submit/i });\n  expect(buttonElement).toBeInTheDocument();\n  \n  // Simulate click\n  fireEvent.click(buttonElement);\n  expect(handleClick).toHaveBeenCalledTimes(1);\n});"
      },
      {
        "title": "Mocking API Calls and Custom Hooks",
        "content": "Techniques for isolating tests. Covers using **Jest Mocks** (`jest.mock`, `jest.spyOn`) to mock utility functions, external libraries (like Axios), and dependencies, ensuring tests are deterministic and fast. Details the pattern for testing **Custom Hooks** using the **`@testing-library/react-hooks`** package (or built-in `renderHook` in modern RTL) to test isolated logic.",
        "codeExample": "// Mocking a data fetch Hook for testing\nimport { renderHook } from '@testing-library/react-hooks';\nimport { useFetch } from './useFetch';\n\n// Mock the fetch function\nglobal.fetch = jest.fn(() => \n  Promise.resolve({ json: () => Promise.resolve({ data: 'mocked' }) })\n);\n\ntest('useFetch returns fetched data', async () => {\n  const { result, waitForNextUpdate } = renderHook(() => useFetch('/api/data'));\n  expect(result.current.isLoading).toBe(true);\n  \n  await waitForNextUpdate();\n  expect(result.current.data).toEqual({ data: 'mocked' });\n});"
      },
      {
        "title": "Integration Testing and User Flows",
        "content": "Testing interactions between multiple components (e.g., a form component and a display component) or **full user flows** (e.g., Login -> Dashboard). Focuses on using `fireEvent` and `userEvent` (preferred for accurately simulating browser behavior) to simulate typing, clicking, and form submissions across a complex slice of the application, ensuring components integrate correctly.",
        "codeExample": "// Integration test simulating user input and form submission\ntest('full form submission flow', async () => {\n  render(<LoginForm />);\n  userEvent.type(screen.getByLabelText(/email/i), 'test@example.com');\n  userEvent.type(screen.getByLabelText(/password/i), 'password123');\n  \n  userEvent.click(screen.getByRole('button', { name: /login/i }));\n  \n  // Assert success state, e.g., welcome message appears\n  expect(await screen.findByText(/welcome back/i)).toBeInTheDocument();\n});"
      },
      {
        "title": "End-to-End (E2E) Testing with Cypress/Playwright",
        "content": "Introduction to testing the entire application stack from the user's perspective in a real browser environment. Covers frameworks like **Cypress** or **Playwright**. Details writing test scripts that simulate navigation, assertion against the rendered DOM and network requests, and handling complex scenarios like login and form filling in a production-like environment.",
        "codeExample": "// Cypress E2E test snippet\ndescribe('User Authentication Flow', () => {\n  it('should successfully log in and navigate to dashboard', () => {\n    cy.visit('/login');\n    cy.get('input[name=email]').type('user@example.com');\n    cy.get('input[name=password]').type('password123');\n    cy.get('button[type=submit]').click();\n    \n    // Assertion after login\n    cy.url().should('include', '/dashboard');\n    cy.contains('Welcome, User!').should('be.visible');\n  });\n});"
      },
      {
        "title": "Snapshot Testing and Maintenance",
        "content": "Using **Snapshot Testing** (Jest feature) to record the serialized JSX structure of a component and comparing it against future renders. Covers when to use snapshots (simple, static components) versus when to avoid them (components with dynamic props/dates). Emphasizes the need for vigilant snapshot review when tests fail, only updating snapshots for intentional UI changes.",
        "codeExample": "// Snapshot test for a component\ntest('Header component renders consistently', () => {\n  const tree = renderer.create(<Header userName=\"Alice\" />).toJSON();\n  // The snapshot is saved to __snapshots__ folder\n  expect(tree).toMatchSnapshot();\n});"
      }
    ]
  },
  {
    "id": 10,
    "title": "Performance Optimization & Deployment üöÄ",
    "icon": "List",
    "subsections": [
      {
        "title": "Profiling and Identifying Performance Bottlenecks",
        "content": "Using the **React Developer Tools Profiler** to measure component render times and identify expensive re-renders or deep component trees. Covers analyzing the **Commit Phase** and using the **Flame Graph** and **Ranked Chart** to pinpoint components contributing most to the time spent during rendering, guiding where to apply `React.memo` or `useMemo`.",
        "codeExample": "/* Conceptual performance analysis findings (via Profiler) */\n// Finding: Component X re-renders on every parent state change.\n// Solution: Wrap X in React.memo and ensure props (especially functions) are memoized with useCallback."
      },
      {
        "title": "Component Memoization: Strategies for Avoiding Re-renders",
        "content": "A summary of all memoization techniques: **`React.memo`** (for component shallow comparison), **`useMemo`** (for values), and **`useCallback`** (for functions). Discusses the performance trade-off: memoization has overhead, so it should only be applied to components that are heavy (large DOM structure) or frequently re-render unnecessarily.",
        "codeExample": "// Memoization applied to a heavy, frequently called component\nconst ExpensiveChart = React.memo(({ data, options }) => { /* ... large calculation ... */ });\n\n// Parent ensures data and options are stable\nconst memoizedData = useMemo(() => process(rawData), [rawData]);\n<ExpensiveChart data={memoizedData} options={memoizedOptions} />"
      },
      {
        "title": "Lazy Loading, Chunking, and Asset Optimization",
        "content": "Implementing **Code Splitting** at the route and component level (p. 675) to reduce the initial bundle size. Covers optimizing static assets: image compression, using responsive image formats, and configuring the build system (Webpack/Vite) to **cache-bust** assets (fingerprinting filenames) while setting long-term **HTTP Cache Headers** for production deployments.",
        "codeExample": "/* Webpack/Build Output (Conceptual) */\n// Before Chunking: main.js (5MB)\n// After Chunking:\n// main.[hash].js (1MB)\n// route-dashboard.[hash].js (2MB)\n// vendor.[hash].js (2MB)"
      },
      {
        "title": "Optimizing Context Consumption and Selectors",
        "content": "Avoiding unnecessary re-renders when using the **Context API**. Recommends structuring context so that components only consume the specific value they need (e.g., separate `User` state and `Dispatch` contexts). When using Redux, emphasizes using **Selector functions** to ensure components only re-render when the *specific slice of state* they care about changes, mitigating the 'ripple effect' of global state updates.",
        "codeExample": "// Using a selector to consume a small part of a large state\n// Component only re-renders when user.theme changes, not when user.name changes\nconst theme = useSelector(state => state.user.theme);\n\n// Bad Practice (Re-renders on ANY user state change):\n// const user = useSelector(state => state.user);"
      },
      {
        "title": "Deployment Strategies: CDN, Static Hosting, and SSR",
        "content": "Deployment pipeline for React. Covers deploying the built static assets (`build` folder) to a **Static Hosting** service (Netlify, Vercel, GitHub Pages) or a **CDN (Content Delivery Network)** for global distribution and low latency. Introduction to **Server-Side Rendering (SSR)** and **Static Site Generation (SSG)** using frameworks like **Next.js** or **Gatsby** to improve SEO and initial load performance compared to pure Client-Side Rendering (CSR).",
        "codeExample": "/* Production build command and output */\n// CI/CD Step:\n// npm run build\n\n// Deployment Strategy:\n// Copy /build folder to Netlify/Vercel or AWS S3.\n\n/* Next.js Function (Conceptual SSR) */\n// export async function getServerSideProps(context) {\n//   const data = await fetchAPI(context.params.slug);\n//   return { props: { data } };\n// }"
      }
    ]
  }
]
  },
  mobile: {
    id: 'mobile',
    title: 'Mobile Development',
    icon: Smartphone,
    color: '#9B59B6',
    description: 'Mobile apps',
    units: [
  {
    "id": 1,
    "title": "React Native Core: Architecture and Bridge ‚öôÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "React Native Architecture and Rendering Pipeline",
        "content": "In-depth explanation of the **React Native Architecture**, focusing on the **JavaScript Thread** (where React/business logic runs) and the **Native/UI Thread** (where Android/iOS UI code runs). This covers the role of the **Native Bridge** in serializing JSON messages for asynchronous communication between the two threads and the shift towards the newer **JSI (JavaScript Interface)** and **Fabric/TurboModules** architectures for synchronous, performant communication.",
        "codeExample": "/* Conceptual representation of Bridge Communication */\n\n// 1. JS Thread -> Native Bridge (Async JSON Message)\nconst message = JSON.stringify({ module: 'UIManager', method: 'createView', config: {...} });\n\n// 2. Native Thread -> Deserializes JSON -> Calls Native UI Code"
      },
      {
        "title": "Setup: Bare vs. Expo Workflow",
        "content": "Detailed comparison of the two main development paths: **Bare Workflow** (CLI init, full control over native code, requires Xcode/Android Studio) and **Expo Go/Managed Workflow** (zero setup, pre-built native modules, ideal for rapid prototyping). Guidance on when to **'Eject' (or 'Prebuild')** from the Expo Managed Workflow to the Bare Workflow.",
        "codeExample": "/* Project initialization commands */\n\n// Bare Workflow (React Native CLI)\nnpx react-native init MyApp\n\n// Managed Workflow (Expo CLI)\nnpx create-expo-app MyApp\n\n/* Expo specific configuration file (app.json) */\n{\n  \"expo\": {\n    \"name\": \"MyExpoApp\",\n    \"slug\": \"myexpoapp\",\n    \"ios\": { \"supportsTablet\": true },\n    \"android\": { \"package\": \"com.my.app\" }\n  }\n}"
      },
      {
        "title": "JSX and Platform-Specific Code",
        "content": "Adapting standard React JSX for mobile constraints. Covers core components (`<View>`, `<Text>`) and using the **`Platform` API** for conditional logic based on the OS. Details two primary patterns for handling platform differences: **Platform-Specific Modules** (using `.ios.js` or `.android.js` file extensions) and the **`Platform.select`** method for inline styling or value selection.",
        "codeExample": "import { Platform, StyleSheet } from 'react-native';\n\n// Platform-specific inline styling\nconst headerStyle = {\n  paddingTop: Platform.OS === 'android' ? 10 : 0,\n  backgroundColor: Platform.select({\n    ios: 'blue',\n    android: 'navy',\n    default: 'gray',\n  }),\n};\n\n// Platform-specific file usage: (Component.ios.js) will be used on iOS"
      },
      {
        "title": "Handling Bundling and Metro",
        "content": "Exploration of **Metro**, the JavaScript bundler for React Native. Covers how Metro bundles JS code, optimizes assets (images), and serves the application bundle to the device/simulator during development via the server. Details the concept of **HMR (Hot Module Replacement)** and **Fast Refresh** for near-instantaneous code updates during development without losing application state.",
        "codeExample": "/* Metro Configuration Snippet (metro.config.js) */\nmodule.exports = {\n  transformer: {\n    getTransformOptions: async () => ({\n      transform: {\n        experimentalImportSupport: false,\n        inlineRequires: true,\n      },\n    }),\n  },\n  // Asset resolver config\n  resolver: { sourceExts: ['js', 'jsx', 'ts', 'tsx', 'json'] },\n};"
      },
      {
        "title": "Bridging with Native Modules (Conceptual)",
        "content": "Conceptual guide to writing **Native Modules** in Swift/Objective-C (iOS) or Java/Kotlin (Android) to expose device-specific APIs (e.g., custom sensor access, deep integration with native SDKs) to the JavaScript environment. This details the `RCT_EXPORT_MODULE` macro and the asynchronous communication pattern required when passing data across the Bridge.",
        "codeExample": "/* iOS Native Module Example (Objective-C Header) */\n// Exposing a custom method to JavaScript\n#import <React/RCTBridgeModule.h>\n@interface CalendarModule : NSObject <RCTBridgeModule>\n@end\n\n// Exposing a method that resolves a Promise\n// RCT_REMAP_METHOD(addEvent, (NSString *)name resolve:(RCTPromiseResolveBlock)resolve reject:(RCTPromiseRejectBlock)reject)"
      }
    ]
  },
  {
    "id": 2,
    "title": "Fundamental Components and Layout üß±",
    "icon": "Code",
    "subsections": [
      {
        "title": "Core Components: View, Text, and Image",
        "content": "The building blocks of every mobile screen. **`<View>`** is the fundamental container, equivalent to a `div` (but supporting no text directly). **`<Text>`** is the mandatory wrapper for all text (cannot be nested inside `<View>` without a `<Text>` wrapper). **`<Image>`** handles both local assets (using `require()`) and network images, requiring specific sizing unlike web images.",
        "codeExample": "import { View, Text, Image } from 'react-native';\n\nfunction Greeting() {\n  return (\n    <View style={{ padding: 20 }}>\n      <Text style={{ fontSize: 18 }}>Welcome to Mobile App</Text>\n      <Image \n        source={require('./assets/logo.png')} \n        style={{ width: 50, height: 50 }} \n      />\n    </View>\n  );\n}"
      },
      {
        "title": "Input and Interactable Components",
        "content": "Handling user interaction. **`<TextInput>`** for text input (including props like `keyboardType`, `secureTextEntry`, and `onChangeText`). **`<Button>`** (basic, styled by the platform) vs. **`<TouchableOpacity>`** (customizable wrapper for creating custom buttons and handling the press event via the `onPress` prop). Covers the **`Keyboard` API** for dismissing the keyboard programmatically.",
        "codeExample": "import { TextInput, TouchableOpacity, Text, View } from 'react-native';\n\nfunction LoginForm() {\n  const [username, setUsername] = useState('');\n  return (\n    <View>\n      <TextInput placeholder=\"Username\" onChangeText={setUsername} value={username} />\n      <TouchableOpacity onPress={() => console.log('Login Pressed')}>\n        <Text>LOGIN</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}"
      },
      {
        "title": "Scrollable Content and List Views",
        "content": "Rendering large datasets efficiently. **`<ScrollView>`** is the simple, flexible container for a small, finite amount of scrollable content. **`<FlatList>`** is the highly optimized component for long lists, using a **Virtualization** principle to render only items currently visible, greatly improving memory and performance. Covers the key props of `<FlatList>`: `data`, `renderItem`, and the vital `keyExtractor`.",
        "codeExample": "import { FlatList, Text, View } from 'react-native';\n\nconst DATA = [{ id: '1', title: 'Item 1' }, { id: '2', title: 'Item 2' }];\n\nfunction ItemList() {\n  return (\n    <FlatList\n      data={DATA}\n      renderItem={({ item }) => <Text>{item.title}</Text>}\n      keyExtractor={(item) => item.id}\n      // Extra performance hint\n      initialNumToRender={10}\n    />\n  );\n}"
      },
      {
        "title": "Section List and Infinite Scrolling",
        "content": "Advanced list rendering. **`<SectionList>`** is used for grouping data into distinct, sticky sections (e.g., contacts categorized by letter), requiring the `sections` prop. Details implementing **Infinite Scrolling** (load-more functionality) by utilizing the `onEndReached` and `onEndReachedThreshold` props on `<FlatList>` to trigger new data fetching when the user scrolls near the end of the list.",
        "codeExample": "/* SectionList Data Structure */\nconst SECTIONS = [\n  { title: 'A', data: ['Alice', 'Adam'] },\n  { title: 'B', data: ['Bob', 'Bella'] },\n];\n\n// FlatList Infinite Scroll Implementation\n<FlatList \n  // ... other props\n  onEndReached={() => fetchNextPage()}\n  onEndReachedThreshold={0.5} // Trigger when 50% from end\n/>"
      },
      {
        "title": "Platform-Specific UI Components",
        "content": "Components that abstract platform differences. **`<ActivityIndicator>`** (loading spinner) renders the native iOS or Android spinner. **`<Switch>`** renders the native toggle. Covers **`<StatusBar>`** for controlling the appearance (style, hidden/visible) of the device's system bar. Notes the use of community components (e.g., date pickers, modals) that aim to provide a native feel across platforms.",
        "codeExample": "import { ActivityIndicator, Switch, StatusBar, View } from 'react-native';\n\nfunction LoadingScreen() {\n  const [isEnabled, setIsEnabled] = useState(false);\n  return (\n    <View>\n      <StatusBar barStyle=\"light-content\" backgroundColor=\"#6a51ae\" />\n      <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      <Switch onValueChange={setIsEnabled} value={isEnabled} />\n    </View>\n  );\n}"
      }
    ]
  },
  {
    "id": 3,
    "title": "Styling: Flexbox, CSS-in-JS, and Theming üé®",
    "icon": "Palette",
    "subsections": [
      {
        "title": "The React Native Style Model (Stylesheet API)",
        "content": "The distinct styling mechanism in React Native. Styles are written in JavaScript objects and applied using the **`style` prop**. Covers the **`StyleSheet.create()`** API, which optimizes styles by passing an ID reference across the Bridge, preventing redundant object creation on every render. Emphasizes that style properties are mostly camelCase and derived from CSS properties, but many web features (e.g., `inherit`, `float`) are absent.",
        "codeExample": "import { StyleSheet, View } from 'react-native';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f0f0f0',\n    padding: 10,\n  },\n  text: { fontSize: 16, color: 'black' },\n});\n\nfunction App() {\n  return <View style={styles.container} />;\n}"
      },
      {
        "title": "Flexbox Layout: The Mobile Standard",
        "content": "Mastering **Flexbox** as the **sole layout model** in React Native (there is no CSS Grid, Block, or Inline-Block). Covers setting the primary axis with **`flexDirection`** (defaults to `column` in RN, unlike web's `row`). Details using **`alignItems`**, **`justifyContent`**, and the **`flex`** property for proportional sizing. Emphasizes pixel-less values and the `aspectRatio` property for maintaining dimensions.",
        "codeExample": "// Flexbox Layout Example\nconst flexStyles = StyleSheet.create({\n  row: { \n    flexDirection: 'row', \n    justifyContent: 'space-between', \n    alignItems: 'center' \n  },\n  fullWidth: { flex: 1 },\n  halfWidth: { flex: 0.5, aspectRatio: 1 }, // half width, square box\n});\n\n<View style={flexStyles.row}>\n  <View style={flexStyles.fullWidth} />\n</View>"
      },
      {
        "title": "Advanced Styling and Composition",
        "content": "Techniques for composing styles dynamically. Covers passing an **array of styles** to the `style` prop, where properties in later objects overwrite earlier ones (useful for conditional styling). Details using **Style Sheets for conditional values** and combining inline styles with memoized `StyleSheet` objects to balance performance and flexibility.",
        "codeExample": "// Dynamic Style Composition\nconst isActive = true;\nconst activeStyles = StyleSheet.create({ active: { borderColor: 'blue' } });\n\n<View style={[\n  styles.baseContainer, \n  isActive && activeStyles.active, // Apply conditionally\n  { marginVertical: 10 } // Inline override\n]} />"
      },
      {
        "title": "CSS-in-JS Libraries (Styled-Components, Tamagui)",
        "content": "Integrating popular **CSS-in-JS** libraries adapted for React Native (e.g., **Styled-Components**, **Tamagui**). Covers defining components with scoped styles using tagged template literals, similar to web development. Details how these libraries handle the necessary conversion to native properties and the performance implications vs. the built-in `StyleSheet` API (often involves runtime processing).",
        "codeExample": "import styled from 'styled-components/native';\n\n// Define a styled native component\nconst StyledContainer = styled.View`\n  background-color: ${props => props.theme.primaryColor || '#fff'};\n  padding: 10px;\n  border-radius: 5px;\n`;\n\n// Usage\n<StyledContainer theme={{ primaryColor: 'red' }}>\n  <Text>Styled!</Text>\n</StyledContainer>"
      },
      {
        "title": "Global Theming and Dark Mode Implementation",
        "content": "Implementing a robust **Global Theming System** using the **Context API** to provide color palettes and typography scales application-wide. Covers accessing the device's color scheme preference with **`useColorScheme`** from the `react-native` package and dynamically swapping light/dark theme styles to support native **Dark Mode** preference.",
        "codeExample": "import { useColorScheme } from 'react-native';\n\nfunction AppTheme() {\n  const scheme = useColorScheme(); // 'dark' or 'light'\n  \n  const colors = scheme === 'dark' ? darkColors : lightColors;\n  \n  return (\n    <ThemeContext.Provider value={{ colors, scheme }}>\n      <AppContent />\n    </ThemeContext.Provider>\n  );\n}"
      }
    ]
  },
  {
    "id": 4,
    "title": "State Management: Hooks, Context, and Global Store üîÑ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Local Component State (`useState`, `useReducer`)",
        "content": "Foundational state management using standard React Hooks. **`useState`** for simple component state (e.g., toggles, form values). **`useReducer`** for complex local state machines (e.g., handling loading, data, and error states from a single API call with explicit actions). Emphasizes state immutability for triggering efficient re-renders.",
        "codeExample": "import { useReducer } from 'react';\n\nconst fetchReducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_START': return { ...state, loading: true, error: null };\n    case 'FETCH_SUCCESS': return { ...state, loading: false, data: action.payload };\n    case 'FETCH_ERROR': return { ...state, loading: false, error: action.payload };\n  }\n};\n\nconst [state, dispatch] = useReducer(fetchReducer, { loading: false, data: null, error: null });"
      },
      {
        "title": "Context API for Application-Wide State",
        "content": "Using the **Context API** to share application-level state (e.g., user profile, theme settings) without prop drilling. Covers creating the `Provider` and consuming the state via the `useContext` Hook. Details optimization techniques, such as splitting state into two contexts (State and Dispatch) to prevent components from re-rendering when only the dispatch function is needed.",
        "codeExample": "/* Theme Context Provider */\n<ThemeContext.Provider value={{ colors, toggleTheme }}>\n  {children}\n</ThemeContext.Provider>\n\n/* Consumption */\nconst { colors } = useContext(ThemeContext);"
      },
      {
        "title": "Third-Party State Management (Redux/Zustand)",
        "content": "Integrating full global state libraries. Covers the use of **Redux Toolkit (RTK)** for centralized, predictable state, focusing on **Slicing** and **Immutability**. Also introduces lightweight alternatives like **Zustand** or **Recoil**, which offer simpler APIs and often better performance by using selectors to limit component subscriptions to only the required state slice.",
        "codeExample": "/* Zustand Store Example */\nimport create from 'zustand';\n\nconst useStore = create((set) => ({\n  count: 0,\n  increment: () => set(state => ({ count: state.count + 1 })),\n  decrement: () => set(state => ({ count: state.count - 1 })),\n}));\n\nfunction Counter() {\n  // Component only subscribes to 'count' and 'increment'\n  const { count, increment } = useStore(state => ({ count: state.count, increment: state.increment }));\n  return <Button title={`Count: ${count}`} onPress={increment} />;\n}"
      },
      {
        "title": "Data Fetching State with React Query",
        "content": "Using **React Query (TanStack Query)** to manage server-side data state. Emphasizes that server data (e.g., user lists, products) should be managed separately from application UI state. Covers **`useQuery`** for fetching, caching, de-duplication, and background re-fetching, and **`useMutation`** for handling writes (POST/PUT/DELETE) and cache invalidation.",
        "codeExample": "import { useQuery } from '@tanstack/react-query';\n\nfunction fetchProducts() {\n  // Fetching logic\n}\n\nfunction ProductsScreen() {\n  const { data, isLoading, isError } = useQuery(['products'], fetchProducts);\n\n  if (isLoading) return <ActivityIndicator />;\n  return <ProductList data={data} />;\n}"
      },
      {
        "title": "Asynchronous Storage and Redux Persistence",
        "content": "Handling persistent data storage for state managers. Covers the necessity of using **`@react-native-async-storage/async-storage`** (the key-value persistence layer). Details implementing **Redux Persist** to automatically save and rehydrate the Redux store upon application restart, ensuring state consistency across sessions.",
        "codeExample": "import AsyncStorage from '@react-native-async-storage/async-storage';\n\n// Basic usage of AsyncStorage\nconst saveUser = async (user) => {\n  await AsyncStorage.setItem('user-data', JSON.stringify(user));\n};\n\nconst getUser = async () => {\n  const data = await AsyncStorage.getItem('user-data');\n  return data ? JSON.parse(data) : null;\n};\n\n/* Redux Persist config (Conceptual) */\n// const persistConfig = { key: 'root', storage: AsyncStorage, ... };"
      }
    ]
  },
  {
    "id": 5,
    "title": "Navigation and Routing Patterns üß≠",
    "icon": "Code",
    "subsections": [
      {
        "title": "React Navigation Structure and Concepts",
        "content": "Mastering **React Navigation**, the standard library for mobile routing. Explains the core concept of a **Navigator** (Stack, Tab, Drawer) and how navigators are nested to form the application flow. Covers the use of **Context/Hooks** to access navigation state and actions, replacing the old static `this.props.navigation` pattern.",
        "codeExample": "import { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\n\nconst Stack = createStackNavigator();\n\nfunction RootNavigator() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator initialRouteName=\"Home\">\n        <Stack.Screen name=\"Home\" component={HomeScreen} />\n        <Stack.Screen name=\"Details\" component={DetailsScreen} />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}"
      },
      {
        "title": "Stack Navigator: Screen Options and Params",
        "content": "Implementing **`<Stack.Navigator>`** for sequential screen transitions (push/pop). Covers setting **`screenOptions`** (header styling, title) and customizing the header dynamically (e.g., adding buttons) using **`options`** prop on the screen component. Details passing and retrieving **parameters** between screens using `navigation.navigate('Route', { id: 123 })` and the **`useRoute`** hook.",
        "codeExample": "import { useRoute, useNavigation } from '@react-navigation/native';\n\nfunction DetailsScreen() {\n  const route = useRoute();\n  const navigation = useNavigation();\n  const itemId = route.params?.itemId; // Retrieving parameter\n  \n  // Dynamic Header Configuration\n  useEffect(() => {\n    navigation.setOptions({ title: `Item #${itemId}` });\n  }, [navigation, itemId]);\n  \n  return <Text>Item ID: {itemId}</Text>;\n}"
      },
      {
        "title": "Tab and Drawer Navigators",
        "content": "Implementing common mobile navigation patterns. **Bottom Tab Navigator** (for main application sections) and **Drawer Navigator** (for secondary menus). Covers configuring `tabBarOptions` or `drawerContent` and the challenge of **Nested Navigation** (e.g., a Stack Navigator inside a Tab Screen) for handling complex flows while preserving the main tab structure.",
        "codeExample": "import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { Ionicons } from '@expo/vector-icons';\n\nconst Tab = createBottomTabNavigator();\n\nfunction TabNavigator() {\n  return (\n    <Tab.Navigator screenOptions={({ route }) => ({\n      tabBarIcon: ({ color, size }) => { /* ... icon logic */ },\n      headerShown: false // Hide default header\n    })}>\n      <Tab.Screen name=\"Feed\" component={FeedStack} />\n      <Tab.Screen name=\"Profile\" component={ProfileScreen} />\n    </Tab.Navigator>\n  );\n}"
      },
      {
        "title": "Deep Linking and Universal Links",
        "content": "Enabling external access to specific screens. **Deep Linking** allows navigating within the app via a URI scheme (`myapp://profile/123`). **Universal Links** (iOS) or **App Links** (Android) use a standard HTTP/HTTPS link to open the app directly to a resource. Covers defining the **`linking`** configuration in `NavigationContainer` and setting up native manifest/entitlements files.",
        "codeExample": "/* Linking Configuration */\nconst linking = {\n  prefixes: ['myapp://', 'https://myapp.com'],\n  config: {\n    screens: {\n      Profile: 'profile/:id',\n    },\n  },\n};\n\n<NavigationContainer linking={linking}>...</NavigationContainer>"
      },
      {
        "title": "Authentication Flow and Conditional Rendering",
        "content": "Managing the switching of the application's entire root navigation based on user authentication status. Covers using **Global State/Context** to manage `isAuthenticated` and conditionally rendering the **`AuthStack`** (Login, Register) or the **`AppStack`** (Main Tabs, Settings) within the root `NavigationContainer` to enforce protected routes seamlessly.",
        "codeExample": "function AppRoot() {\n  const { user } = useAuth(); // Global Auth Context\n\n  return (\n    <NavigationContainer>\n      {user ? <AppStack /> : <AuthStack />} \n    </NavigationContainer>\n  );\n}"
      }
    ]
  },
  {
    "id": 6,
    "title": "Native Modules and Device APIs üîã",
    "icon": "Code",
    "subsections": [
      {
        "title": "Camera and Media Access",
        "content": "Integrating with the device's camera and media library. Covers using community libraries (e.g., `react-native-image-picker` or Expo's `expo-camera`) to request **runtime permissions** (mandatory on mobile), launch the camera, capture photos/videos, and access the photo roll. Details handling URI returns for display or upload to a server.",
        "codeExample": "import * as ImagePicker from 'expo-image-picker';\n\nconst takePhoto = async () => {\n  const permission = await ImagePicker.requestCameraPermissionsAsync();\n  if (permission.granted) {\n    let result = await ImagePicker.launchCameraAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n    });\n    if (!result.cancelled) { /* set image URI */ }\n  }\n};"
      },
      {
        "title": "Geolocation and Maps API",
        "content": "Accessing device location. Covers requesting **Foreground/Background Location Permissions**. Using **`expo-location`** or the bare workflow's Geolocation API to get the current position (`getCurrentPositionAsync`) or set up a listener for continuous updates. Integrating **Maps** components (e.g., `react-native-maps`) to display markers and regions.",
        "codeExample": "import * as Location from 'expo-location';\n\nconst getLocation = async () => {\n  let { status } = await Location.requestForegroundPermissionsAsync();\n  if (status !== 'granted') return;\n  \n  let location = await Location.getCurrentPositionAsync({});\n  console.log(location.coords.latitude, location.coords.longitude);\n};"
      },
      {
        "title": "Push Notifications (FCM/APNs)",
        "content": "Implementing real-time user engagement. Covers obtaining the device's unique **Push Token** (via Firebase Cloud Messaging for Android or Apple Push Notification Service for iOS). Details the process of sending this token to the backend for storage and receiving and displaying notifications (foreground/background) using libraries like `expo-notifications`.",
        "codeExample": "// Registering for a Push Notification Token\nasync function registerForPushNotifications() {\n  let token = await Notifications.getExpoPushTokenAsync();\n  // Send token to your backend API\n  sendTokenToServer(token);\n}"
      },
      {
        "title": "Sensors and Haptics",
        "content": "Accessing device hardware. Covers reading data from common **Sensors** (e.g., Accelerometer, Gyroscope) using Expo or community modules. Implementing user feedback using **Haptics** (vibration) for touches, presses, and successful actions (e.g., `Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success)`). Essential for creating an engaging mobile feel.",
        "codeExample": "import * as Haptics from 'expo-haptics';\nimport { Accelerometer } from 'expo-sensors';\n\nconst triggerHaptic = () => {\n  Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Heavy);\n};\n\n// Subscribe to accelerometer data (Conceptual)\n// Accelerometer.addListener(data => { console.log(data) });"
      },
      {
        "title": "Third-Party SDK Integration (Stripe, Authentication)",
        "content": "Connecting React Native to common third-party services that require native code. Covers using officially supported SDKs (e.g., Stripe, Firebase Auth) via community packages. Discusses the necessity of installing **Pods** (iOS) and handling **Gradle dependencies** (Android) when adding new third-party native libraries in the Bare Workflow.",
        "codeExample": "/* Podfile configuration (iOS Native) */\n// Must run 'pod install' after adding a new native package\nrequire_relative '../node_modules/react-native/scripts/react_native_pods'\n\nplatform :ios, '12.0'\n\ntarget 'MyApp' do\n  use_native_modules!\n  # Example for a Stripe SDK Pod\n  pod 'Stripe', :path => '../node_modules/@stripe/stripe-react-native/ios'\nend"
      }
    ]
  },
  {
    "id": 7,
    "title": "Data Persistence and Offline Support üíæ",
    "icon": "List",
    "subsections": [
      {
        "title": "AsyncStorage: Key-Value Persistence",
        "content": "The basic, asynchronous key-value storage API for React Native. Covers **`@react-native-async-storage/async-storage`** for storing small amounts of data (e.g., user tokens, theme settings). Details methods: `setItem`, `getItem`, `removeItem`, and the limitations (performance issues with large or complex datasets).",
        "codeExample": "import AsyncStorage from '@react-native-async-storage/async-storage';\n\n// Saving a user session token\nconst saveToken = async (token) => {\n  try {\n    await AsyncStorage.setItem('@app_token', token);\n  } catch (e) { console.error('Error saving token'); }\n};\n\n// Retrieving the token\nconst getToken = async () => {\n  return await AsyncStorage.getItem('@app_token');\n};"
      },
      {
        "title": "SQLite and Relational Storage",
        "content": "Using a local relational database for structured data. Covers libraries like **`expo-sqlite`** (or `react-native-sqlite-storage` for Bare workflow) to query local data using SQL statements. Emphasizes transactional integrity and the use case for complex, local relational data that needs filtering and joining (e.g., detailed inventory, transaction history).",
        "codeExample": "import * as SQLite from 'expo-sqlite';\n\nconst db = SQLite.openDatabase('app.db');\n\nconst createTable = () => {\n  db.transaction(tx => {\n    tx.executeSql(\n      'CREATE TABLE IF NOT EXISTS items (id INTEGER PRIMARY KEY NOT NULL, name TEXT, quantity INTEGER);'\n    );\n  });\n};\n\nconst insertItem = (name, qty) => {\n  db.transaction(tx => {\n    tx.executeSql('INSERT INTO items (name, quantity) values (?, ?)', [name, qty]);\n  });\n};"
      },
      {
        "title": "Realm/WatermelonDB (Object-Relational Mapping)",
        "content": "Using modern **Object-Relational Mapping (ORM)** or **Object Data Modeling (ODM)** solutions adapted for mobile. Covers **Realm** or **WatermelonDB**, which provide reactive, JavaScript-first APIs to manage complex data locally, often with built-in synchronization features for offline-first data management and seamless integration with React components.",
        "codeExample": "/* WatermelonDB Model (Conceptual) */\n// Defining a local model schema\nclass Post extends Model {\n  static table = 'posts';\n  static columns = [\n    { name: 'title', type: 'string' },\n    { name: 'body', type: 'string' },\n    { name: 'is_synced', type: 'boolean' },\n  ];\n}"
      },
      {
        "title": "Connectivity and Offline Data Synchronization",
        "content": "Implementing an **Offline-First** strategy. Covers monitoring the network status using **`@react-native-netinfo/netinfo`** to detect connection changes. Details the **Data Synchronization** pattern: storing pending user actions (mutations) locally when offline, and automatically executing the queued actions to the remote server once connectivity is restored.",
        "codeExample": "import NetInfo from '@react-native-netinfo/netinfo';\n\n// Checking connectivity status\nNetInfo.fetch().then(state => {\n  if (state.isConnected) {\n    // Sync local queue to server\n    syncLocalMutations();\n  } else {\n    // Display offline message\n  }\n});"
      },
      {
        "title": "Caching for Network Efficiency",
        "content": "Optimizing network usage using caching. Covers managing the cache lifecycle in libraries like **React Query** (setting stale times and cache times). Details using specialized libraries (e.g., `react-native-fast-image`) to handle image caching, preventing redundant downloads and improving perceived load speed for recurring assets.",
        "codeExample": "/* React Query configuration for caching (Conceptual) */\n<QueryClientProvider client={queryClient}>\n  <App />\n</QueryClientProvider>\n\n// Configuration: Data is stale after 5 minutes, cache entry removed after 1 hour\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5,\n      cacheTime: 1000 * 60 * 60,\n    },\n  },\n});"
      }
    ]
  },
  {
    "id": 8,
    "title": "Performance Optimization and Debugging ‚ö°",
    "icon": "List",
    "subsections": [
      {
        "title": "Debugging Tools (Flipper, React DevTools)",
        "content": "Utilizing the essential debugging tools. Covers **Flipper** (Meta's unified debugging platform) for inspecting network requests, viewing logs, profiling UI, and debugging layout. Using the **React Developer Tools** (integrated in Flipper/Chrome) to inspect component trees, state, and props, and performing **React Profiler** analysis to find slow renders.",
        "codeExample": "/* Debugging commands */\n// Enable remote debugging in the simulator/device Developer Menu (Shake gesture)\n\n// Running Flipper locally (Conceptual)\n// Open Flipper Desktop App -> Connect to running application instance"
      },
      {
        "title": "Optimizing FlatList and Scroll Performance",
        "content": "Advanced techniques for list performance. Setting **`getItemLayout`** on `<FlatList>` to explicitly provide item dimensions, bypassing the need for React Native to measure items dynamically (a major performance boost). Utilizing `removeClippedSubviews` (Android optimization) and setting the correct `windowSize` to control the rendering viewport.",
        "codeExample": "const ITEM_HEIGHT = 100;\n\n<FlatList\n  data={DATA}\n  // Vital performance optimization: avoids dynamic measurement\n  getItemLayout={(data, index) => ({ \n    length: ITEM_HEIGHT,\n    offset: ITEM_HEIGHT * index,\n    index,\n  })}\n  // Other props...\n/>"
      },
      {
        "title": "The Native Bridge Bottleneck and JSI",
        "content": "Identifying and mitigating **Bridge Bottlenecks** (too many, too frequent, or too large asynchronous calls). Explains how to **Batch** native calls where possible. Discusses the future of React Native: the transition to the **JSI (JavaScript Interface)** and **TurboModules**, which allow for direct, synchronous, and much faster communication, eliminating many traditional performance issues.",
        "codeExample": "/* Anti-Pattern (Bridge Flood) */\n// Calling a native method inside a loop: 1000 async calls\n// for (let i = 0; i < 1000; i++) { NativeModule.log(i); }\n\n/* Optimization */\n// Batching calls: 1 async call with a large array payload\n// NativeModule.logBatch([1, 2, 3, ...]);"
      },
      {
        "title": "Measuring JavaScript and UI Frame Rate",
        "content": "Tools for performance analysis on the device. Covers using the **Performance Monitor** (accessible in the Developer Menu) to track the **JS Thread Frame Rate** (FPS) and the **UI Thread Frame Rate** (FPS). A drop in JS FPS often indicates heavy synchronous work; a drop in UI FPS indicates complex native view hierarchy or slow native modules.",
        "codeExample": "/* Enabling the Performance Monitor (Developer Menu) */\n// Debugger Menu: Toggle Inspector -> Performance Monitor"
      },
      {
        "title": "Layout Animations and Reanimated",
        "content": "Implementing smooth, high-FPS animations that run entirely on the **Native/UI Thread**, bypassing the JavaScript thread entirely. Covers the **`react-native-reanimated`** library. This involves using **Shared Values** and **Worklets** to define the animation logic natively, essential for gestures and fluid transitions that must run at 60 FPS even when the JS thread is busy.",
        "codeExample": "/* Reanimated Worklet (Runs on UI Thread) */\nimport Animated, { useSharedValue, useAnimatedStyle, withSpring } from 'react-native-reanimated';\n\nfunction AnimatedBox() {\n  const translateX = useSharedValue(0);\n  \n  const style = useAnimatedStyle(() => ({\n    transform: [{ translateX: withSpring(translateX.value) }],\n  }));\n  \n  return <Animated.View style={style} />;\n}"
      }
    ]
  },
  {
    "id": 9,
    "title": "Testing, CI/CD, and Build Management üß™",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Unit Testing with Jest and RTL (Component Testing)",
        "content": "Using **Jest** for JavaScript logic and **React Native Testing Library (RNTL)** for component testing. Emphasizes testing against the **rendered native element tree** (not the DOM) using matchers like `toBeOnTheScreen()` and querying by accessibility roles (`getByRole`, `getByTestId`). Covers mocking native modules to run tests on a machine without a physical device/simulator.",
        "codeExample": "import { render, screen } from '@testing-library/react-native';\n\ntest('renders button with correct accessibility label', () => {\n  const mockFn = jest.fn();\n  render(<TouchableOpacity onPress={mockFn} accessibilityLabel=\"Submit Button\"><Text>Submit</Text></TouchableOpacity>);\n  \n  // Query by Accessibility Label (RNTL's equivalent of getByRole)\n  fireEvent.press(screen.getByLabelText('Submit Button'));\n  expect(mockFn).toHaveBeenCalled();\n});"
      },
      {
        "title": "End-to-End (E2E) Testing (Detox)",
        "content": "Testing the full user experience on a real or simulated device using **Detox**. Covers setting up the test environment (synchronizing with React Native), writing scripts that simulate user gestures (tap, scroll, input), and asserting against the native UI view hierarchy. Detox tests run outside the JavaScript thread, providing a truer simulation of user interaction.",
        "codeExample": "/* Detox E2E test snippet */\ndescribe('Login Flow', () => {\n  beforeAll(async () => { await device.launchApp(); });\n  beforeEach(async () => { await device.reloadReactNative(); });\n\n  it('should show success message after login', async () => {\n    await element(by.id('email-input')).typeText('test@example.com');\n    await element(by.id('password-input')).typeText('password123');\n    await element(by.id('login-button')).tap();\n    \n    // Wait for network activity to finish and assert UI change\n    await waitFor(element(by.text('Welcome!'))).toBeVisible().withTimeout(2000);\n  });\n});"
      },
      {
        "title": "Continuous Integration (CI) with GitHub Actions/Fastlane",
        "content": "Automating the build process on CI servers. Covers using **GitHub Actions** to trigger builds on code push. Details configuring **Fastlane** (the standard toolset for mobile deployment) to handle complex, platform-specific tasks: provisioning, signing, incrementing build numbers, and generating App Store metadata, all without a local machine.",
        "codeExample": "/* Fastfile lane for CI build */\nplatform :ios do\n  lane :ci_build do\n    increment_build_number(xcodeproj: \"MyApp.xcodeproj\")\n    gym(scheme: \"MyApp\", clean: true) # Build the IPA file\n    # ... upload to TestFlight\n  end\nend"
      },
      {
        "title": "Code Signing and App Store Deployment",
        "content": "The complex process of releasing to the **Apple App Store (TestFlight/Production)** and **Google Play Store**. Covers generating **Signing Certificates**, **Provisioning Profiles** (iOS), **Keystores** (Android), and managing versioning (`CFBundleVersion`, `versionCode`). Outlines the use of **Fastlane** actions (`deliver`, `supply`) to automate metadata submission and binary uploads.",
        "codeExample": "/* Android build configuration (build.gradle) */\nandroid {\n    defaultConfig {\n        versionCode 1 // Unique integer for internal tracking\n        versionName \"1.0.0\" // Visible version string\n    }\n    signingConfigs {\n        release {\n            storeFile file('my-release-key.keystore')\n            storePassword System.getenv(\"MYAPP_KEYSTORE_PASSWORD\")\n        }\n    }\n}"
      },
      {
        "title": "Over-The-Air (OTA) Updates",
        "content": "Implementing **Over-The-Air (OTA) Updates** using services like **Expo EAS Update** or **CodePush**. Covers pushing small, JavaScript-only updates directly to installed apps, bypassing the slower App Store review process for non-native code changes (bug fixes, feature toggles). Essential for fast iteration and reducing app submission friction.",
        "codeExample": "/* Expo EAS Update configuration (Conceptual) */\n// eas.json defines release channels (production, staging)\n\n// Checking for and applying an OTA update on app launch\nuseEffect(() => {\n  async function checkUpdate() {\n    const update = await Updates.checkForUpdateAsync();\n    if (update.isAvailable) {\n      await Updates.fetchUpdateAsync();\n      Updates.reloadAsync();\n    }\n  }\n  checkUpdate();\n}, []);"
      }
    ]
  },
  {
    "id": 10,
    "title": "Ecosystem: Expo vs. Bare Workflow üåê",
    "icon": "List",
    "subsections": [
      {
        "title": "EAS Build and Development Builds",
        "content": "Mastering **Expo Application Services (EAS) Build**. Covers using the cloud service to generate production-ready iOS (`.ipa`) and Android (`.apk`/`.aab`) binaries without needing local build tools (Xcode/Android Studio). Details creating **Development Builds** (`eas build --profile development`) to allow local access to native code (e.g., debugging native modules) while maintaining the Expo setup.",
        "codeExample": "/* EAS Build command for production */\n// Generates App Store/Google Play ready files\neas build --platform all --profile production\n\n/* Profile in eas.json */\n\"production\": {\n  \"env\": { \"NODE_ENV\": \"production\" },\n  \"autoIncrement\": true\n}"
      },
      {
        "title": "Expo Managed vs. Bare Project Structure",
        "content": "A side-by-side comparison of the file structures. The **Managed Workflow** is limited to the JavaScript directory. The **Bare Workflow** includes the `ios/` (containing Xcode project files, Podfile) and `android/` (containing Gradle and native code files) directories. Explains the process of **Prebuilding** (`expo prebuild`) to generate these native directories and commit them to version control.",
        "codeExample": "/* Bare Workflow Native Directory Structure */\n- ios/\n  - MyApp.xcodeproj\n  - Podfile (Dependency definitions)\n- android/\n  - app/\n    - build.gradle (Dependency definitions)\n    - src/\n- src/ (Your JS/TS code)"
      },
      {
        "title": "Customizing Native Manifests and Entitlements",
        "content": "For the Bare Workflow: modifying native configuration files. Covers updating **`Info.plist`** (iOS) or **`AndroidManifest.xml`** (Android) to define app permissions (e.g., Bluetooth, Location usage descriptions), app icons, splash screens, and deep link schemes. Essential for configuring any native feature not exposed by a standard React Native prop.",
        "codeExample": "\n<uses-permission android:name=\"android.permission.INTERNET\" />\n<uses-permission android:name=\"android.permission.CAMERA\" />\n\n\n<key>NSCameraUsageDescription</key>\n<string>We need camera access to take profile photos.</string>"
      },
      {
        "title": "Handling Native Dependencies and Linking",
        "content": "Managing libraries that contain native code. Covers the process of **Autolinking** (React Native CLI automatically finds and links native modules). Details manual linking as a fallback. Emphasizes the need to run **`pod install`** (iOS) and **`./gradlew assembleRelease`** (Android) after adding or updating any library with native code to ensure the native projects are correctly configured.",
        "codeExample": "/* Command after adding a native dependency */\n// 1. npm install react-native-maps\n// 2. cd ios && pod install\n// 3. cd .. && cd android && ./gradlew clean && ./gradlew assembleDebug"
      },
      {
        "title": "Web/Desktop Targets (Expo Web/Electron)",
        "content": "Expanding the application beyond mobile. Covers using **Expo Web** (`expo start --web`) to compile the React Native code to work in a browser using **`react-native-web`**. Briefly introduces extending to **Desktop** applications (Windows/macOS) using libraries like **Electron** or the official **`react-native-windows`/`macos`** packages, highlighting code sharing challenges.",
        "codeExample": "/* react-native-web component usage */\n// Most core components are mapped:\n// <View> -> <div>\n// <Text> -> <span>\n\n/* Example of web-specific prop */\n<View style={styles.container} accessible={true} accessibilityLabel=\"Container\">...</View>"
      }
    ]
  }
]
  },
  angular: {
    id: 'angular',
    title: 'Angular Development',
    icon: Layers,
    color: '#D6242C',
    description: 'Modern Website Development',
    units: [
  {
    "id": 1,
    "title": "Core Architecture: Modules, Components, & CLI üèóÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Angular Architecture: Modules, Components, and the Renderer",
        "content": "In-depth look at Angular's core structural units: **NgModule** (the container for features and dependencies), **Component** (the UI building block), and **Template** (the view). Details the role of the **Renderer** in abstracting platform-specific DOM manipulation. Explores the **Ivy Compiler** and its benefits: smaller bundles, faster compilation, and better debugging capabilities, replacing the older View Engine.",
        "codeExample": "/* app.module.ts: Defining an NgModule */\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n¬† declarations: [ AppComponent ],\n¬† imports: [ BrowserModule ],\n¬† providers: [],\n¬† bootstrap: [ AppComponent ]\n})\nexport class AppModule { }"
      },
      {
        "title": "Angular CLI: Initialization and Workspace Management",
        "content": "Mastering the **Angular CLI** as the primary development tool. Covers commands for creating a new workspace (`ng new`), generating core artifacts (`ng generate component/service/module`), serving the application (`ng serve`), and building for production (`ng build`). Details the structure of the **`angular.json`** workspace file for configuring projects, builders, and specific targets.",
        "codeExample": "/* CLI commands */\n// Create a component in the 'users' folder\nng generate component users/user-detail\n// or shorthand\nng g c users/user-detail\n\n// Serve the app with open browser\nng serve --open"
      },
      {
        "title": "Components: Lifecycle Hooks",
        "content": "Detailed exploration of the **Component Lifecycle Hooks** (interfaces implemented by components) and their execution order: **`ngOnChanges`**, **`ngOnInit`**, **`ngDoCheck`** (for custom change detection), **`ngAfterContentInit/Checked`**, **`ngAfterViewInit/Checked`**, and **`ngOnDestroy`**. Understanding these hooks is critical for performing setup, data loading, cleanup, and DOM interaction at the correct time.",
        "codeExample": "/* Component Lifecycle Hooks Implementation */\nimport { Component, OnInit, OnDestroy } from '@angular/core';\n\n@Component({ ... })\nexport class UserComponent implements OnInit, OnDestroy {\n¬† ngOnInit(): void {\n¬† ¬† // Initialization logic, data fetching\n¬† ¬† console.log('Component initialized.');\n¬† }\n\n¬† ngOnDestroy(): void {\n¬† ¬† // Cleanup: unsubscribe from Observables, clear timers\n¬† ¬† console.log('Component destroyed.');\n¬† }\n}"
      },
      {
        "title": "View Encapsulation and Shadow DOM",
        "content": "Controlling component styling scope. Covers Angular's three **`ViewEncapsulation`** modes: **`Emulated`** (default, uses CSS attributes to scope styles), **`ShadowDom`** (uses the browser's native Shadow DOM for true isolation), and **`None`** (styles leak globally). Explains the benefits of encapsulation for preventing style collisions and promoting component reusability.",
        "codeExample": "/* Setting View Encapsulation Mode */\nimport { ViewEncapsulation } from '@angular/core';\n\n@Component({\n¬† selector: 'app-card',\n¬† template: '<h2>Card Title</h2>',\n¬† styles: ['h2 { color: blue; }'],\n¬† // Using the native Shadow DOM for isolation\n¬† encapsulation: ViewEncapsulation.ShadowDom \n})\nexport class CardComponent { }"
      },
      {
        "title": "Standalone Components and Moduleless Architecture",
        "content": "The transition to a **Moduleless Architecture** using **Standalone Components** (introduced in Angular 14+). Covers using the `standalone: true` property and explicitly importing dependencies directly into the component's `imports` array, simplifying bootstrapping and eliminating the need for many trivial `NgModule` files. Details best practices for migrating from module-based to standalone structure.",
        "codeExample": "/* Standalone Component (Modern Angular) */\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n¬† selector: 'app-standalone-counter',\n¬† standalone: true, // Key property\n¬† imports: [CommonModule, FormsModule],\n¬† template: `<h1>Count: {{ count }}</h1>`\n})\nexport class StandaloneCounterComponent {\n¬† count = 0;\n}"
      }
    ]
  },
  {
    "id": 2,
    "title": "TypeScript and Decorators üß†",
    "icon": "Code",
    "subsections": [
      {
        "title": "TypeScript Basics: Types, Interfaces, and Classes",
        "content": "A foundation in **TypeScript** as the required language for Angular. Covers defining **Primitive Types** (`string`, `number`, `boolean`), **Union Types** (`string | number`), and using **Interfaces** for defining contracts (data shape for objects, functions). Details the use of **Classes** for components and services, including access modifiers (`public`, `private`, `protected`).",
        "codeExample": "/* TypeScript Types and Interface */\ninterface Product {\n¬† id: number;\n¬† name: string;\n¬† price: number | string;\n¬† isAvailable: boolean;\n}\n\nclass ProductService {\n¬† private products: Product[] = [];\n¬† \n¬† public getProduct(id: number): Product | undefined {\n¬† ¬† return this.products.find(p => p.id === id);\n¬† }\n}"
      },
      {
        "title": "Advanced TypeScript Features (Generics, Enums, Decorators)",
        "content": "Utilizing advanced TypeScript patterns for robust Angular development. Covers **Generics** (`<T>`) for writing reusable code (e.g., generic HTTP services), **Enums** for defining sets of constants, and understanding the role of **Type Assertions** (`as T`) and the **non-null assertion operator** (`!`) when interfacing with Angular APIs or third-party libraries.",
        "codeExample": "/* TypeScript Generics in a service */\nclass GenericApiService<T> {\n¬† constructor(private endpoint: string) {}\n¬† \n¬† public getById(id: number): Observable<T> {\n¬† ¬† // Returns Observable of type T\n¬† ¬† return this.http.get<T>(`${this.endpoint}/${id}`);\n¬† }\n}"
      },
      {
        "title": "Angular Decorators: `@Component`, `@NgModule`, `@Injectable`",
        "content": "Understanding **Decorators** (`@`) as functions that attach metadata to classes, properties, or parameters, telling Angular how to process them. Details the essential decorators: **`@Component`** (defines the selector, template, and styles), **`@NgModule`** (defines imports, exports, and declarations), and **`@Injectable`** (marks a class as an inject-able service).",
        "codeExample": "/* The @Component Decorator */\nimport { Component } from '@angular/core';\n\n@Component({\n¬† selector: 'app-root',\n¬† // Template metadata\n¬† template: `<h1>{{ title }}</h1>`,\n¬† // Style metadata\n¬† styleUrls: ['./app.component.css'] \n})\nexport class AppComponent {\n¬† title = 'Angular App';\n}"
      },
      {
        "title": "Property and Parameter Decorators (`@Input`, `@Output`, `@Inject`)",
        "content": "Focuses on decorators used for inter-component communication and DI. **`@Input()`** marks a property as bindable from the parent component's template. **`@Output()`** marks a property as an event emitter to the parent. **`@ViewChild()`** for accessing child components/elements. **`@Inject()`** for explicit token-based Dependency Injection.",
        "codeExample": "/* Property Decorators for communication */\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({ ... })\nexport class ChildComponent {\n¬† @Input() data: string = ''; // Receives data from parent\n¬† \n¬† // Emits an event to the parent\n¬† @Output() action = new EventEmitter<string>();\n¬† \n¬† handleClick() {\n¬† ¬† this.action.emit('child clicked');\n¬† }\n}"
      },
      {
        "title": "The `tsconfig.json` Configuration",
        "content": "A detailed look at the TypeScript compiler configuration file **`tsconfig.json`** in an Angular project. Covers key compiler options (`target`, `module`, `rootDir`, `outDir`) and Angular-specific settings (`angularCompilerOptions`). Explains the distinction between `tsconfig.app.json` (application code) and `tsconfig.spec.json` (testing files) and best practices for path mapping.",
        "codeExample": "/* tsconfig.json snippet */\n{\n¬† \"compilerOptions\": {\n¬† ¬† \"target\": \"ES2020\",\n¬† ¬† \"module\": \"ES2020\",\n¬† ¬† \"outDir\": \"./dist/out-tsc\",\n¬† ¬† \"forceConsistentCasingInFileNames\": true,\n¬† ¬† \"strict\": true,\n¬† ¬† \"noImplicitReturns\": true,\n¬† ¬† // Angular-specific settings\n¬† ¬† \"enableIvy\": true\n¬† }\n}"
      }
    ]
  },
  {
    "id": 3,
    "title": "Data Binding, Inputs, Outputs, and Directives üîÑ",
    "icon": "Code",
    "subsections": [
      {
        "title": "One-Way Data Binding: Interpolation and Property Binding",
        "content": "The foundational mechanism for presenting data. **Interpolation** (`{{ value }}`) displays data as text content in the template. **Property Binding** (`[property]=\"value\"`) sets a native or component property (e.g., `[src]`, `[disabled]`) to a component value. Emphasizes that both are one-way (from component to view) and safe against Cross-Site Scripting (XSS).",
        "codeExample": "/* Interpolation and Property Binding */\n@Component({ template: `\n¬† <h1>Welcome, {{ user.name }}!</h1>\n¬† <button [disabled]=\"isLoading\">Submit</button>\n¬† <img [src]=\"imageUrl\" [alt]=\"imageAltText\">\n`})\nexport class DataBindingComponent {\n¬† user = { name: 'Alice' };\n¬† isLoading = true;\n¬† imageUrl = 'assets/logo.png';\n¬† imageAltText = 'App Logo';\n}"
      },
      {
        "title": "Event Binding and Event Handling",
        "content": "Binding to **DOM Events** (clicks, inputs, key presses) using the syntax `(event)=\"handler($event)\"`. Covers passing the native **`$event`** object to the component method, allowing access to event details (e.g., `event.target.value`). Details using **`@Output()`** with **`EventEmitter`** to emit custom events from a child component to its parent.",
        "codeExample": "/* Event Binding and Custom Output */\n@Component({ \n¬† selector: 'app-child',\n¬† template: `<button (click)=\"emitClick()\">Click me</button>`\n})\nexport class ChildComponent {\n¬† @Output() buttonClicked = new EventEmitter<number>();\n\n¬† emitClick() {\n¬† ¬† this.buttonClicked.emit(Date.now());\n¬† }\n}\n\n/* Parent Component Template Usage */\n<app-child (buttonClicked)=\"handleChildEvent($event)\"></app-child>"
      },
      {
        "title": "Two-Way Data Binding (`ngModel`)",
        "content": "Implementing **Two-Way Data Binding** using the **`[(ngModel)]`** directive (requires **`FormsModule`** or **`ReactiveFormsModule`**). Explains the binding as syntactic sugar for combining property binding (`[ngModel]`) and event binding (`(ngModelChange)`) to keep the component's model and the view's value synchronized automatically, primarily used in template-driven forms.",
        "codeExample": "/* Two-Way Data Binding with ngModel (Requires FormsModule) */\n@Component({ template: `\n¬† <input [(ngModel)]=\"userName\">\n¬† <p>Hello, {{ userName }}</p>\n`})\nexport class TwoWayBindingComponent {\n¬† userName: string = 'Guest';\n}"
      },
      {
        "title": "Structural Directives: `*ngIf`, `*ngFor`, `*ngSwitch`",
        "content": "Mastering **Structural Directives** which manipulate the DOM by adding, removing, or replacing elements. **`*ngIf`** for conditional rendering. **`*ngFor`** for list rendering (details the use of the `trackBy` function for performance). **`*ngSwitch`** for conditional display among several alternatives. Explains the asterisk syntax (`*`) as shorthand for the template tag (`<ng-template>`).",
        "codeExample": "/* Structural Directives */\n@Component({ template: `\n¬† <div *ngIf=\"isValid\">\n¬† ¬† <li *ngFor=\"let item of items; trackBy: trackById; let i = index\">\n¬† ¬† ¬† {{ i }}: {{ item.name }}\n¬† ¬† </li>\n¬† </div>\n¬† <div [ngSwitch]=\"user.role\">\n¬† ¬† <p *ngSwitchCase=\"'admin'\">Admin Controls</p>\n¬† ¬† <p *ngSwitchDefault>Guest View</p>\n¬† </div>\n`})\nexport class DirectivesComponent { items = [{ id: 1, name: 'A' }]; trackById = (i: number, item: any) => item.id; }"
      },
      {
        "title": "Attribute Directives: `[ngStyle]`, `[ngClass]`, and Custom Directives",
        "content": "Mastering **Attribute Directives** which change the appearance or behavior of an element, component, or another directive. **`[ngStyle]`** for dynamically applying a set of CSS styles (JavaScript object). **`[ngClass]`** for dynamically applying CSS classes (object or string array). Details creating **Custom Attribute Directives** using the **`@Directive`** decorator and the **`ElementRef`** and **`Renderer2`** services for safe DOM manipulation.",
        "codeExample": "/* Attribute Directives and Custom Directive */\n@Directive({ selector: '[appHighlight]' })\nexport class HighlightDirective {\n¬† constructor(private el: ElementRef) {\n¬† ¬† el.nativeElement.style.backgroundColor = 'yellow';\n¬† }\n}\n\n/* Template Usage */\n<p [ngClass]=\"{'active': isActive, 'error': hasError}\">\n¬† Conditional Classes\n</p>\n<div [ngStyle]=\"{ 'font-size.px': fontSize, 'color': 'red' }\"\n¬† ¬† ¬†appHighlight>\n¬† Conditional Styles and Custom Directive\n</div>"
      }
    ]
  },
  {
    "id": 4,
    "title": "Dependency Injection and Services üíâ",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Dependency Injection System and Providers",
        "content": "Deep dive into Angular's built-in **Dependency Injection (DI)** framework. Explains the concept of the **Injector Tree** (Root, Module, Component) and the **Provider** mechanism (telling the injector *how* to create the dependency). Covers the three types of providers: **`Type`** (class), **`Value`** (constant), and **`Factory`** (function).",
        "codeExample": "/* Providing a Value (Constant) */\nimport { InjectionToken } from '@angular/core';\n\nexport const API_URL_TOKEN = new InjectionToken<string>('ApiUrl');\n\n@NgModule({\n¬† providers: [\n¬† ¬† { provide: API_URL_TOKEN, useValue: 'https://api.myapp.com/v1' }\n¬† ]\n})\nexport class AppModule { }"
      },
      {
        "title": "Services and the `@Injectable` Decorator",
        "content": "Mastering **Services** for encapsulating business logic, data persistence, and reusable utility functions. Covers using the **`@Injectable()`** decorator to mark a class as an inject-able service and defining the scope using the **`providedIn`** property: **`'root'`** (singleton, available everywhere) or a specific module/component (scoped instance).",
        "codeExample": "/* Defining a Service */\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n¬† // Provided in root makes it a singleton throughout the app\n¬† providedIn: 'root' \n})\nexport class AuthService {\n¬† private token: string = '';\n¬† \n¬† setToken(t: string) { this.token = t; }\n¬† getToken(): string { return this.token; }\n}"
      },
      {
        "title": "Injection Scope and Hierarchical Injectors",
        "content": "Understanding the **Hierarchical Injector** system. Explains how components request dependencies from their local injector and traverse up the tree (Component -> Lazy Module -> Root Module -> Platform) until a provider is found. Covers **Component-Level Providers** for creating dedicated instances of a service unique to a component and its children (e.g., a local form state service).",
        "codeExample": "/* Component-Level Provider for local instance */\n@Component({\n¬† selector: 'app-scoped-service',\n¬† template: '...',\n¬† // Each instance of this component gets a new instance of the LoggerService\n¬† providers: [LoggerService]\n})\nexport class ScopedComponent {\n¬† constructor(private logger: LoggerService) { }\n}"
      },
      {
        "title": "Custom Providers: `useClass`, `useFactory`, and `useExisting`",
        "content": "Implementing **Custom Providers** for advanced scenarios: **`useClass`** (substituting one service class for another at runtime), **`useFactory`** (using a function to create a dependency, allowing runtime logic/configuration), and **`useExisting`** (aliasing an existing token to a new token, useful for deprecated services). Details injection of service dependencies within a factory function.",
        "codeExample": "/* Custom Factory Provider */\nimport { HttpClient } from '@angular/common/http';\n\nfunction apiFactory(http: HttpClient) {\n¬† const config = localStorage.getItem('config') || 'v1';\n¬† return new ApiService(http, config);\n}\n\n@NgModule({\n¬† providers: [\n¬† ¬† {\n¬† ¬† ¬† provide: ApiService,\n¬† ¬† ¬† useFactory: apiFactory,\n¬† ¬† ¬† deps: [HttpClient] // Dependencies needed by the factory function\n¬† ¬† }\n¬† ]\n})\nexport class FeatureModule { }"
      },
      {
        "title": "Injection Tokens and Optional Dependencies",
        "content": "Using **`InjectionToken`** to provide strongly typed tokens for non-class dependencies (values, configuration objects, strings) and avoid naming collisions. Covers using the **`@Optional()`** decorator on a constructor parameter to make the dependency optional; if the injector cannot find a provider, it injects `null` instead of throwing an error.",
        "codeExample": "/* Injecting an Optional Dependency */\nimport { Optional, Inject } from '@angular/core';\nimport { LoggerService } from './logger.service';\nimport { API_URL_TOKEN } from './app.module';\n\n@Component({ ... })\nexport class WidgetComponent {\n¬† // Logger is optional; injected as null if not provided\n¬† constructor(\n¬† ¬† @Optional() private logger: LoggerService,\n¬† ¬† // Injecting the non-class token\n¬† ¬† @Inject(API_URL_TOKEN) private apiUrl: string\n¬† ) {\n¬† ¬† if (this.logger) { this.logger.info(`Widget created with API: ${apiUrl}`); }\n¬† }\n}"
      }
    ]
  },
  {
    "id": 5,
    "title": "Asynchronous Programming with RxJS üåä",
    "icon": "Code",
    "subsections": [
      {
        "title": "Observables vs. Promises and RxJS Core Concepts",
        "content": "The fundamental difference between **Observables** (lazy, stream-based, multicasting) and **Promises** (eager, single-value, synchronous resolution). Introduces the core concepts of **RxJS**: **`Observable`** (the data source), **`Observer`** (the consumer with `next`, `error`, `complete` methods), and **`Subscription`** (the connection that must be manually destroyed).",
        "codeExample": "/* Observable Creation and Subscription */\nimport { Observable } from 'rxjs';\n\nconst stream$ = new Observable(observer => {\n¬† observer.next(1); // Emit value\n¬† setTimeout(() => observer.complete(), 1000); // Complete stream\n¬† return () => { console.log('Tear down logic'); }; // Cleanup function\n});\n\nconst subscription = stream$.subscribe(val => console.log(val));\n\n// Must manually unsubscribe on ngOnDestroy\nsubscription.unsubscribe();"
      },
      {
        "title": "RxJS Operators: Transformation and Filtering",
        "content": "Mastering the use of **Operators** within the **`pipe()`** function to compose complex asynchronous logic. Covers **Transformation Operators** (`map`, `switchMap`, `mergeMap`, `concatMap`) and **Filtering Operators** (`filter`, `take`, `debounceTime`). Emphasizes the use of **`switchMap`** for canceling previous, stale HTTP requests (e.g., in typeahead search).",
        "codeExample": "import { of, map, filter, switchMap, debounceTime } from 'rxjs';\n\nconst search$ = of('a', 'ab', 'abc');\n\nsearch$.pipe(\n¬† // Wait 300ms after last emission before continuing\n¬† debounceTime(300),\n¬† // Only pass values with length > 1\n¬† filter(term => term.length > 1),\n¬† // Cancel previous inner observable and switch to new search\n¬† switchMap(term => this.http.get(`/api/search?q=${term}`))\n).subscribe(results => console.log(results));"
      },
      {
        "title": "Multicasting: Subjects (`BehaviorSubject`, `ReplaySubject`)",
        "content": "Solving the problem of **Multicasting** (sharing a single Observable execution among multiple Observers) using **Subjects**. Covers the different types: **`Subject`** (no initial value, no replay), **`BehaviorSubject`** (requires initial value, replays the latest value to new subscribers), and **`ReplaySubject`** (replays a specific number of past values to new subscribers). Subjects are crucial for state management services.",
        "codeExample": "import { BehaviorSubject } from 'rxjs';\n\n// BehaviorSubject for shared application state\nexport class StateService {\n¬† private userCountSource = new BehaviorSubject<number>(0);\n¬† // Public Observable interface\n¬† userCount$ = this.userCountSource.asObservable(); \n¬† \n¬† increment() {\n¬† ¬† const current = this.userCountSource.getValue();\n¬† ¬† this.userCountSource.next(current + 1);\n¬† }\n}"
      },
      {
        "title": "Error Handling, Combining Observables, and Cancellation",
        "content": "Implementing resilient RxJS streams. Covers using **`catchError`** to gracefully handle errors and either return a fallback value or re-throw the error. Details **Combining Observables** using operators like **`forkJoin`** (parallel execution, waits for all to complete) and **`combineLatest`** (emits when any source emits, using the latest values from all). Emphasizes using **`takeUntil`** combined with an `ngOnDestroy` Subject for automatic cleanup/cancellation.",
        "codeExample": "import { forkJoin, catchError, of, Subject } from 'rxjs';\n\nconst destroy$ = new Subject<void>();\n\nforkJoin({\n¬† data1: this.http.get('/api/data1').pipe(catchError(() => of(null))), // Graceful error handling\n¬† data2: this.http.get('/api/data2'),\n}).pipe(\n¬† // Automatically unsubscribe when component is destroyed\n¬† takeUntil(destroy$)\n).subscribe(results => console.log(results));"
      },
      {
        "title": "The `async` Pipe and Automatic Unsubscription",
        "content": "Mastering the built-in **`async` Pipe** (`{{ observable$ | async }}`) as the preferred method for handling Observables in templates. Explains why the `async` pipe is mandatory for preventing memory leaks: it automatically subscribes to the Observable when the component is rendered and **automatically unsubscribes** when the component is destroyed (`ngOnDestroy`), eliminating the need for manual cleanup logic.",
        "codeExample": "/* Template with async pipe */\n@Component({\n¬† template: `\n¬† ¬† <div *ngIf=\"(userData$ | async) as user\">\n¬† ¬† ¬† Welcome, {{ user.name }}\n¬† ¬† </div>\n¬† ¬† <p>Status: {{ (status$ | async) }}</p>\n¬† `\n})\nexport class AsyncPipeComponent {\n¬† userData$: Observable<any> = this.authService.user$;\n¬† status$: Observable<string> = this.statusService.status$;\n¬† // NO manual unsubscribe needed!\n}"
      }
    ]
  },
  {
    "id": 6,
    "title": "Angular Routing and Navigation üõ£Ô∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Setting up the Router Module and Router Outlet",
        "content": "The foundation of Angular's SPA navigation. Covers defining the application's root routes in **`AppRoutingModule`** (using `RouterModule.forRoot()`). Explains the role of the **`<router-outlet>`** directive as the placeholder where activated components are rendered. Details configuration options like `useHash` (for browser compatibility) and `enableTracing` (for debugging).",
        "codeExample": "/* app-routing.module.ts */\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomeComponent } from './home.component';\n\nconst routes: Routes = [\n¬† { path: '', component: HomeComponent },\n¬† { path: 'about', component: AboutComponent },\n¬† // Catch-all route (must be last)\n¬† { path: '**', component: NotFoundComponent }\n];\n\n@NgModule({\n¬† imports: [RouterModule.forRoot(routes, { enableTracing: false })],\n¬† exports: [RouterModule]\n})\nexport class AppRoutingModule { }"
      },
      {
        "title": "Route Parameters, Query Parameters, and Snapshots",
        "content": "Accessing dynamic data from the URL. Covers defining **Route Parameters** (`:id`) and accessing them via the **`ActivatedRoute`** service's **`snapshot`** (for static access) or **`params`** Observable (for dynamic access within the component). Details retrieving **Query Parameters** (`?sort=asc`) using the `queryParams` Observable for filtering and searching.",
        "codeExample": "/* Accessing Route Parameters */\nimport { ActivatedRoute } from '@angular/router';\n\nexport class DetailComponent implements OnInit {\n¬† constructor(private route: ActivatedRoute) { }\n\n¬† ngOnInit(): void {\n¬† ¬† // Reactive access to route params (preferred)\n¬† ¬† this.route.params.subscribe(params => {\n¬† ¬† ¬† const userId = params['id'];\n¬† ¬† });\n¬† ¬† \n¬† ¬† // Snapshot access to query params\n¬† ¬† const sort = this.route.snapshot.queryParams['sort'];\n¬† }\n}"
      },
      {
        "title": "Programmatic and Declarative Navigation",
        "content": "Methods for switching routes. Covers the declarative **`[routerLink]`** directive in templates for basic user navigation. Details the imperative **`Router`** service's methods: **`Maps()`** (relative navigation, array of path segments) and **`MapsByUrl()`** (absolute navigation, string URL), emphasizing passing optional parameters like `queryParams` and `fragment`.",
        "codeExample": "/* Declarative and Programmatic Navigation */\nimport { Router } from '@angular/router';\n\n@Component({ template: `\n¬† <a [routerLink]=\"['/user', userId]\">User Profile</a>\n¬† <button (click)=\"goToDashboard()\">Dashboard</button>\n`})\nexport class NavComponent {\n¬† userId = 123;\n¬† constructor(private router: Router) { }\n\n¬† goToDashboard() {\n¬† ¬† // Navigate programmatically with query params\n¬† ¬† this.router.navigate(['/dashboard'], { queryParams: { status: 'active' } });\n¬† }\n}"
      },
      {
        "title": "Lazy Loading and Feature Modules",
        "content": "Implementing **Lazy Loading** to split the application bundle into smaller, feature-specific chunks, improving initial load time. Covers defining a route with the **`loadChildren`** property to dynamically load a feature module (or standalone component file) only when the user navigates to its path. Essential for enterprise-scale application performance.",
        "codeExample": "/* Lazy Loading a Feature Module */\nconst routes: Routes = [\n¬† {\n¬† ¬† path: 'admin', \n¬† ¬† // Use loadChildren to import module path\n¬† ¬† loadChildren: () => import('./admin/admin.module').then(m => m.AdminModule) \n¬† },\n¬† {\n¬† ¬† path: 'reports', \n¬† ¬† // Lazy load a Standalone component\n¬† ¬† loadComponent: () => import('./reports/report.component').then(c => c.ReportComponent)\n¬† }\n];"
      },
      {
        "title": "Route Guards (CanActivate, CanDeactivate, Resolve)",
        "content": "Implementing client-side security and data pre-fetching using **Route Guards**. **`CanActivate`** checks if a user is authorized to enter a route (e.g., login check). **`CanDeactivate`** checks if a user is allowed to leave (e.g., confirmation before leaving an unsaved form). **`Resolve`** pre-fetches data before the component is loaded, ensuring the component initializes with data available.",
        "codeExample": "/* Route Definition using Guards */\nconst routes: Routes = [\n¬† {\n¬† ¬† path: 'settings',\n¬† ¬† component: SettingsComponent,\n¬† ¬† canActivate: [AuthGuard], // Check authentication before activation\n¬† ¬† canDeactivate: [UnsavedChangesGuard], // Check before deactivation\n¬† ¬† resolve: { \n¬† ¬† ¬† user: UserResolver // Pre-fetch user data\n¬† ¬† }\n¬† }\n];"
      }
    ]
  },
  {
    "id": 7,
    "title": "Angular Forms: Template and Reactive ‚úÖ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Template-Driven Forms (Simple Forms)",
        "content": "Building forms primarily using directives in the template (requires **`FormsModule`**). Covers using **`ngModel`** for two-way binding, applying native HTML validation attributes, and leveraging the exposed form properties (validity, pristine, dirty) via the local template variable (`#myForm='ngForm'`) for conditional styling and error messaging.",
        "codeExample": "/* Template-Driven Form */\n<form #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit(loginForm.value)\">\n¬† <input type=\"email\" name=\"email\" [(ngModel)]=\"user.email\" required email #emailControl=\"ngModel\">\n¬† \n¬† <div *ngIf=\"emailControl.invalid && emailControl.touched\">\n¬† ¬† Email is required and must be valid.\n¬† </div>\n¬† \n¬† <button type=\"submit\" [disabled]=\"loginForm.invalid\">Login</button>\n</form>"
      },
      {
        "title": "Reactive Forms: `FormControl`, `FormGroup`, and `FormArray`",
        "content": "Building forms programmatically using code (requires **`ReactiveFormsModule`**). Covers creating a **`FormControl`** (for a single input), grouping controls in a **`FormGroup`** (for the entire form), and using a **`FormArray`** for dynamic, repeatable fields (e.g., line items). Emphasizes that the source of truth is the **model class** in the component, not the template.",
        "codeExample": "/* Component setup for a Reactive Form */\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\nexport class ReactiveFormComponent implements OnInit {\n¬† profileForm: FormGroup;\n¬† \n¬† ngOnInit(): void {\n¬† ¬† this.profileForm = new FormGroup({\n¬† ¬† ¬† firstName: new FormControl('', Validators.required),\n¬† ¬† ¬† lastName: new FormControl(''),\n¬† ¬† ¬† address: new FormGroup({\n¬† ¬† ¬† ¬† city: new FormControl('')\n¬† ¬† ¬† })\n¬† ¬† });\n¬† }\n\n¬† // Template: <input formControlName=\"firstName\">"
      },
      {
        "title": "Built-in Validators and Custom Validation",
        "content": "Applying Angular's **Built-in Validators** (`Validators.required`, `Validators.minLength`, `Validators.email`) directly to `FormControl` declarations. Covers writing **Custom Synchronous and Asynchronous Validators** (returning an Observable or Promise) for complex logic (e.g., checking if a username is already taken on the server), ensuring detailed and timely feedback.",
        "codeExample": "/* Applying Built-in and Custom Validators */\nnew FormControl('', [\n¬† // Synchronous Validators\n¬† Validators.required,\n¬† Validators.minLength(5),\n¬† \n¬† // Custom validator function\n¬† forbiddenNameValidator(/bob/i)\n]);\n\n/* Custom Async Validator Example (Conceptual) */\n// username: new FormControl('', null, [this.uniqueUsernameValidator])"
      },
      {
        "title": "Patching, Resetting, and Status Change Streams",
        "content": "Programmatic control over Reactive Forms. Covers updating form values using **`setValue()`** (requires all keys) and **`patchValue()`** (allows partial updates). Details the use of **`reset()`** to clear the form. Crucially, covers monitoring state changes using the **`valueChanges`** and **`statusChanges`** Observables on `FormGroup` for running dynamic logic (e.g., enabling a field, calculating totals).",
        "codeExample": "/* Value and Status Change Streams */\nngOnInit(): void {\n¬† // Subscribe to form value changes (RxJS)\n¬† this.profileForm.valueChanges.subscribe(value => {\n¬† ¬† console.log('Form value updated:', value);\n¬† });\n¬† \n¬† // Patching a subset of values\n¬† this.profileForm.patchValue({ firstName: 'Jane' });\n}\n\n// Resetting the form\nthis.profileForm.reset();"
      },
      {
        "title": "The `FormBuilder` Service and Array Management",
        "content": "Using the **`FormBuilder`** service (an injectable utility) as a concise way to create form controls and groups quickly. Covers dynamically adding and removing items from a **`FormArray`** using methods like **`push()`**, **`insert()`**, and **`removeAt()`**, essential for handling repeatable data structures in complex applications.",
        "codeExample": "/* FormBuilder Usage and FormArray */\nimport { FormBuilder, FormArray } from '@angular/forms';\n\nexport class FormBuilderComponent {\n¬† constructor(private fb: FormBuilder) { }\n¬† \n¬† form = this.fb.group({\n¬† ¬† name: ['', Validators.required],\n¬† ¬† emails: this.fb.array([this.fb.control('')])\n¬† });\n¬† \n¬† get emails() { // Getter for easy template access\n¬† ¬† return this.form.get('emails') as FormArray;\n¬† }\n¬† \n¬† addEmail() {\n¬† ¬† this.emails.push(this.fb.control('', Validators.email));\n¬† }\n}"
      }
    ]
  },
  {
    "id": 8,
    "title": "Pipes, Change Detection, and Performance ‚ö°",
    "icon": "List",
    "subsections": [
      {
        "title": "Built-in Pipes: Formatting and Localization",
        "content": "Utilizing Angular's built-in **Pipes** (`|`) to transform data directly in templates. Covers common pipes for formatting: **`DatePipe`**, **`CurrencyPipe`**, **`DecimalPipe`** (with locale configuration), **`JsonPipe`**, and **`UpperCasePipe`**. Emphasizes using pipes for simple presentation logic, keeping the component logic clean.",
        "codeExample": "/* Template Pipe Usage */\n<p>Date: {{ today | date:'shortDate' }}</p>\n<p>Price: {{ price | currency:'USD':'symbol':'1.2-2' }}</p>\n<p>User Data: {{ user | json }}</p>"
      },
      {
        "title": "Custom Pipes and Pure vs. Impure Pipes",
        "content": "Creating **Custom Pipes** using the **`@Pipe`** decorator and implementing the **`PipeTransform`** interface. Covers the two types: **Pure Pipes** (default, executed only when input reference changes) and **Impure Pipes** (executed on *every* change detection cycle, must be used cautiously for performance). Explains why the **`async` Pipe** is inherently an Impure Pipe.",
        "codeExample": "/* Custom Pure Pipe Definition */\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n¬† name: 'reverseString',\n¬† // pure: true by default\n})\nexport class ReverseStringPipe implements PipeTransform {\n¬† transform(value: string): string {\n¬† ¬† console.log('ReverseStringPipe executed');\n¬† ¬† return value.split('').reverse().join('');\n¬† }\n}\n\n// Template: {{ 'hello' | reverseString }}"
      },
      {
        "title": "Change Detection Mechanism and Zones",
        "content": "Deep dive into Angular's **Change Detection** process. Explains how **`zone.js`** patches native asynchronous browser APIs (DOM events, `setTimeout`, Promises) to notify Angular when asynchronous work completes. This triggers the **Change Detection Cycle** (checking bindings from top to bottom) to synchronize component data with the view.",
        "codeExample": "/* Conceptual Zone.js Patching */\n// Zone.js wraps this function:\nsetTimeout(() => {\n¬† // Code runs here\n¬† this.data = 'updated';\n¬† // Zone.js notifies Angular to check for changes\n}, 100);"
      },
      {
        "title": "Performance Optimization: OnPush Strategy",
        "content": "Implementing the **`OnPush` Change Detection Strategy** as the primary performance optimization technique. Covers setting `changeDetection: ChangeDetectionStrategy.OnPush` in the `@Component` decorator. Explains that with OnPush, components only re-render if an **`@Input()`** reference changes or an event originates within the component itself (or is manually triggered), reducing unnecessary checks.",
        "codeExample": "/* Implementing OnPush Strategy */\nimport { ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n¬† selector: 'app-optimized-list',\n¬† template: `<h1>{{ title }}</h1>...`,\n¬† // Only checks when input reference or local observable changes\n¬† changeDetection: ChangeDetectionStrategy.OnPush \n})\nexport class OptimizedListComponent {\n¬† // Must pass immutable inputs for this to work effectively\n¬† @Input() immutableData: any[]; \n}"
      },
      {
        "title": "Detaching Change Detector and Manual Checks",
        "content": "Advanced performance control. Covers using the **`ChangeDetectorRef`** service to manually control detection. Methods: **`detach()`** (detaching a component tree from the detector to prevent checks) and **`detectChanges()`** (running a check manually when needed). This strategy is powerful but complex and should be reserved for high-frequency updates (e.g., charting, game loops).",
        "codeExample": "/* Detaching and Reattaching Change Detector */\nimport { ChangeDetectorRef } from '@angular/core';\n\nconstructor(private cdr: ChangeDetectorRef) { }\n\n// Detach on init to stop automatic checks\nngOnInit(): void { this.cdr.detach(); }\n\n// Manually check and update the view when data arrives\nloadData() {\n¬† this.dataService.getData().subscribe(data => {\n¬† ¬† this.componentData = data;\n¬† ¬† this.cdr.detectChanges(); // Trigger manual check\n¬† });\n}"
      }
    ]
  },
  {
    "id": 9,
    "title": "HttpClient, Interceptors, and Data Flow üì°",
    "subsections": [
      {
        "title": "HttpClient Module and Basic Data Fetching",
        "content": "Using the **`HttpClientModule`** (must be imported in `NgModule`) and the **`HttpClient`** service for making HTTP requests. Covers the basic CRUD methods (`.get()`, `.post()`, `.put()`, `.delete()`) which all return **Cold Observables**. Emphasizes using TypeScript generics (`.get<T>()`) to enforce the expected return data structure and strong typing.",
        "codeExample": "import { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\ninterface User { id: number; name: string; }\n\n@Injectable({ providedIn: 'root' })\nexport class UserService {\n¬† constructor(private http: HttpClient) { }\n¬† \n¬† getUsers(): Observable<User[]> {\n¬† ¬† // Strongly typed Observable<User[]>\n¬† ¬† return this.http.get<User[]>('/api/users');\n¬† }\n¬† \n¬† createUser(user: User): Observable<User> {\n¬† ¬† return this.http.post<User>('/api/users', user);\n¬† }\n}"
      },
      {
        "title": "HTTP Interceptors for Global Handling",
        "content": "Implementing the **`HttpInterceptor`** interface to process HTTP requests and responses globally before they are sent or handled by the subscriber. Covers use cases: **Authentication** (attaching the JWT token to the `Authorization` header), **Logging**, and **Error Handling** (catching 401/403 errors and redirecting to the login page). Interceptors are registered as a Multi-Provider.",
        "codeExample": "/* Auth Interceptor Implementation */\nimport { HttpInterceptor, HttpRequest, HttpHandler, HTTP_INTERCEPTORS } from '@angular/common/http';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n¬† intercept(req: HttpRequest<any>, next: HttpHandler) {\n¬† ¬† const authToken = this.authService.getToken();\n¬† ¬† \n¬† ¬† // Clone the request and set the new header\n¬† ¬† const authReq = req.clone({\n¬† ¬† ¬† setHeaders: { Authorization: `Bearer ${authToken}` }\n¬† ¬† });\n¬† ¬† \n¬† ¬† return next.handle(authReq); // Pass the cloned request\n¬† }\n}\n\n// Registration in AppModule providers array\n// providers: [{ provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true }]"
      },
      {
        "title": "Managing API State with NGRX/Akita (Conceptual)",
        "content": "For complex global API state: a conceptual overview of dedicated state management libraries like **NGRX (Redux for Angular)** or **Akita/NGXS**. Covers the **NGRX pattern**: **`Store`** (single source of truth), **`Actions`** (dispatched events), **`Reducers`** (pure functions for state changes), **`Selectors`** (reading data), and **`Effects`** (handling asynchronous side effects like HTTP calls).",
        "codeExample": "/* NGRX Selector Example */\nimport { createFeatureSelector, createSelector } from '@ngrx/store';\n\n// 1. Feature Selector: get the main slice of state\nconst selectUserState = createFeatureSelector<UserState>('users');\n\n// 2. Projection Selector: get a derived value\nexport const selectActiveUsers = createSelector(\n¬† selectUserState,\n¬† (state) => state.users.filter(user => user.status === 'active')\n);\n\n// Component usage: this.store.select(selectActiveUsers)"
      },
      {
        "title": "Error Interception and Retry Logic",
        "content": "Advanced error handling using RxJS operators within the HTTP interceptor chain. Covers using the **`tap`** operator to observe side effects (like errors) without modifying the stream. Details implementing **`retry()`** and **`retryWhen()`** to automatically re-attempt failed API calls a specified number of times or based on specific network conditions, increasing application resilience.",
        "codeExample": "/* Retry Logic using RxJS in a Service */\nimport { throwError } from 'rxjs';\nimport { catchError, retry, delay } from 'rxjs/operators';\n\nthis.http.get('/api/unstable').pipe(\n¬† // Retry up to 3 times on failure\n¬† retry(3),\n¬† // Custom error handler\n¬† catchError(error => {\n¬† ¬† console.error('Final API call failed:', error);\n¬† ¬† // Re-throw the error to the subscriber\n¬† ¬† return throwError(() => new Error('Service Unavailable'));\n¬† })\n).subscribe(data => console.log(data));"
      },
      {
        "title": "Handling Binary Data, Blobs, and File Uploads",
        "content": "Making requests that handle non-JSON data. Covers configuring the **`responseType`** option (`'json'`, `'text'`, `'arraybuffer'`, `'blob'`) in `HttpClient` requests (e.g., downloading an image or PDF file). Details using **`FormData`** for multipart file uploads in POST requests, ensuring the correct headers are passed (often automatically by the browser).",
        "codeExample": "/* Downloading a PDF file */\ndownloadPdf(): Observable<Blob> {\n¬† return this.http.get('/api/report/download', {\n¬† ¬† responseType: 'blob'\n¬† });\n}\n\n/* File Upload (Conceptual) */\nuploadFile(file: File) {\n¬† const formData = new FormData();\n¬† formData.append('file', file, file.name);\n¬† // HttpClient automatically sets Content-Type to multipart/form-data\n¬† return this.http.post('/api/upload', formData);\n}"
      }
    ]
  },
  {
    "id": 10,
    "title": "Testing, CLI Automation, and Deployment üß™",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Unit Testing Components (TestBed and Fixture)",
        "content": "Setting up component isolation testing using **`TestBed`** (Angular's testing environment module). Covers creating the **Component Fixture** (`TestBed.createComponent()`) and the use of the **`DebugElement`** to query the component's internal DOM. Emphasizes mocking dependencies and services using **`useValue`** in the `TestBed` configuration to ensure unit tests are fast and isolated.",
        "codeExample": "/* Component Unit Test */\ndescribe('UserComponent', () => {\n¬† beforeEach(async () => {\n¬† ¬† await TestBed.configureTestingModule({\n¬† ¬† ¬† declarations: [UserComponent],\n¬† ¬† ¬† // Mock the dependency\n¬† ¬† ¬† providers: [{ provide: AuthService, useValue: { getUser: () => of({ name: 'Test' }) } }]\n¬† ¬† }).compileComponents();\n¬† });\n\n¬† it('should display user name after creation', () => {\n¬† ¬† const fixture = TestBed.createComponent(UserComponent);\n¬† ¬† fixture.detectChanges(); // Trigger change detection (ngOnInit)\n¬† ¬† // Query the DOM via DebugElement\n¬† ¬† const compiled = fixture.nativeElement as HTMLElement;\n¬† ¬† expect(compiled.querySelector('h1')?.textContent).toContain('Welcome, Test');\n¬† });\n});"
      },
      {
        "title": "Testing Services, Pipes, and Observables",
        "content": "Testing non-component artifacts. Covers injecting a service directly via `TestBed.inject()` and using **Jest/Jasmine Spies** to mock internal methods or dependencies. Details testing RxJS streams in services by using helper functions like **`cold()`** or converting Observables to Promises (`lastValueFrom`) to handle asynchronous assertions cleanly.",
        "codeExample": "/* Testing an Observable in a Service */\ndescribe('AuthService', () => {\n¬† let service: AuthService;\n¬† let httpTestingController: HttpTestingController;\n\n¬† beforeEach(() => { service = TestBed.inject(AuthService); httpTestingController = TestBed.inject(HttpTestingController); });\n\n¬† it('should return token', async () => {\n¬† ¬† service.getToken().subscribe(token => {\n¬† ¬† ¬† expect(token).toEqual('mock-jwt');\n¬† ¬† });\n¬† ¬† // Expect HTTP call and mock the response\n¬† ¬† const req = httpTestingController.expectOne('/api/token');\n¬† ¬† req.flush('mock-jwt');\n¬† });\n});"
      },
      {
        "title": "Integration Testing and Router Testing Harness",
        "content": "Testing the interaction between components and the router/services. Covers using the **`RouterTestingModule`** in `TestBed` to mock the router and prevent actual navigation. Details using the **`RouterTestingHarness`** (modern Angular feature) to simplify testing of lazy-loaded components and navigation flow within the component's test context.",
        "codeExample": "/* Using Router Testing Harness (Conceptual) */\ndescribe('AppComponent with Routing', () => {\n¬† it('should navigate to /about', async () => {\n¬† ¬† const harness = await RouterTestingHarness.create();\n¬† ¬† // Navigate programmatically within the test\n¬† ¬† await harness.navigateByUrl('/about');\n¬† ¬† // Assert the component that was loaded\n¬† ¬† expect(harness.instance).toBeInstanceOf(AboutComponent);\n¬† });\n});"
      },
      {
        "title": "End-to-End (E2E) Testing with Cypress/Protractor (Deprecated)",
        "content": "Setting up full-stack testing. Covers the deprecation of **Protractor** and the transition to modern alternatives like **Cypress** or **Playwright** (via community builders). Details running E2E tests against the built application (`ng serve`) to simulate user behavior, ensuring the entire application flow (navigation, HTTP calls, form validation) works correctly in a real browser.",
        "codeExample": "/* Cypress E2E Test (Conceptual) */\ndescribe('Login E2E Flow', () => {\n¬† it('should log in and show dashboard', () => {\n¬† ¬† cy.visit('/login');\n¬† ¬† cy.get('#email').type('test@angular.com');\n¬† ¬† cy.get('#password').type('password');\n¬† ¬† cy.get('button[type=submit]').click();\n¬† ¬† \n¬† ¬† // Assert URL change and content visibility\n¬† ¬† cy.url().should('include', '/dashboard');\n¬† ¬† cy.get('app-dashboard').should('be.visible');\n¬† });\n});"
      },
      {
        "title": "Deployment, AOT Compilation, and Build Optimization",
        "content": "Preparing the Angular application for production. Covers running the highly optimized **Ahead-Of-Time (AOT) Compilation** (`ng build --configuration=production`). Details key build optimizations: **Tree-Shaking** (removing unused code), **Dead Code Elimination**, **Bundling**, and setting up **Budgeting** in `angular.json` to prevent bundle size inflation. Deployment is typically static hosting of the output files.",
        "codeExample": "/* Angular.json Budget Configuration (for performance control) */\n\"budgets\": [\n¬† {\n¬† ¬† \"type\": \"initial\",\n¬† ¬† \"maximumWarning\": \"500kb\",\n¬† ¬† \"maximumError\": \"1mb\"\n¬† },\n¬† {\n¬† ¬† \"type\": \"anyComponentStyle\",\n¬† ¬† \"maximumWarning\": \"2kb\"\n¬† }\n]"
¬† ¬† ¬† }
¬† ¬† ]
  }
]
  },
  java: {
    id: 'java',
    title: 'Java Development',
    icon: FileJson,
    color: '#ED8B00',
    description: 'Java Enterprise Development',
    units:[
  {
    "id": 1,
    "title": "Java Language Fundamentals & JVM üíª",
    "icon": "Code",
    "subsections": [
      {
        "title": "Java Platform, JVM, and Bytecode",
        "content": "Deep dive into the **Java Virtual Machine (JVM)** architecture, explaining how Java source code is compiled into platform-independent **Bytecode** and executed by the JVM. Covers key JVM components: **Class Loader**, **Runtime Data Areas** (Heap, Stack, Method Area), and the role of the **Just-In-Time (JIT) Compiler** in converting hot bytecode paths into native machine code for performance optimization.",
        "codeExample": "/* Java Class Compilation and Execution */\n// 1. Source Code -> Bytecode\njavac MyClass.java // Generates MyClass.class\n\n// 2. Execution (JVM Interpretation/JIT Compilation)\njava MyClass // Starts the JVM and executes the main method\n\npublic class MyClass {\n¬† public static void main(String[] args) {\n¬† ¬† System.out.println(\"JVM Running...\");\n¬† }\n}"
      },
      {
        "title": "Data Types, Variables, and Control Flow",
        "content": "Mastering Java's fundamental data types: **Primitives** (`int`, `boolean`, `double`, `char`) and **Reference Types** (Objects). Covers variable declaration, scope, and the critical distinction between pass-by-value (primitives) and pass-by-reference-value (objects). Details core control flow structures: `if/else`, `for`, `while`, and the enhanced `for` loop for collections.",
        "codeExample": "/* Data Types and Control Flow */\npublic void calculate(int x, Integer y) {\n¬† // Primitive (Stack) vs. Wrapper Class (Heap)\n¬† int sum = x + y; // Auto-unboxing happens here\n¬† \n¬† if (sum > 0) {\n¬† ¬† for (String arg : args) { // Enhanced for loop\n¬† ¬† ¬† System.out.println(arg);\n¬† ¬† }\n¬† }\n}"
      },
      {
        "title": "Classes, Objects, Constructors, and Access Modifiers",
        "content": "The foundation of Java. Covers defining **Classes**, creating **Objects** (instances), and using **Constructors** (default and parameterized) for object initialization. Details the four **Access Modifiers** (`public`, `private`, `protected`, `default`/package-private) and their role in encapsulation and visibility within packages.",
        "codeExample": "/* Class and Constructor */\npublic class Product {\n¬† private String name; // Private for encapsulation\n¬† public double price;\n\n¬† public Product(String name, double price) {\n¬† ¬† this.name = name;\n¬† ¬† this.price = price;\n¬† }\n\n¬† public String getName() { // Public getter\n¬† ¬† return name;\n¬† }\n}"
      },
      {
        "title": "Packages, Imports, and JAR Files",
        "content": "Organizing code using **Packages** to group related classes, preventing naming collisions, and controlling access (package-private). Covers using the **`import`** keyword to reference classes from other packages. Explains the purpose and structure of **JAR (Java Archive) files** for packaging and distributing compiled classes and resources.",
        "codeExample": "/* Package and Import Structure */\npackage com.myapp.service; // Defines the package\n\nimport com.myapp.model.User; // Import a single class\nimport java.util.*; // Import all classes from a utility package\n\npublic class UserService {\n¬† // Code using User and List classes\n}"
      },
      {
        "title": "Memory Management: Garbage Collection and Heap/Stack",
        "content": "Understanding the Java memory model. Covers the difference between the **Heap** (where objects reside, managed by the GC) and the **Stack** (where method calls, primitive variables, and object references reside). Explains the concept of **Garbage Collection (GC)** (automatic memory management) and how GC algorithms (like Generational Garbage Collection) identify and free unreachable objects to prevent memory leaks.",
        "codeExample": "/* Object Creation and Garbage Collection */\npublic void process() {\n¬† // Local reference on the Stack\n¬† String name = new String(\"temp\"); // Object on the Heap\n¬† \n¬† // When the method exits, 'name' is popped from the Stack.\n¬† // The object on the Heap becomes unreachable and eligible for GC.\n¬† \n¬† // Forcing a GC is discouraged, but possible (Conceptual):\n¬† // System.gc(); \n}"
      }
    ]
  },
  {
    "id": 2,
    "title": "Core OOP, Generics, and Collections üå≥",
    "icon": "List",
    "subsections": [
      {
        "title": "Object-Oriented Pillars: Encapsulation and Inheritance",
        "content": "Mastering the first two pillars of **OOP**. **Encapsulation** is achieved by bundling data (fields) and methods (getters/setters) and restricting direct access using the `private` modifier. **Inheritance** allows classes to acquire properties and methods from a superclass using the **`extends`** keyword, promoting code reuse. Covers the use of **`super`** to call the superclass constructor/methods.",
        "codeExample": "/* Inheritance and Super Keyword */\npublic class Vehicle {\n¬† public Vehicle(int wheels) { /* ... */ }\n}\n\npublic class Car extends Vehicle {\n¬† public Car() {\n¬† ¬† super(4); // Calls the superclass constructor\n¬† }\n¬† \n¬† @Override\n¬† public String toString() { return \"Car Object\"; } // Method Overriding\n}"
      },
      {
        "title": "Object-Oriented Pillars: Polymorphism and Abstraction",
        "content": "Mastering the remaining OOP pillars. **Polymorphism** (many forms) is achieved through **Method Overriding** and **Interface Implementation**, allowing a single interface/method call to execute different behaviors. **Abstraction** involves hiding implementation details using **Abstract Classes** (`abstract` keyword) and **Interfaces** (`interface` keyword), focusing on required functionality.",
        "codeExample": "/* Polymorphism and Abstraction */\ninterface Payable {\n¬† double getPaymentAmount();\n}\n\npublic class Employee implements Payable {\n¬† @Override\n¬† public double getPaymentAmount() {\n¬† ¬† return 50000.00; // Specific implementation\n¬† }\n}\n\npublic void processPayment(Payable entity) { /* Accepts any object implementing Payable */ }"
      },
      {
        "title": "Generics: Type Safety and Wildcards",
        "content": "Using **Generics** (`<T>`) to create classes, interfaces, and methods that operate on objects of various types while providing **compile-time type safety**. Covers defining generic classes, restricted generics (e.g., `<T extends Number>`), and using **Wildcards** (`<? extends T>` and `<? super T>`) to control flexibility and immutability when working with collections.",
        "codeExample": "/* Generic Class and Wildcards */\npublic class Box<T> { // Generic class\n¬† private T item;\n¬† public T getItem() { return item; }\n}\n\npublic void processBox(Box<? extends Number> box) {\n¬† // Wildcard limits the type to Number or its subclasses (e.g., Integer)\n¬† Number n = box.getItem();\n¬† // box.setItem(10); // ERROR: Cannot add to an upper-bounded wildcard\n}"
      },
      {
        "title": "Java Collections Framework (List, Set, Map)",
        "content": "Mastering the **Java Collections Framework** for handling groups of objects. Covers the three main interfaces: **`List`** (ordered, allows duplicates, e.g., `ArrayList`, `LinkedList`), **`Set`** (unordered, no duplicates, e.g., `HashSet`, `TreeSet`), and **`Map`** (key-value pairs, e.g., `HashMap`, `TreeMap`). Details performance characteristics (O-notation) for common operations on each implementation.",
        "codeExample": "/* Collections Usage */\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Map;\n\npublic void manageData() {\n¬† List<String> names = new ArrayList<>();\n¬† names.add(\"Alice\");\n¬† \n¬† Set<String> uniqueIds = new HashSet<>();\n¬† uniqueIds.add(\"U101\"); // Add order not preserved\n¬† \n¬† Map<String, Integer> scores = new HashMap<>();\n¬† scores.put(\"Bob\", 95);\n}"
      },
      {
        "title": "Functional Programming: Lambdas and Streams API",
        "content": "Implementing functional programming concepts using **Lambda Expressions** (short syntax for implementing functional interfaces like `Comparator`, `Runnable`). Covers the modern **Streams API** for processing collections declaratively: building pipelines using intermediate operations (`filter`, `map`, `sorted`) and terminal operations (`collect`, `forEach`, `reduce`).",
        "codeExample": "/* Lambda and Streams API */\nList<Product> products = getProducts();\n\n// Use Lambda to filter and map\nList<String> names = products.stream()\n¬† .filter(p -> p.getPrice() > 50.0)\n¬† .sorted(Comparator.comparing(Product::getName))\n¬† .map(Product::getName)\n¬† .collect(Collectors.toList());\n\n// Functional Interface implementation via Lambda\nRunnable r = () -> System.out.println(\"Running in a thread\");"
      }
    ]
  },
  {
    "id": 3,
    "title": "Asynchronous and Concurrency Primitives üßµ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Threads, Runnable, and Callable",
        "content": "Fundamentals of multithreading. Covers the concepts of **Processes** vs. **Threads**. Implementing concurrent tasks using the **`Thread` class** or the **`Runnable` interface** (for tasks that don't return a value). Introduces the **`Callable` interface** (for tasks that return a value and can throw exceptions) and the **`Future`** interface for retrieving the result asynchronously.",
        "codeExample": "/* Runnable and Callable */\n// Runnable (no return value)\nRunnable task = () -> System.out.println(\"Task running\");\nnew Thread(task).start();\n\n// Callable (returns value via Future)\nCallable<Integer> callableTask = () -> {\n¬† return 100; // Returns an integer\n};\n// ExecutorService executor = Executors.newFixedThreadPool(1);\n// Future<Integer> future = executor.submit(callableTask);"
      },
      {
        "title": "Concurrency Utilities (Executors and Thread Pools)",
        "content": "Managing threads efficiently using the **`java.util.concurrent`** package. Covers the **`ExecutorService`** interface for decoupling task submission from thread execution. Details creating **Thread Pools** using **`Executors`** (e.g., `newFixedThreadPool`, `newCachedThreadPool`) to reuse threads, minimizing overhead and controlling resource consumption.",
        "codeExample": "/* ExecutorService and Thread Pool */\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nExecutorService executor = Executors.newFixedThreadPool(4);\n\n// Submit multiple tasks\nfor (int i = 0; i < 10; i++) {\n¬† executor.submit(() -> {\n¬† ¬† System.out.println(\"Worker thread executing task\");\n¬† });\n}\n\nexecutor.shutdown(); // Must shut down the pool when done"
      },
      {
        "title": "Synchronization, Locks, and Atomicity",
        "content": "Preventing **Race Conditions** and ensuring thread safety. Covers using the **`synchronized`** keyword (on blocks or methods) to acquire intrinsic locks (monitors). Details explicit locking using the **`Lock` interface** (e.g., `ReentrantLock`) for more flexible control. Explains **Atomic Variables** (e.g., `AtomicInteger`) for single-variable updates without explicit locking.",
        "codeExample": "/* Synchronization and Locking */\nprivate final Lock lock = new ReentrantLock();\nprivate int counter = 0;\n\npublic void increment() {\n¬† lock.lock(); // Acquire lock\n¬† try {\n¬† ¬† counter++;\n¬† } finally {\n¬† ¬† lock.unlock(); // Release lock (must be in finally)\n¬† }\n}\n\n// Simpler synchronization:\npublic synchronized void incrementSync() { counter++; }"
      },
      {
        "title": "CompletableFuture and Asynchronous Pipelines",
        "content": "Modern asynchronous programming using **`CompletableFuture`** (Java 8+). Covers chaining dependent asynchronous tasks using methods like **`thenApply()`** (transformation), **`thenCombine()`** (combining results), and **`handle()`** (error handling). This allows building non-blocking pipelines for I/O-intensive operations without deep callback nesting.",
        "codeExample": "/* CompletableFuture Chain */\n// Task 1: Fetch user by ID (runs asynchronously)\nCompletableFuture<User> fetchUser = CompletableFuture.supplyAsync(() -> userRepository.findById(1));\n\n// Task 2: Process the result of Task 1\nCompletableFuture<String> result = fetchUser.thenApply(user -> {\n¬† return \"Processed: \" + user.getName();\n}).exceptionally(ex -> {\n¬† return \"Error: \" + ex.getMessage(); // Handle exception\n});\n\n// Blocking get() (used for demo, avoid in service logic)\n// String finalResult = result.get();"
      },
      {
        "title": "Volatile, Immutability, and Thread Safety Best Practices",
        "content": "Advanced concurrency concepts. Covers the **`volatile`** keyword, ensuring variable reads/writes are atomic and visible across threads (preventing compiler optimizations), but it *does not* guarantee true synchronization. Emphasizes designing thread-safe classes by promoting **Immutability** (using `final` fields) and relying on concurrent-safe collections (`ConcurrentHashMap`, `CopyOnWriteArrayList`).",
        "codeExample": "/* Volatile and Immutability */\npublic class Settings {\n¬† // Ensures all threads see the latest write to 'running'\n¬† private volatile boolean running = true;\n¬† \n¬† // Immutable object (preferred for sharing data across threads)\n¬† private final String configHash;\n¬† \n¬† public Settings(String hash) {\n¬† ¬† this.configHash = hash;\n¬† }\n}"
      }
    ]
  },
  {
    "id": 4,
    "title": "Spring Boot Architecture & IoC Container üçÉ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Spring Boot vs. Traditional Spring Framework",
        "content": "Defining the role of **Spring Boot**. Covers its primary benefit: **Opinionated Configuration** and **Auto-Configuration** (automatically setting up databases, servers, etc.), eliminating the need for extensive XML or Java configuration found in traditional Spring. Details the use of **Starter Dependencies** (e.g., `spring-boot-starter-web`) to bundle required transitive dependencies.",
        "codeExample": "/* Spring Boot Starter Dependency (Maven) */\n<dependencies>\n¬† <dependency>\n¬† ¬† <groupId>org.springframework.boot</groupId>\n¬† ¬† <artifactId>spring-boot-starter-web</artifactId>\n¬† </dependency>\n¬† \n</dependencies>\n\n/* Main Application Class */\n@SpringBootApplication\npublic class Application {\n¬† public static void main(String[] args) {\n¬† ¬† SpringApplication.run(Application.class, args);\n¬† }\n}"
      },
      {
        "title": "The IoC Container and Bean Lifecycle",
        "content": "Deep dive into the **Inversion of Control (IoC) Container** (the heart of Spring). Explains how the container manages the lifecycle of **Beans** (objects managed by Spring). Covers the lifecycle phases: **Instantiation**, **Population of Properties (DI)**, **Awareness (setting context)**, **Post-Processing**, and **Destruction** (via `DisposableBean` or `@PreDestroy`).",
        "codeExample": "/* Bean Lifecycle Hooks */\n@Component\npublic class ServiceBean implements InitializingBean, DisposableBean {\n¬† // Constructor runs first (Instantiation)\n¬† public ServiceBean() { console.log(\"1. Constructor\"); }\n¬† \n¬† @Value(\"${app.setting}\") // Property Population\n¬† private String setting;\n¬† \n¬† @Override\n¬† public void afterPropertiesSet() { console.log(\"2. Properties Set (Init)\"); }\n¬† \n¬† @PostConstruct // JSR-250 equivalent of afterPropertiesSet\n¬† public void postConstruct() { console.log(\"3. Post Construct\"); }\n¬† \n¬† @Override\n¬† public void destroy() { console.log(\"4. Destruction\"); }\n}"
      },
      {
        "title": "Dependency Injection (DI): Constructor, Setter, and Field",
        "content": "Mastering the three primary types of **Dependency Injection (DI)** used to provide dependent objects (**Inversion of Control**). Covers **Constructor Injection** (best practice for required dependencies and testing), **Setter Injection**, and **Field Injection** (least recommended, as it bypasses immutability). Explains the role of the **`@Autowired`** annotation (now often optional for constructors).",
        "codeExample": "/* Constructor Injection (Best Practice) */\n@Service\npublic class OrderService {\n¬† private final ProductRepository productRepo; // Final for immutability\n\n¬† // Spring injects the dependency here\n¬† @Autowired // Optional since Spring 4.3 for single-constructor components\n¬† public OrderService(ProductRepository productRepo) {\n¬† ¬† this.productRepo = productRepo;\n¬† }\n\n¬† // Field Injection (Discouraged)\n¬† // @Autowired private PaymentService paymentService;\n}"
      },
      {
        "title": "Auto-Configuration and Conditional Beans",
        "content": "Understanding how Spring Boot guesses the configuration. Covers the **Auto-Configuration process** (checking the classpath and existing beans) and the role of meta-annotations like **`@ConditionalOnClass`** and **`@ConditionalOnMissingBean`**. Details using the **`@EnableAutoConfiguration`** annotation (part of `@SpringBootApplication`) and its exclusions to manually override specific framework behavior.",
        "codeExample": "/* Conditional Bean Definition */\n@Configuration\npublic class CustomConfig {\n¬† // Only create this bean if the Redis class is on the classpath\n¬† @ConditionalOnClass(name = \"redis.clients.jedis.Jedis\")\n¬† @Bean\n¬† public CacheService redisCacheService() {\n¬† ¬† return new RedisCacheService();\n¬† }\n\n¬† // Only create this bean if NO other CacheService exists\n¬† @ConditionalOnMissingBean(CacheService.class)\n¬† @Bean\n¬† public CacheService inMemoryCacheService() {\n¬† ¬† return new InMemoryCacheService();\n¬† }\n}"
      },
      {
        "title": "Application Properties and External Configuration",
        "content": "Managing configuration external to the code. Covers the structure and precedence of **`application.properties`** and **`application.yml`** files. Details accessing configuration values using the **`@Value`** annotation and the **`Environment`** object. Explains externalizing configuration via command-line arguments, environment variables, and Spring Profiles.",
        "codeExample": "/* application.yml configuration */\napp:\n¬† name: OrderProcessor\n¬† port: 8081\n\n/* Accessing Configuration in a Component */\n@Component\npublic class AppConfig {\n¬† @Value(\"${app.name}\") // Access via @Value\n¬† private String appName;\n¬† \n¬† @Value(\"#{systemProperties['user.home']}\") // SpEL (Spring Expression Language)\n¬† private String userHome;\n\n¬† // Programmatic access (alternative)\n¬† // public AppConfig(Environment env) { this.appName = env.getProperty(\"app.name\"); }"
      }
    ]
  },
  {
    "id": 5,
    "title": "Spring Annotations and Component Scopes üè∑Ô∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Stereotype Annotations (`@Component`, `@Service`, `@Repository`)",
        "content": "Understanding Spring's primary **Stereotype Annotations** used for component scanning. **`@Component`** is the general-purpose stereotype. **`@Service`** is used for business logic layers. **`@Repository`** is used for data access layers and enables automatic exception translation from platform-specific exceptions (e.g., SQLException) to Spring's `DataAccessException` hierarchy.",
        "codeExample": "/* Stereotype Annotation Usage */\n// Data Access Layer\n@Repository\npublic class CustomerRepository {\n¬† // JDBC or JPA logic\n}\n\n// Business Logic Layer\n@Service\npublic class CustomerService {\n¬† private final CustomerRepository customerRepo;\n¬† // Constructor injection is standard\n¬† public CustomerService(CustomerRepository customerRepo) {\n¬† ¬† this.customerRepo = customerRepo;\n¬† }\n}"
      },
      {
        "title": "Configuration Annotations (`@Configuration`, `@Bean`)",
        "content": "Defining custom beans using Java configuration (replacing XML). **`@Configuration`** marks a class as a source of bean definitions. **`@Bean`** is placed on a method within a `@Configuration` class, telling Spring to instantiate and manage the object returned by that method as a bean in the IoC container.",
        "codeExample": "/* Java Configuration */\n@Configuration\npublic class AppConfiguration {\n¬† \n¬† @Bean\n¬† // Method name is often the bean name\n¬† public PaymentGateway paymentGateway() {\n¬† ¬† // Creating and configuring a third-party object\n¬† ¬† ExternalGateway gateway = new ExternalGateway();\n¬† ¬† gateway.setApiKey(\"12345\");\n¬† ¬† return gateway;\n¬† }\n¬† \n¬† @Bean\n¬† // Beans can depend on other beans (Spring handles the wiring)\n¬† public PaymentService paymentService(PaymentGateway gateway) {\n¬† ¬† return new PaymentService(gateway);\n¬† }\n}"
      },
      {
        "title": "Bean Scopes: Singleton, Prototype, Request, and Session",
        "content": "Controlling the lifespan and number of instances created for a bean using the **`@Scope`** annotation. Covers the default **`singleton`** scope (one instance per container). Details **`prototype`** (new instance on every injection request). Explains **`request`** and **`session`** scopes, which are essential for web applications to manage state specific to an HTTP request or user session.",
        "codeExample": "/* Bean Scopes */\n@Component\n// Singleton scope is the default, but explicitly shown here\n@Scope(\"singleton\") \npublic class SingletonCache {\n¬† // Shared application-wide data\n}\n\n@Component\n// New instance created every time this bean is injected\n@Scope(\"prototype\")\npublic class TemporaryProcessor {\n¬† // State is unique to each client/request\n}\n\n@Component\n@Scope(\"request\") // New instance per HTTP request\npublic class RequestContext {\n¬† // Stores data relevant to the current request only\n}"
      },
      {
        "title": "Qualifiers and Primary for Ambiguity Resolution",
        "content": "Solving the **Ambiguity Problem** (when multiple beans of the same type exist) during Dependency Injection. Covers using the **`@Qualifier`** annotation at the injection point to specify the exact bean ID (name) desired. Details using the **`@Primary`** annotation on a bean definition to mark it as the default choice when no specific qualifier is provided.",
        "codeExample": "/* Resolving Ambiguity with @Qualifier and @Primary */\n\n@Service @Qualifier(\"sms\")\npublic class SmsNotificationService implements NotificationService { ... }\n\n@Service @Primary @Qualifier(\"email\")\npublic class EmailNotificationService implements NotificationService { ... }\n\n// Injection Point:\n@Service\npublic class UserService {\n¬† // Explicitly request the SMS implementation\n¬† @Autowired @Qualifier(\"sms\")\n¬† private NotificationService notificationService;\n}"
      },
      {
        "title": "LifeCycle Annotations (`@PostConstruct`, `@PreDestroy`)",
        "content": "Using the JSR-250 standard annotations for controlling initialization and destruction callbacks outside of Spring-specific interfaces. **`@PostConstruct`** is executed once after the bean has been initialized and all dependencies have been injected (used for setup/caching). **`@PreDestroy`** is executed just before the bean is removed from the IoC container (used for cleanup/resource closing).",
        "codeExample": "/* PostConstruct and PreDestroy */\n@Component\npublic class StartupCacheLoader {\n¬† \n¬† @Autowired private DataService dataService;\n\n¬† @PostConstruct\n¬† // Runs after construction and dependency injection\n¬† public void initializeCache() {\n¬† ¬† System.out.println(\"Loading cache data...\");\n¬† ¬† // dataService.loadAll();\n¬† }\n\n¬† @PreDestroy\n¬† // Runs just before shutdown\n¬† public void clearResources() {\n¬† ¬† System.out.println(\"Closing connections...\");\n¬† }\n}"
      }
    ]
  },
  {
    "id": 6,
    "title": "RESTful API Development (Spring MVC) ‚öôÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Controllers, Request Mappings, and DispatcherServlet",
        "content": "The entry point for web requests. Covers the role of the **`DispatcherServlet`** (front controller). **`@RestController`** combines `@Controller` and `@ResponseBody`, automatically serializing return objects to JSON/XML. Details using **`@RequestMapping`** (or shorthand `@GetMapping`, `@PostMapping`) to map HTTP methods and URI paths to specific controller methods.",
        "codeExample": "/* Rest Controller and Mapping */\n@RestController\n@RequestMapping(\"/api/v1/products\") // Base path\npublic class ProductController {\n\n¬† // Maps to: GET /api/v1/products\n¬† @GetMapping\n¬† public List<Product> getAll() {\n¬† ¬† return productService.findAll();\n¬† }\n\n¬† // Maps to: POST /api/v1/products\n¬† @PostMapping\n¬† @ResponseStatus(HttpStatus.CREATED)\n¬† public Product create(@RequestBody Product product) {\n¬† ¬† return productService.save(product);\n¬† }\n}"
      },
      {
        "title": "Handling Input: `@PathVariable`, `@RequestParam`, `@RequestBody`",
        "content": "Binding incoming request data to method parameters. **`@PathVariable`** extracts values from the URI path (e.g., `/products/{id}`). **`@RequestParam`** extracts values from the query string (e.g., `/products?sort=asc`). **`@RequestBody`** deserializes the JSON request body (using Jackson) into a Java object (DTO/Entity).",
        "codeExample": "/* Request Input Binding */\n@GetMapping(\"/{id}\")\npublic Product getById(\n¬† @PathVariable Long id, // Get value from path\n¬† @RequestParam(required = false) String fields // Get value from query string\n) {\n¬† return productService.findById(id, fields);\n}\n\n@PutMapping(\"/{id}\")\npublic Product update(\n¬† @PathVariable Long id,\n¬† @RequestBody @Valid ProductDto productDto // Deserialize JSON body\n) {\n¬† return productService.update(id, productDto);\n}"
      },
      {
        "title": "HTTP Status Codes, `@ResponseStatus`, and DTOs",
        "content": "Ensuring proper API communication using **HTTP Status Codes** (e.g., 200 OK, 201 Created, 404 Not Found). Covers using **`ResponseEntity<T>`** to programmatically control the response body, headers, and status code. Discusses the use of **Data Transfer Objects (DTOs)** instead of exposing internal JPA Entities, separating the external API contract from the internal domain model.",
        "codeExample": "/* Using ResponseEntity for Status Control */\n@DeleteMapping(\"/{id}\")\npublic ResponseEntity<Void> deleteById(@PathVariable Long id) {\n¬† productService.delete(id);\n¬† // Return a 204 No Content status code\n¬† return ResponseEntity.noContent().build();\n}\n\n@GetMapping(\"/status\")\npublic ResponseEntity<ProductDto> checkStatus() {\n¬† // Return a 200 OK with a specific body\n¬† ProductDto dto = new ProductDto();\n¬† return ResponseEntity.ok(dto);\n}"
      },
      {
        "title": "Global Exception Handling (`@ControllerAdvice`)",
        "content": "Centralizing API error management. Covers using the **`@ControllerAdvice`** annotation on a class to intercept exceptions thrown by any controller method globally. **`@ExceptionHandler`** methods within this class map specific exceptions (e.g., `ResourceNotFoundException`, `MethodArgumentNotValidException`) to appropriate HTTP status codes (e.g., 404, 400) and structured error responses.",
        "codeExample": "/* Global Exception Handler */\n@ControllerAdvice\npublic class RestExceptionHandler {\n\n¬† // Handles a custom 404 exception\n¬† @ExceptionHandler(ResourceNotFoundException.class)\n¬† @ResponseStatus(HttpStatus.NOT_FOUND)\n¬† public ErrorResponse handleNotFound(ResourceNotFoundException ex) {\n¬† ¬† return new ErrorResponse(404, ex.getMessage());\n¬† }\n\n¬† // Handles Spring validation errors (400 Bad Request)\n¬† @ExceptionHandler(MethodArgumentNotValidException.class)\n¬† @ResponseStatus(HttpStatus.BAD_REQUEST)\n¬† public ErrorResponse handleValidation(MethodArgumentNotValidException ex) {\n¬† ¬† // Logic to extract specific field errors\n¬† ¬† return new ErrorResponse(400, \"Validation Failed\");\n¬† }\n}"
      },
      {
        "title": "Input Validation (Bean Validation/JSR 380)",
        "content": "Applying constraints to DTOs using **Bean Validation (JSR 380)** annotations. Covers using standard annotations like **`@NotNull`**, **`@Size`**, **`@Email`**, and **`@Min`**. Details activating the validation check by placing the **`@Valid`** annotation next to the `@RequestBody` parameter in the controller method and relying on Spring's global exception handler to process validation failures.",
        "codeExample": "/* DTO with Bean Validation Constraints */\npublic class ProductDto {\n¬† \n¬† @NotNull(message = \"Name is required\")\n¬† @Size(min = 3, max = 50, message = \"Name must be 3-50 chars\")\n¬† private String name;\n\n¬† @Min(value = 1, message = \"Price must be positive\")\n¬† private double price;\n¬† \n¬† // Controller method must have @Valid to enable the check (p. 660)\n¬† // public Product create(@RequestBody @Valid ProductDto productDto) { ... }"
¬† ¬† ¬† }
    ]
  },
  {
    "id": 7,
    "title": "Spring Data JPA and Relational Mapping üêò",
    "icon": "List",
    "subsections": [
      {
        "title": "JPA Entities, `@Entity`, and Primary Keys",
        "content": "Mapping Java classes to database tables using **JPA (Java Persistence API)**. Covers using the **`@Entity`** annotation to mark a class as a JPA entity and **`@Table`** for custom table names. Details defining the **Primary Key** using **`@Id`** and key generation strategies (**`@GeneratedValue`** with `GenerationType.IDENTITY` for auto-increment).",
        "codeExample": "/* JPA Entity Definition */\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = \"app_users\")\npublic class User {\n¬† @Id\n¬† @GeneratedValue(strategy = GenerationType.IDENTITY)\n¬† private Long id; // Primary Key\n¬† \n¬† @Column(nullable = false, unique = true)\n¬† private String username;\n¬† \n¬† // Getters and Setters...\n}"
      },
      {
        "title": "Basic CRUD with Spring Data Repositories",
        "content": "Simplifying data access using **Spring Data JPA**. Covers defining a **Repository Interface** that extends **`JpaRepository<T, ID>`**. Explains how Spring automatically implements common **CRUD** methods (`save`, `findById`, `findAll`, `delete`) at runtime, eliminating boilerplate code for basic database operations.",
        "codeExample": "/* Spring Data JPA Repository */\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n// Inherits all basic CRUD methods (save, findById, findAll, etc.)\npublic interface UserRepository extends JpaRepository<User, Long> {\n¬† // Custom method will be implemented by Spring (Query derivation)\n¬† User findByUsername(String username);\n}"
      },
      {
        "title": "Query Methods, Derived Queries, and `@Query`",
        "content": "Creating complex queries without writing SQL. Covers **Derived Query Methods**, where Spring infers the query logic automatically from the method name (e.g., `findByLastNameAndFirstName`, `findByPriceGreaterThan`). Details using the **`@Query`** annotation for writing complex, custom JPQL (Java Persistence Query Language) or native SQL queries when derived methods become too verbose.",
        "codeExample": "/* Derived Query Methods */\npublic interface ProductRepository extends JpaRepository<Product, Long> {\n¬† // Derived from method name: SELECT * FROM product WHERE price > ? AND active = ?\n¬† List<Product> findByPriceGreaterThanAndActiveTrue(double price);\n¬† \n¬† // Custom JPQL Query\n¬† @Query(\"SELECT p FROM Product p WHERE p.category = ?1 ORDER BY p.name\")\n¬† List<Product> findByCategorySorted(String category);\n}"
      },
      {
        "title": "Relational Mapping: One-to-Many and Many-to-One",
        "content": "Mapping database relationships in JPA entities. Covers **One-to-Many** (`@OneToMany`) and **Many-to-One** (`@ManyToOne`) mappings, which are the most common. Details the use of the **`mappedBy`** attribute to indicate the inverse side of the relationship and avoiding redundant database columns. Discusss the trade-offs between **Eager** and **Lazy** fetching strategies for performance.",
        "codeExample": "/* Relational Mapping (Many-to-One) */\n// The many side (Post) references the one side (User)\n@Entity\npublic class Post {\n¬† // ... other fields\n¬† \n¬† @ManyToOne(fetch = FetchType.LAZY)\n¬† @JoinColumn(name = \"user_id\", nullable = false)\n¬† private User author;\n}\n\n// One side (User) lists the many side\n@Entity\npublic class User {\n¬† // ... other fields\n¬† \n¬† @OneToMany(mappedBy = \"author\", cascade = CascadeType.ALL)\n¬† private List<Post> posts;\n}"
      },
      {
        "title": "Pagination, Sorting, and Specifications",
        "content": "Implementing advanced data querying on repositories. Covers using the **`Pageable`** object (passed to `findAll()`) for server-side **Pagination** and **Sorting**. Introduces the **JPA Criteria API** and **Spring Data Specifications** for building complex, dynamic query predicates based on user input, which is essential for filtering tables.",
        "codeExample": "/* Pagination and Sorting */\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Sort;\n\npublic interface ProductRepository extends JpaRepository<Product, Long> {\n¬† // Example of findAll with pagination and sort\n¬† Page<Product> findByCategory(String category, Pageable pageable);\n}\n\n// Usage in service:\n// Pageable pageRequest = PageRequest.of(0, 10, Sort.by(\"price\").descending());"
      }
    ]
  },
  {
    "id": 8,
    "title": "Transactions, Isolation, and Auditing üêò",
    "icon": "Code",
    "subsections": [
      {
        "title": "Declarative Transactions (`@Transactional`)",
        "content": "Ensuring data integrity using **Declarative Transactions**. Covers applying the **`@Transactional`** annotation to service methods to demarcate a logical unit of work where all database operations must succeed or fail as a single atomic unit. Explains transaction propagation behavior (e.g., `REQUIRED`, `REQUIRES_NEW`).",
        "codeExample": "/* Declarative Transactional Method */\n@Service\npublic class PaymentService {\n¬† \n¬† @Transactional(rollbackFor = Exception.class)\n¬† public void transferFunds(Long fromId, Long toId, double amount) {\n¬† ¬† // Operations here form a single atomic unit\n¬† ¬† accountRepo.withdraw(fromId, amount);\n¬† ¬† accountRepo.deposit(toId, amount);\n¬† ¬† // If any unchecked exception is thrown, the transaction rolls back\n¬† }\n}"
      },
      {
        "title": "Transaction Isolation Levels",
        "content": "Controlling concurrency access to data. Details the four **Isolation Levels** (e.g., `READ_UNCOMMITTED`, `READ_COMMITTED`, `REPEATABLE_READ`, `SERIALIZABLE`) and the concurrency phenomena they prevent (Dirty Reads, Non-Repeatable Reads, Phantom Reads). Provides guidelines for choosing the optimal level based on performance and consistency requirements.",
        "codeExample": "/* Setting Isolation Level */\n@Transactional(isolation = Isolation.READ_COMMITTED)\npublic void updatePrice(Long productId, double newPrice) {\n¬† // Prevents Dirty Reads: Ensures transaction only sees data committed by others\n¬† productRepo.updatePrice(productId, newPrice);\n}"
      },
      {
        "title": "Rollback Rules and Checked/Unchecked Exceptions",
        "content": "Defining which exceptions trigger a transaction rollback. Covers the default Spring behavior: unchecked exceptions (runtime exceptions) trigger a rollback, while checked exceptions do not. Details overriding this behavior using the `rollbackFor` and `noRollbackFor` parameters in the `@Transactional` annotation.",
        "codeExample": "/* Transaction Rollback Control */\n@Transactional(rollbackFor = CustomCheckedException.class)\npublic void processCritical(Long dataId) throws CustomCheckedException {\n¬† // If CustomCheckedException is thrown, rollback occurs\n¬† // If a standard IOException (checked) is thrown, rollback does NOT occur (unless specified)\n}"
      },
      {
        "title": "JPA Entity Auditing (`@CreatedDate`, `@LastModifiedBy`)",
        "content": "Automatically recording metadata about entity changes. Covers enabling **JPA Auditing** with **`@EnableJpaAuditing`**. Details using annotations like **`@CreatedDate`**, **`@LastModifiedDate`**, **`@CreatedBy`**, and **`@LastModifiedBy`** on entity fields to automatically populate timestamps and user information during save operations.",
        "codeExample": "/* JPA Auditing on Entity */\nimport org.springframework.data.annotation.*;\nimport jakarta.persistence.MappedSuperclass;\n\n@MappedSuperclass // Base class for Auditing fields\npublic abstract class Auditable {\n¬† @CreatedDate\n¬† private Instant createdAt;\n¬† \n¬† @LastModifiedDate\n¬† private Instant updatedAt;\n¬† \n¬† @CreatedBy\n¬† private String createdBy;\n}"
      },
      {
        "title": "Optimistic Locking and Versioning",
        "content": "Preventing data corruption from simultaneous updates (the **Lost Update Problem**). Covers implementing **Optimistic Locking** using the **`@Version`** annotation on an entity field (usually an `int` or `long`). Explains how JPA automatically checks and increments this version number on update; if the version doesn't match the database, a `ObjectOptimisticLockingFailureException` is thrown.",
        "codeExample": "/* Optimistic Locking Implementation */\n@Entity\npublic class Account {\n¬† @Id private Long id;\n¬† private double balance;\n¬† \n¬† // JPA manages this version field automatically\n¬† @Version\n¬† private int version;\n¬† \n¬† // If two concurrent transactions try to update the account,\n¬† // only the first one to commit succeeds; the second fails with an exception.\n}"
      }
    ]
  },
  {
    "id": 9,
    "title": "Spring Security: Authentication & Authorization üîí",
    "icon": "Code",
    "subsections": [
      {
        "title": "Spring Security: Core Concepts and Filters",
        "content": "Mastering **Spring Security** for authentication and authorization. Covers the **Security Filter Chain** and the distinction between **Authentication** (who you are) and **Authorization** (what you can do). Details the core components: **`SecurityContextHolder`** (stores the authenticated principal) and custom configurations using the **`SecurityFilterChain`** bean.",
        "codeExample": "/* Spring Security Filter Chain Configuration */\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n¬† ¬† \n¬† ¬† @Bean\n¬† ¬† public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n¬† ¬† ¬† ¬† http\n¬† ¬† ¬† ¬† ¬† ¬† // Stateless session (for REST APIs)\n¬† ¬† ¬† ¬† ¬† ¬† .csrf(csrf -> csrf.disable())\n¬† ¬† ¬† ¬† ¬† ¬† .sessionManagement(sess -> sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n¬† ¬† ¬† ¬† ¬† ¬† .authorizeHttpRequests(auth -> auth\n¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† .requestMatchers(\"/api/public/**\").permitAll()\n¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\") // Role-based access\n¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† .anyRequest().authenticated()\n¬† ¬† ¬† ¬† ¬† ¬† );\n¬† ¬† ¬† ¬† return http.build();\n¬† ¬† }\n}"
      },
      {
        "title": "Stateless REST Security (JWT)",
        "content": "Implementing security for REST APIs using **JSON Web Tokens (JWT)**. Covers configuring the security chain for **Stateless Sessions** (`SessionCreationPolicy.STATELESS`). Details implementing a **Custom JWT Filter** to extract the token from the `Authorization` header, validate it, and set the authenticated user (`Authentication` object) in the `SecurityContext` for authorization checks.",
        "codeExample": "/* JWT Filter (Conceptual) */\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n¬† ¬† // ... dependencies\n¬† ¬† @Override\n¬† ¬† protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\n¬† ¬† ¬† ¬† String jwt = extractJwt(request); // Extract token\n¬† ¬† ¬† ¬† if (jwt != null && jwtService.validateToken(jwt)) {\n¬† ¬† ¬† ¬† ¬† ¬† // Create Authentication object and set it in context\n¬† ¬† ¬† ¬† ¬† ¬† Authentication authentication = jwtService.getAuthentication(jwt);\n¬† ¬† ¬† ¬† ¬† ¬† SecurityContextHolder.getContext().setAuthentication(authentication);\n¬† ¬† ¬† ¬† }\n¬† ¬† ¬† ¬† filterChain.doFilter(request, response);\n¬† ¬† }\n}"
      },
      {
        "title": "Method-Level Security (`@PreAuthorize`, `@Secured`)",
        "content": "Applying fine-grained authorization controls directly to service or controller methods. Covers enabling method security with **`@EnableMethodSecurity`**. Details using **`@PreAuthorize`** (accepts SpEL expressions for dynamic checks) and **`@Secured`** (simple role-based checks) to prevent unauthorized execution of business logic.",
        "codeExample": "/* Method Level Security */\n@Service\n// Must be enabled on a configuration class\n// @EnableMethodSecurity \npublic class AdminService {\n\n¬† // Only users with ROLE_ADMIN can execute this method\n¬† @PreAuthorize(\"hasRole('ADMIN')\")\n¬† public void deleteUser(Long userId) {\n¬† ¬† // ... logic\n¬† }\n\n¬† // Checks authorization against the method's argument\n¬† @PreAuthorize(\"authentication.principal.id == #userId\")\n¬† public User getProfile(Long userId) {\n¬† ¬† // ... returns user's profile only if ID matches current user's ID\n¬† }\n}"
      },
      {
        "title": "UserDetailsService and Password Encoding (Bcrypt)",
        "content": "Implementing custom user retrieval. Covers creating a service that implements the **`UserDetailsService`** interface to load user-specific authentication and authorization data (username, password, roles) from the database. Details configuring the **`PasswordEncoder`** bean, typically using **Bcrypt** for secure, one-way password hashing.",
        "codeExample": "/* Custom UserDetailsService */\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n¬† @Autowired private UserRepository userRepo;\n\n¬† @Override\n¬† public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n¬† ¬† User user = userRepo.findByUsername(username)\n¬† ¬† ¬† ¬† .orElseThrow(() -> new UsernameNotFoundException(\"User not found\"));\n¬† ¬† \n¬† ¬† // Converts domain User to Spring Security UserDetails object\n¬† ¬† return new org.springframework.security.core.userdetails.User(\n¬† ¬† ¬† ¬† user.getUsername(), user.getPassword(), user.getAuthorities());\n¬† }\n}"
      },
      {
        "title": "OAuth 2.0 and External Identity Providers",
        "content": "Integrating third-party authentication. Covers configuring Spring Security to act as an **OAuth 2.0 Resource Server** to validate tokens issued by external identity providers (e.g., Azure AD, Keycloak, Auth0). Details setting up the security chain to handle token validation and scope-based authorization.",
        "codeExample": "/* OAuth 2.0 Resource Server Configuration */\n// Dependency: spring-boot-starter-oauth2-resource-server\n\n// application.yml for JWT Issuer URI\n// spring.security.oauth2.resourceserver.jwt.issuer-uri: https://login.microsoftonline.com/..."
¬† ¬† ¬† }
    ]
  },
  {
    "id": 10,
    "title": "Caching Strategies and Spring Caching üíæ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Spring Caching (`@Cacheable`, `@CacheEvict`)",
        "content": "Improving performance by caching method results. Covers enabling caching with **`@EnableCaching`**. Details using **`@Cacheable`** on a method to store its return value in a cache (e.g., Redis, Caffeine) using key generation logic (often based on method arguments). **`@CacheEvict`** is used to remove stale entries after update/delete operations.",
        "codeExample": "/* Spring Caching */\n@Service\npublic class DataService {\n¬† \n¬† // Cache the result of this call in a cache named 'products'\n¬† @Cacheable(value = \"products\", key = \"#id\")\n¬† public Product findProductById(Long id) {\n¬† ¬† System.out.println(\"Fetching from DB for ID: \" + id);\n¬† ¬† return productRepository.findById(id).orElse(null);\n¬† }\n\n¬† // Remove the entry from the cache after an update/delete\n¬† @CacheEvict(value = \"products\", key = \"#id\")\n¬† public void updateProduct(Long id, Product product) {\n¬† ¬† productRepository.save(product);\n¬† }\n}"
      },
      {
        "title": "Cache Providers (Redis, Caffeine, Ehcache)",
        "content": "Comparing and configuring common caching backends. **Redis** (external, distributed, high performance for session management and distributed data). **Caffeine** (local, in-memory, fast for single-instance applications). **Ehcache** (local, enterprise-grade). Details configuring the `CacheManager` bean to specify the desired provider.",
        "codeExample": "/* Configuring Caffeine CacheManager */\n@Configuration\n@EnableCaching\npublic class CacheConfig {\n¬† @Bean\n¬† public CacheManager cacheManager() {\n¬† ¬† CaffeineCacheManager cacheManager = new CaffeineCacheManager(\"products\", \"users\");\n¬† ¬† cacheManager.setCaffeine(Caffeine.newBuilder()\n¬† ¬† ¬† ¬† .expireAfterWrite(10, TimeUnit.MINUTES)\n¬† ¬† ¬† ¬† .maximumSize(500));\n¬† ¬† return cacheManager;\n¬† }\n}"
      },
      {
        "title": "Cache Key Generation and SpEL",
        "content": "Customizing the cache key to prevent collisions. Covers using the **Spring Expression Language (SpEL)** within the `@Cacheable` annotation to construct complex keys based on method arguments (`#id`, `#user.id`) or environmental data. Details using the `condition` parameter to cache results only when a specific criteria is met.",
        "codeExample": "/* Cache Key Customization with SpEL */\n@Cacheable(value = \"orders\", key = \"#userId + '-' + #status\", condition = \"#status != 'PENDING'\")\npublic List<Order> findOrders(Long userId, String status) {\n¬† // Caches the list of orders keyed by User ID and Status, but skips caching if status is PENDING\n¬† // ...\n}"
      },
      {
        "title": "Cache Synchronization (Distributed Caching)",
        "content": "Solving the **Stale Data Problem** in microservices. Covers the necessity of using a distributed cache (like **Redis**). Explains cache synchronization techniques: **Cache-Aside** (application manages read/write to cache) and relying on the distributed cache's eviction mechanisms (TTL) or message buses to broadcast cache updates to all instances.",
        "codeExample": "/* Distributed Cache Eviction (Conceptual) */\n// In a microservice environment, service A updates an entity and broadcasts a message:\n// Kafka: 'product.updated' with productId\n// Service B consumes the message and manually calls:\n// cacheManager.getCache(\"products\").evict(productId);\n"
      },
      {
        "title": "Read-Through and Write-Through Patterns",
        "content": "Advanced data access patterns involving caching. **Read-Through** (cache fetches missing data from the database automatically). **Write-Through** (cache writes data to the database automatically). These patterns simplify application logic but require specific cache provider implementations (like Ehcache) and careful synchronization planning.",
        "codeExample": "/* Read-Through Pattern (Conceptual) */\n// Application requests data from cache.\n// If Miss: Cache manager calls a registered cache loader method (e.g., repository findById).\n// If Hit: Cache manager returns data directly.\n// The application code only interacts with the cache."
      }
    ]
  },
  {
    "id": 11,
    "title": "Microservices Patterns and Discovery üåê",
    "icon": "Code",
    "subsections": [
      {
        "title": "Monolith to Microservices Transition",
        "content": "Understanding the architectural shift. Covers the benefits (independent deployment, technology diversity, scalability) and drawbacks (increased complexity, distributed transactions) of moving from a **Monolith** to **Microservices**. Focuses on identifying and isolating bounded contexts based on business capabilities.",
        "codeExample": "/* Bounded Contexts (Conceptual) */\n// Monolith: Single codebase handles all:\n// /users, /orders, /products\n\n// Microservices:\n// User Service: Owns /users\n// Order Service: Owns /orders\n// Product Catalog Service: Owns /products"
      },
      {
        "title": "Service Registration and Discovery",
        "content": "Allowing services to locate each other dynamically. Covers using a **Service Registry** (e.g., **Netflix Eureka** or **Consul**). Details the process of **Service Registration** (instances register themselves on startup) and **Service Discovery** (clients query the registry by service name instead of hardcoded IP/port).",
        "codeExample": "/* Eureka Client Configuration */\n@SpringBootApplication\n@EnableDiscoveryClient // Registers service with Eureka/Consul\npublic class ProductServiceApplication {\n¬† // application.yml points to the Eureka server URL\n¬† // eureka.client.service-url.defaultZone: http://localhost:8761/eureka"
      },
      {
        "title": "API Gateway and Edge Services",
        "content": "The unified entry point for clients. Covers using an **API Gateway** (e.g., **Spring Cloud Gateway**) to handle cross-cutting concerns: **Routing** (directing requests to the correct service), **Authentication**, **Rate Limiting**, and **Security** (SSL termination). This shields clients from the internal microservice topology.",
        "codeExample": "/* Spring Cloud Gateway Route Definition (application.yml) */\nspring:\n¬† cloud:\n¬† ¬† gateway:\n¬† ¬† ¬† routes:\n¬† ¬† ¬† ¬† - id: user_service\n¬† ¬† ¬† ¬† ¬† uri: lb://USER-SERVICE // Load balance across registered instances\n¬† ¬† ¬† ¬† ¬† predicates:\n¬† ¬† ¬† ¬† ¬† ¬† - Path=/api/users/**\n¬† ¬† ¬† ¬† ¬† filters:\n¬† ¬† ¬† ¬† ¬† ¬† - StripPrefix=1 // Remove /api segment before forwarding"
      },
      {
        "title": "Client-Side Load Balancing (Ribbon/LoadBalancer)",
        "content": "Distributing traffic among multiple instances of a service. Covers using the **Client-Side Load Balancer** (e.g., Spring Cloud LoadBalancer/Ribbon) integrated with the Service Registry. Explains the process where the client gets a list of available service instances and applies a load balancing algorithm (e.g., Round Robin) before making the request.",
        "codeExample": "/* Using RestTemplate/WebClient with Load Balancing */\n// The client uses the logical service name, not IP/Port\n// Spring LoadBalancer intercepts the call and resolves the actual IP\n@Service\npublic class ClientService {\n¬† @Autowired private RestTemplate restTemplate; // Must be @LoadBalanced\n\n¬† public User getUser(Long id) {\n¬† ¬† // USERS-SERVICE is resolved to http://user-service-instance-1:8080 or -2:8080\n¬† ¬† return restTemplate.getForObject(\"http://USERS-SERVICE/users/{id}\", User.class, id);\n¬† }\n}"
      },
      {
        "title": "Inter-Service Communication (REST vs. Messaging)",
        "content": "Choosing the right communication protocol. Covers **Synchronous** communication using **REST/HTTP** (blocking, requires immediate response, suitable for data lookups). Details **Asynchronous** communication using **Messaging** (non-blocking, queues/topics, suitable for event-driven processes like Order Placed -> Email Sent).",
        "codeExample": "/* Communication Protocol Comparison */\n// Synchronous (Service A needs B's data now):\n// Service A -> HTTP GET /api/B/data -> Service B\n\n// Asynchronous (Service A needs to notify B of an event):\n// Service A -> Send 'order.created' message to Kafka -> Service B consumes later"
      }
    ]
  },
  {
    "id": 12,
    "title": "Messaging: Kafka, RabbitMQ, and Consumers üì¨",
    "icon": "List",
    "subsections": [
      {
        "title": "Messaging Concepts (Queue, Topic, Broker)",
        "content": "Defining the core components of asynchronous communication. Covers the role of the **Broker** (the messaging server). **Queues** (Point-to-Point, one consumer per message) vs. **Topics** (Publish-Subscribe, multiple consumers can receive the same message). Details why messaging decouples services and improves resilience.",
        "codeExample": "/* Messaging Model Comparison */\n// Kafka/RabbitMQ is the Broker.\n// Queue (e.g., Order Processing): Message is consumed once and deleted.\n// Topic (e.g., Price Changes): Multiple services subscribe and receive the same message."
      },
      {
        "title": "Spring AMQP (RabbitMQ) Consumers",
        "content": "Implementing messaging with RabbitMQ (a durable broker). Covers using the **`@RabbitListener`** annotation on a method to designate it as a message consumer for a specific queue. Explains the concept of **Message Converters** to automatically deserialize JSON messages into Java objects.",
        "codeExample": "/* RabbitMQ Message Consumption */\nimport org.springframework.amqp.rabbit.annotation.RabbitListener;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class NotificationConsumer {\n¬† \n¬† // Method listens to messages from the 'notification.queue'\n¬† @RabbitListener(queues = \"notification.queue\")\n¬† public void handleNotification(NotificationDto notification) {\n¬† ¬† System.out.println(\"Received notification for user: \" + notification.getUserId());\n¬† ¬† // Logic to send email/SMS\n¬† }\n}"
      },
      {
        "title": "Spring Kafka Producers and Consumers",
        "content": "Implementing high-throughput messaging with Apache Kafka (a distributed log). Covers setting up **Kafka Producers** (using `KafkaTemplate`) to send messages to a topic. Details creating **Kafka Consumers** using **`@KafkaListener`**, focusing on consumer groups for parallel processing and guaranteed ordering within a partition.",
        "codeExample": "/* Kafka Message Production */\n@Service\npublic class OrderProducer {\n¬† @Autowired private KafkaTemplate<String, Order> kafkaTemplate;\n\n¬† public void sendOrder(Order order) {\n¬† ¬† // Send message to the 'orders-topic' with the order ID as the key (for ordering)\n¬† ¬† kafkaTemplate.send(\"orders-topic\", order.getId().toString(), order);\n¬† }\n}"
      },
      {
        "title": "Dead Letter Queues (DLQ) and Error Handling",
        "content": "Handling message processing failures resiliently. Covers setting up a **Dead Letter Queue (DLQ)**, where messages that fail repeated processing attempts (e.g., due to temporary database errors or data format issues) are automatically rerouted. This prevents poison pill messages from blocking the main queue and allows manual investigation.",
        "codeExample": "/* DLQ Concept (RabbitMQ) */\n// Configure the primary queue to forward rejected messages to a DLQ exchange.\n// Consumer logic:\n// throw new AmqpRejectAndDontRequeueException(\"Permanent data error\");"
      },
      {
        "title": "Event Sourcing and CQRS (Conceptual)",
        "content": "Advanced architectural patterns. Covers **Event Sourcing** (storing the entire history of state changes as a sequence of events). Introduces **CQRS (Command Query Responsibility Segregation)**, which separates the write model (commands/events) from the read model (optimized materialized views/queries), often implemented using Kafka/RabbitMQ.",
        "codeExample": "/* CQRS Flow (Conceptual) */\n// 1. Command (Write): User places order -> Order Service publishes 'OrderCreatedEvent'.\n// 2. Event (Read): Analytics Service consumes 'OrderCreatedEvent' and updates its optimized reporting database."
      }
    ]
  },
  {
    "id": 13,
    "title": "Reactive Programming (Spring WebFlux) üåä",
    "icon": "Code",
    "subsections": [
      {
        "title": "Reactive vs. Imperative Programming",
        "content": "Understanding the paradigm shift. **Imperative (Spring MVC)** uses one thread per request (blocking I/O). **Reactive (Spring WebFlux)** uses a small number of threads and non-blocking I/O (asynchronous streams of data), ideal for high concurrency with slow external systems (e.g., external APIs, slow databases).",
        "codeExample": "/* Reactive Data Types */\n// Mono<T>: Represents a stream of 0 or 1 item (e.g., finding one user)\n// Flux<T>: Represents a stream of 0 to N items (e.g., streaming a list of products)\n\n// Imperative (Blocking):\n// User user = userRepository.findById(id);\n\n// Reactive (Non-Blocking):\n// Mono<User> userMono = userRepository.findById(id);"
      },
      {
        "title": "Spring WebFlux and Netty/Undertow",
        "content": "The reactive framework. Covers using **Spring WebFlux** (instead of Spring MVC) and its reliance on non-blocking server runtimes like **Netty** or **Undertow** (instead of Tomcat/Jetty). Details the annotation-based approach (similar to MVC) and the functional endpoint approach.",
        "codeExample": "/* WebFlux Controller */\n@RestController\n@RequestMapping(\"/reactive/products\")\npublic class ReactiveProductController {\n \n¬† // Returns a stream of products over time\n¬† @GetMapping\n¬† public Flux<Product> getAll() {\n¬† ¬† return productService.findAll();\n¬† }\n\n¬† // Returns a single user asynchronously\n¬† @GetMapping(\"/{id}\")\n¬† public Mono<Product> getById(@PathVariable Long id) {\n¬† ¬† return productService.findById(id);\n¬† }\n}"
      },
      {
        "title": "Project Reactor (Mono and Flux)",
        "content": "The core library for reactive streams. Covers **Project Reactor** and its two main publishers: **`Mono<T>`** (publisher of 0 or 1 item) and **`Flux<T>`** (publisher of 0 to N items). Details chaining operators (`map`, `filter`, `flatMap`) for asynchronous data processing without blocking.",
        "codeExample": "/* Reactive Chain (Non-Blocking) */\npublic Flux<User> findActiveUsers() {\n¬† return userRepository.findAll()\n¬† ¬† .filter(user -> user.getStatus().equals(\"ACTIVE\")) // Filter items in the stream\n¬† ¬† .flatMap(user -> securityService.checkAccess(user.getId())) // Asynchronous mapping\n¬† ¬† .take(10);\n}"
      },
      {
        "title": "Reactive Data Access (Spring Data R2DBC)",
        "content": "Implementing non-blocking database access. Covers using **R2DBC (Reactive Relational Database Connectivity)** (instead of JDBC) for reactive interaction with SQL databases. Details extending **`R2dbcRepository`** for basic CRUD and ensuring the entire application stack remains non-blocking.",
        "codeExample": "/* Spring Data R2DBC Repository */\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\n\npublic interface R2dbcUserRepository extends ReactiveCrudRepository<User, Long> {\n¬† // Returns a Mono (0 or 1 item)\n¬† Mono<User> findByUsername(String username);\n¬† \n¬† // Returns a Flux (0 to N items)\n¬† Flux<User> findAllByStatus(String status);\n}"
      },
      {
        "title": "Backpressure and Subscription",
        "content": "Controlling the flow of data. Covers **Backpressure**, the mechanism where the subscriber informs the publisher how much data it can handle, preventing the publisher from overwhelming the consumer. Details the process of **Subscription** (`.subscribe()`) where the connection is established and the data flow begins.",
        "codeExample": "/* Subscription and Backpressure (Conceptual) */\n// The consumer is the one who initiates the flow\nuserFlux.subscribe(\n¬† // onNext: data received\n¬† data -> System.out.println(data),\n¬† // onError: error received\n¬† error -> System.err.println(error),\n¬† // onComplete: stream finished\n¬† () -> System.out.println(\"Finished\"),\n¬† // Backpressure request: only request 10 items initially\n¬† subscription -> subscription.request(10)\n);"
      }
    ]
  },
  {
    "id": 14,
    "title": "AOP: Aspects and Custom Interception üß©",
    "icon": "Code",
    "subsections": [
      {
        "title": "Aspect-Oriented Programming (AOP) Concepts",
        "content": "Understanding the paradigm. Covers **Aspect-Oriented Programming (AOP)** as a way to modularize **Cross-Cutting Concerns** (logging, security, transactions) separate from the core business logic. Defines core terms: **Advice** (code executed), **Pointcut** (where the code executes), and **Aspect** (the module combining advice and pointcut).",
        "codeExample": "/* Cross-Cutting Concern (Conceptual) */\n// Logging logic scattered across every service method:\npublic void processOrder() {\n¬† // LOGGING START\n¬† // Business Logic\n¬† // LOGGING END\n}"
      },
      {
        "title": "Defining Aspects and Pointcuts",
        "content": "Creating AOP components. Covers using the **`@Aspect`** annotation on a class to define an Aspect. Details using the **`@Pointcut`** annotation with expression language (e.g., `execution(* com.myapp.service.*.*(..))`) to specify the exact join points (method executions) where the Advice should be executed.",
        "codeExample": "/* Defining an Aspect and Pointcut */\n@Aspect\n@Component\npublic class LoggingAspect {\n¬† \n¬† // Pointcut: Execute on all methods in the service package\n¬† @Pointcut(\"execution(* com.myapp.service.*.*(..))\")\n¬† public void serviceMethods() {}\n¬† \n¬† // Advice (what to execute and when)\n¬† // @Before(\"serviceMethods()\")\n¬† // public void logBefore(JoinPoint joinPoint) { ... }\n}"
      },
      {
        "title": "Types of Advice (`@Before`, `@AfterReturning`, `@Around`)",
        "content": "Implementing execution logic relative to the join point. **`@Before`** (runs before method execution). **`@AfterReturning`** (runs after method execution if it succeeds). **`@AfterThrowing`** (runs after method execution if it throws an exception). **`@Around`** (surrounds method execution, providing the most control, must call `joinPoint.proceed()`).",
        "codeExample": "/* Around Advice */\nimport org.aspectj.lang.ProceedingJoinPoint;\n\n@Around(\"serviceMethods()\")\npublic Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n¬† long start = System.currentTimeMillis();\n¬† \n¬† // Execute the actual method\n¬† Object result = joinPoint.proceed(); \n¬† \n¬† long elapsedTime = System.currentTimeMillis() - start;\n¬† System.out.printf(\"%s executed in %d ms%n\", joinPoint.getSignature().getName(), elapsedTime);\n¬† \n¬† return result;\n}"
      },
      {
        "title": "Weaving (Compile-Time vs. Runtime)",
        "content": "Understanding how AOP modifies the application. Covers **Weaving** (the process of applying aspects to target objects). Spring AOP typically uses **Runtime Proxy Weaving** (creating a runtime proxy object that intercepts method calls). Explains limitations (only public methods on beans are intercepted) and alternatives like AspectJ's compile-time or load-time weaving.",
        "codeExample": "/* Spring AOP Limitation (Conceptual) */\n// Spring creates a proxy object that wraps the target bean.\n// If a method within the target bean calls another method within the *same* bean,\n// the second call bypasses the proxy and the Aspect is not applied."
      },
      {
        "title": "Implementing Custom Security/Validation via AOP",
        "content": "Practical use cases beyond logging. Covers using AOP to enforce custom security checks (e.g., checking user roles based on method arguments) or complex input/output validation checks across multiple service layers. Details creating a **Custom Annotation** and using a Pointcut expression to target all methods marked with that annotation.",
        "codeExample": "/* Custom Annotation for AOP Interception */\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface SecureAudit {} // Annotation definition\n\n// Aspect targets methods with the annotation\n@Before(\"@annotation(SecureAudit)\")\npublic void checkPermissions(JoinPoint joinPoint) {\n¬† // Logic to check user permissions before executing the annotated method\n¬† // ...\n}"
      }
    ]
  },
  {
    "id": 15,
    "title": "Internationalization (i18n) and Localization üåé",
    "icon": "List",
    "subsections": [
      {
        "title": "i18n Concepts and Resource Bundles",
        "content": "Understanding the principles of **Internationalization (i18n)** (designing for multiple locales) and **Localization (L10n)** (adapting for specific locales). Covers the role of **Resource Bundles** (properties files) that store localized key-value pairs (text, dates, currency formats) based on the user's requested locale.",
        "codeExample": "/* Resource Bundle Files */\n// messages.properties (default/English)\n// welcome.message=Welcome to the application.\n\n// messages_fr.properties (French)\n// welcome.message=Bienvenue √† l'application."
      },
      {
        "title": "MessageSource and Accessing Localized Data",
        "content": "The central component for message retrieval. Covers configuring the **`MessageSource`** bean (e.g., `ResourceBundleMessageSource`) to load message definitions. Details injecting and using the `MessageSource` service to retrieve localized strings by key and locale, optionally passing arguments to the message.",
        "codeExample": "/* Accessing MessageSource in a Service */\n@Service\npublic class MessageService {\n¬† @Autowired private MessageSource messageSource;\n¬† \n¬† public String getWelcomeMessage(String username, Locale locale) {\n¬† ¬† // Get message key and pass arguments (e.g., username)\n¬† ¬† return messageSource.getMessage(\"welcome.user\", new Object[]{username}, locale);\n¬† }\n\n¬† // messages.properties: welcome.user=Welcome, {0}!\n}"
      },
      {
        "title": "Locale Resolution and HTTP Negotiation",
        "content": "Determining the user's desired language. Covers configuring the **`LocaleResolver`** bean (e.g., `AcceptHeaderLocaleResolver` or `SessionLocaleResolver`). Explains how Spring inspects the **HTTP `Accept-Language` header** sent by the browser to automatically set the current `Locale` for the request.",
        "codeExample": "/* LocaleResolver Configuration (Accept-Header) */\n@Bean\npublic LocaleResolver localeResolver() {\n¬† // Reads the locale from the browser's Accept-Language header\n¬† AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver();\n¬† // Fallback if header is not present\n¬† localeResolver.setDefaultLocale(Locale.US);\n¬† return localeResolver;\n}"
      },
      {
        "title": "Time Zones and Number Formatting",
        "content": "Adapting dates, times, and numbers to the locale. Covers using **`java.time`** (the modern date/time API) and formatting utilities. Details using the `Locale` object to correctly format currency symbols, date patterns, and decimal separators according to regional standards.",
        "codeExample": "/* Formatting for a specific Locale */\n// Example: Formatting currency\nLocale france = Locale.FRANCE;\nCurrencyFormat format = CurrencyFormat.getCurrencyInstance(france);\nString frenchPrice = format.format(1234.56);\n// Output in France: 1 234,56 ‚Ç¨"
      },
      {
        "title": "Spring MVC and WebFlux i18n Integration",
        "content": "Applying internationalization to the web layer. Covers using the **`th:text`** attribute (in Thymeleaf/HTML templates) or accessing the `MessageSource` directly in controllers to retrieve localized data. Explains binding the resolved `Locale` to the processing of the request.",
        "codeExample": "/* Thymeleaf HTML Template (Web MVC) */\n<p th:text=\"#{welcome.message}\">Default Welcome Text</p>\n\n<p th:text=\"#{order.status}\">Order status is being processed.</p>"
      }
    ]
  },
  {
    "id": 16,
    "title": "Testing: Unit, Integration, and Mocking üß™",
    "icon": "Palette",
    "subsections": [
      {
        "title": "JUnit 5: Structure and Assertions",
        "content": "Mastering **JUnit 5** as the standard testing framework. Covers the structure of a test class and methods, using annotations like **`@Test`**, **`@BeforeEach`**, and **`@AfterAll`** for setup and teardown. Details using the **`Assertions`** class for various checks (`assertEquals`, `assertTrue`, `assertThrows`) and the benefits of the `assertAll()` method for grouping assertions.",
        "codeExample": "/* JUnit 5 Test Class */\nimport org.junit.jupiter.api.*;\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class CalculatorTest {\n¬† private Calculator calculator; // Component being tested\n¬† \n¬† @BeforeEach\n¬† void setup() {\n¬† ¬† calculator = new Calculator();\n¬† }\n¬† \n¬† @Test\n¬† void add_ShouldReturnCorrectSum() {\n¬† ¬† int result = calculator.add(2, 3);\n¬† ¬† assertEquals(5, result, \"2 + 3 should equal 5\");\n¬† }\n¬† \n¬† @Test\n¬† void divide_ShouldThrowException() {\n¬† ¬† assertThrows(IllegalArgumentException.class, () -> {\n¬† ¬† ¬† calculator.divide(1, 0);\n¬† ¬† });\n¬† }\n}"
      },
      {
        "title": "Mocking with Mockito",
        "content": "Isolating unit tests using the **Mockito** framework. Covers the **`@Mock`** annotation for creating fake instances of dependencies. Details the core methods: **`when().thenReturn()`** (stubbing behavior) and **`verify()`** (checking if methods were called with specific arguments). Essential for ensuring unit tests only check the class under test.",
        "codeExample": "/* Mockito Usage */\nimport org.mockito.Mock;\nimport static org.mockito.Mockito.*;\n\npublic class UserServiceTest {\n¬† @Mock private UserRepository userRepository;\n¬† private UserService userService;\n¬† \n¬† @BeforeEach\n¬† void setup() {\n¬† ¬† // Initialize mocks and inject into the class under test\n¬† ¬† userService = new UserService(userRepository);\n¬† }\n¬† \n¬† @Test\n¬† void getUserById_ShouldReturnUser() {\n¬† ¬† User mockUser = new User(1L, \"Test\");\n¬† ¬† // 1. Stubbing: Define the behavior of the dependency\n¬† ¬† when(userRepository.findById(1L)).thenReturn(Optional.of(mockUser));\n¬† ¬† \n¬† ¬† User result = userService.findById(1L);\n¬† ¬† \n¬† ¬† // 2. Verification: Check if the method was actually called\n¬† ¬† verify(userRepository, times(1)).findById(1L);\n¬† ¬† assertEquals(\"Test\", result.getName());\n¬† }\n}"
      },
      {
        "title": "Spring Boot Integration Testing (`@SpringBootTest`)",
        "content": "Testing the entire application context. Covers using the **`@SpringBootTest`** annotation to load a full or partial configuration of the Spring application. Details how to inject actual services and repositories for end-to-end component testing, ensuring the IoC container, configuration, and transactional behavior are correct.",
        "codeExample": "/* Spring Boot Integration Test */\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.junit.jupiter.api.Test;\n\n@SpringBootTest\npublic class OrderServiceIntegrationTest {\n¬† \n¬† @Autowired private OrderService orderService; // Inject the real service\n¬† @Autowired private ProductRepository productRepository; // Inject the real repository\n¬† \n¬† @Test\n¬† @Transactional // Ensures test data is rolled back after the test runs\n¬† void placeOrder_ShouldDecreaseStock() {\n¬† ¬† // Arrange: Setup real data\n¬† ¬† Product product = productRepository.save(new Product(\"Widget\", 10));\n¬† ¬† // Act: Execute the business logic\n¬† ¬† orderService.placeOrder(product.getId(), 5);\n¬† ¬† // Assert: Check the resulting state in the DB\n¬† ¬† assertEquals(5, productRepository.findById(product.getId()).get().getStock());\n¬† }\n}"
      },
      {
        "title": "Testing REST Controllers (WebMvcTest)",
        "content": "Testing the web layer in isolation. Covers using **`@WebMvcTest`** to load only the Spring MVC components (Controllers, Filters) without loading the full application context or the database. Details using **`MockMvc`** to perform simulated HTTP requests (GET, POST) and assert on response status codes, headers, and JSON content using JSONPath.",
        "codeExample": "/* Controller Integration Test */\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n@WebMvcTest(ProductController.class)\npublic class ProductControllerTest {\n¬† @Autowired private MockMvc mockMvc;\n¬† @MockBean private ProductService productService; // Mock the dependency\n\n¬† @Test\n¬† void getProduct_ShouldReturn200() throws Exception {\n¬† ¬† Product mockProduct = new Product(1L, \"Test\");\n¬† ¬† when(productService.findById(1L)).thenReturn(mockProduct);\n¬† ¬† \n¬† ¬† mockMvc.perform(MockMvcRequestBuilders.get(\"/api/v1/products/1\"))\n¬† ¬† ¬† .andExpect(status().isOk())\n¬† ¬† ¬† .andExpect(jsonPath(\"$.name\").value(\"Test\")); // Assert JSON content\n¬† }\n}"
      },
      {
        "title": "Test Data Management (Testcontainers and @DataJpaTest)",
        "content": "Managing a clean database state for tests. Covers using **`@DataJpaTest`** to load only JPA components (Entities, Repositories) and automatically configure an in-memory database (H2). Introduces **Testcontainers** for provisioning real, disposable database instances (e.g., PostgreSQL, MySQL) in Docker containers, ensuring maximum fidelity between testing and production environments.",
        "codeExample": "/* Data JPA Test (Isolated Repository Test) */\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\n@DataJpaTest\n// The test automatically uses an in-memory database (H2)\npublic class UserRepositoryDataTest {\n¬† @Autowired private UserRepository userRepository;\n¬† \n¬† @Test\n¬† void findByUsername_ShouldReturnUser() {\n¬† ¬† userRepository.save(new User(\"admin\"));\n¬† ¬† User found = userRepository.findByUsername(\"admin\");\n¬† ¬† assertNotNull(found);\n¬† }\n}"
¬† ¬† ¬† }
    ]
  },
  {
    "id": 17,
    "title": "API Documentation (OpenAPI/Swagger) üìñ",
    "icon": "List",
    "subsections": [
      {
        "title": "OpenAPI Specification and Swagger UI",
        "content": "Mastering API documentation standards. Covers the **OpenAPI Specification (OAS, formerly Swagger)**, a language-agnostic description for REST APIs. Details using **SpringDoc OpenAPI** with the Swagger UI to automatically generate interactive documentation directly from Spring annotations, enabling easy exploration and testing of endpoints.",
        "codeExample": "/* SpringDoc Dependency (Maven) */\n<dependency>\n¬† <groupId>org.springdoc</groupId>\n¬† <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>\n¬† <version>...</version>\n</dependency>\n\n// Access Swagger UI at:\n// http://localhost:8080/swagger-ui.html"
      },
      {
        "title": "Documenting Controllers and Endpoints",
        "content": "Annotating the web layer for clear documentation. Covers using **`@Operation`** (on methods) to provide summary and description. **`@ApiResponse`** to document expected HTTP status codes (200, 201, 400). **`@Parameter`** to describe request parameters and path variables.",
        "codeExample": "/* Controller Documentation */\n@Operation(summary = \"Creates a new product in the catalog\")\n@ApiResponses(value = {\n¬† @ApiResponse(responseCode = \"201\", description = \"Product created\"),\n¬† @ApiResponse(responseCode = \"400\", description = \"Invalid input data\")\n})\n@PostMapping\npublic Product create(\n¬† @Parameter(description = \"Product DTO for creation\")\n¬† @RequestBody Product product\n) { /* ... */ }"
      },
      {
        "title": "Schema and Data Transfer Objects (DTOs)",
        "content": "Describing data structures accurately. Covers using **`@Schema`** (on DTOs) to provide descriptions for fields, examples, and mark properties as read-only or required. This ensures the generated documentation accurately reflects the application's data contract.",
        "codeExample": "/* DTO Schema Documentation */\n@Schema(description = \"Data Transfer Object for Product Creation\")\npublic class ProductDto {\n¬† @Schema(description = \"Unique name of the product\", example = \"Widget X\", requiredMode = RequiredMode.REQUIRED)\n¬† private String name;\n\n¬† @Schema(description = \"The available stock count\", readOnly = true)\n¬† private int stock;\n}"
      },
      {
        "title": "Versioning and Customization",
        "content": "Managing documentation for API evolution. Covers setting API version information in the OpenAPI configuration. Details customizing the generated documentation's metadata (title, licensing) and using **`GroupedOpenApi`** to create separate documentation pages for different API versions (e.g., `/v1` and `/v2`).",
        "codeExample": "/* Grouping API Versions (Configuration) */\n@Bean\npublic GroupedOpenApi v1Api() {\n¬† return GroupedOpenApi.builder()\n¬† ¬† .group(\"v1-api\")\n¬† ¬† .pathsToMatch(\"/api/v1/**\")\n¬† ¬† .build();\n}"
      },
      {
        "title": "Client Generation and SDKs",
        "content": "Utilizing OpenAPI for integration. Covers using the generated OpenAPI JSON/YAML file to automatically generate client code (SDKs) in various programming languages (e.g., TypeScript, Python) using tools like **OpenAPI Generator**. This greatly simplifies frontend integration and reduces manual setup.",
        "codeExample": "/* OpenAPI Generator Command (Conceptual) */\n// Generates a TypeScript client based on the YAML specification\njava -jar openapi-generator-cli.jar generate \\\n¬† -i openapi.yaml \\\n¬† -g typescript-axios \\\n¬† -o client/typescript-sdk"
¬† ¬† ¬† }
    ]
  },
  {
    "id": 18,
    "title": "Actuator, Metrics, and Tracing (Micrometer) üìà",
    "icon": "Code",
    "subsections": [
      {
        "title": "Spring Boot Actuator and Health Checks",
        "content": "Exposing production information using **Spring Boot Actuator**. Covers enabling essential endpoints (e.g., `/health`, `/info`, `/metrics`) to monitor the application's health, current metrics, and environment properties. Details configuring the `/health` endpoint with custom **Health Indicators** to check downstream dependencies (database, message broker).",
        "codeExample": "/* application.yml Actuator Configuration */\nmanagement:\n¬† endpoints:\n¬† ¬† web:\n¬† ¬† ¬† exposure:\n¬† ¬† ¬† ¬† # Expose health and metrics to the web\n¬† ¬† ¬† ¬† include: \"health, info, metrics\"\n¬† endpoint:\n¬† ¬† health:\n¬† ¬† ¬† show-details: always\n"
      },
      {
        "title": "Micrometer and Custom Metrics",
        "content": "The central metrics collection library. Covers **Micrometer** as the facade that collects application metrics (timers, counters, gauges) and exposes them in formats compatible with various monitoring systems (Prometheus, Datadog). Details injecting the **`MeterRegistry`** to define and record **Custom Metrics** in business logic.",
        "codeExample": "/* Micrometer Custom Metric (Counter) */\n@Service\npublic class MetricService {\n¬† private final Counter orderCounter;\n\n¬† public MetricService(MeterRegistry registry) {\n¬† ¬† // Register a new counter metric\n¬† ¬† this.orderCounter = registry.counter(\"orders.processed.total\", \"service\", \"order\");\n¬† }\n\n¬† public void recordOrder() {\n¬† ¬† // Increment the counter\n¬† ¬† orderCounter.increment();\n¬† }\n}"
      },
      {
        "title": "Integration with Prometheus and Grafana",
        "content": "Visualizing application health. Covers enabling the **Prometheus** endpoint via Actuator, allowing the Prometheus server to **Scrape** (pull) the application's metrics periodically. Details setting up **Grafana** dashboards to visualize the collected metrics (response times, error rates, custom business metrics) from Prometheus.",
        "codeExample": "/* Prometheus Configuration (Conceptual) */\n# prometheus.yml snippet to scrape the Spring Boot application\nscrape_configs:\n¬† - job_name: 'spring-app'\n¬† ¬† metrics_path: '/actuator/prometheus'\n¬† ¬† static_configs:\n¬† ¬† ¬† - targets: ['localhost:8080']"
      },
      {
        "title": "Distributed Tracing (Brave/Zipkin)",
        "content": "Debugging performance across microservices. Covers **Distributed Tracing** (tracking a single request as it flows through multiple services). Details using frameworks like **Spring Cloud Sleuth** (integrated with Micrometer) and **Zipkin/Jaeger** to generate and collect **Trace IDs** and **Span IDs**, enabling developers to pinpoint latency issues in a distributed system.",
        "codeExample": "/* Distributed Tracing Propagation */\n// HTTP Request enters Service A (Span ID: 123, Trace ID: 456)\n// Service A calls Service B (Span ID: 789, Trace ID: 456)\n// -> The Trace ID remains the same, linking the requests together."
      },
      {
        "title": "Custom Health Indicators and Readiness Probes",
        "content": "Providing accurate status for orchestration. Covers implementing the **`HealthIndicator`** interface to expose the health of custom dependencies (e.g., external APIs, custom queues). Details the distinction between **Liveness Probes** (is the application running?) and **Readiness Probes** (is the application ready to serve traffic?), crucial for Kubernetes deployments.",
        "codeExample": "/* Custom Health Indicator */\n@Component(\"externalApi\")\npublic class ExternalApiHealthIndicator implements HealthIndicator {\n¬† @Override\n¬† public Health health() {\n¬† ¬† if (isApiDown()) {\n¬† ¬† ¬† return Health.down().withDetail(\"API\", \"Service unavailable\").build();\n¬† ¬† }\n¬† ¬† return Health.up().build();\n¬† }\n}"
     }
    ]
  },
 {
  "id": 19,
  "title": "Maven/Gradle and Containerization üì¶",
  "icon": "List",
  "subsections": [
    {
      "title": "Maven and Gradle Build Systems",
      "content": "Mastering the two main Java build tools. Covers the structure and configuration of **Maven's `pom.xml`** (XML configuration) and **Gradle's `build.gradle`** (Groovy/Kotlin DSL). Details essential tasks: managing dependencies, compiling code, running tests, and packaging the application into an executable **\"Fat\" JAR** (Spring Boot's default packaging).",
      "codeExample": "/* Gradle Build File Snippet */\nplugins {\n¬† id 'java'\n¬† id 'org.springframework.boot' version '3.2.0'\n¬† id 'io.spring.dependency-management' version '1.1.3'\n}\n\n// Dependencies management\ndependencies {\n¬† implementation 'org.springframework.boot:spring-boot-starter-web'\n¬† testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\n// Task to generate an executable JAR\n// bootJar { enabled = true }"
    },
    {
      "title": "Containerization (Docker and Dockerfile)",
      "content": "Packaging the Spring Boot application using **Docker**. Covers writing an efficient **`Dockerfile`** using a multi-stage build pattern (one stage for compiling, one small stage for running the JAR) to create a minimal, secure final image. Details deploying the executable \"Fat\" JAR or the exploded JAR for faster startup times inside the container.",
      "codeExample": "/* Multi-Stage Dockerfile for Spring Boot */\n# 1. Build Stage\nFROM eclipse-temurin:21-jdk-alpine AS build\nWORKDIR /app\nCOPY build.gradle settings.gradle ./ \nCOPY src ./src\nRUN ./gradlew bootJar\n\n# 2. Runtime Stage (Minimal JRE)\nFROM eclipse-temurin:21-jre-alpine\nWORKDIR /app\nCOPY --from=build /app/build/libs/*.jar app.jar\nEXPOSE 8080\nCMD [\"java\", \"-jar\", \"app.jar\"]"
    },
    {
      "title": "Multi-Module Builds and Monorepos",
      "content": "Managing large codebases. Covers structuring the project into a **Multi-Module Build** (e.g., `api`, `service`, `domain`) using parent `pom.xml` or root `settings.gradle`. This is essential for enterprise **Monorepos** where multiple services share common libraries (e.g., DTOs, security config).",
      "codeExample": "/* Maven Multi-Module pom.xml (Parent) */\n<packaging>pom</packaging>\n<modules>\n¬† <module>order-service</module>\n¬† <module>notification-service</module>\n¬† <module>shared-domain</module> \n</modules>"
    },
    {
      "title": "Build Profiles and Environment Configuration",
      "content": "Customizing the build for different environments. Covers defining **Build Profiles** (Maven/Gradle) to activate specific configurations (e.g., using an H2 database for `dev` profile and PostgreSQL for `prod` profile) and including/excluding environment-specific dependencies during the build process.",
      "codeExample": "/* Maven Profile Configuration Snippet */\n<profiles>\n¬† <profile>\n¬† ¬† <id>prod</id>\n¬† ¬† <properties>\n¬† ¬† ¬† <activatedProperties>prod</activatedProperties>\n¬† ¬† </properties>\n¬† ¬† <dependencies>...</dependencies>\n¬† </profile>\n</profiles>"
    },
    {
      "title": "Image Optimization and JLINK",
      "content": "Minimizing container size. Covers using **JLink** (Java 9+) to create a custom, minimal Java Runtime Environment (JRE) that includes only the necessary modules, drastically reducing the final Docker image size from hundreds of megabytes down to tens of megabytes, improving deployment speed.",
      "codeExample": "/* JLink Custom Runtime (Conceptual) */\n// 1. Analyze dependencies to determine required modules (e.g., java.base, java.sql)\n// 2. jlink --module-path <path> --add-modules <modules> --output custom-jre"
    }
  ]
},
  {
    "id": 20,
    "title": "Cloud Deployment and Kubernetes (K8s) üöÄ",
    "icon": "List",
    "subsections": [
      {
        "title": "Cloud Deployment and Kubernetes (K8s)",
        "content": "Deploying Spring Boot applications to the cloud. Covers using platforms like **AWS (Elastic Beanstalk/ECS/EKS)** or **Azure (App Service/AKS)**. Introduces **Kubernetes (K8s)** concepts: **Deployments** (managing replicas), **Services** (load balancing), **Ingress** (external routing), and configuring **Liveness and Readiness Probes** for health checks, ensuring the application is correctly managed in a distributed environment.",
        "codeExample": "/* Kubernetes Deployment YAML (Snippet) */\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n¬† name: spring-api\nspec:\n¬† replicas: 3\n¬† template:\n¬† ¬† spec:\n¬† ¬† ¬† containers:\n¬† ¬† ¬† - name: app\n¬† ¬† ¬† ¬† image: my-repo/spring-api:latest\n¬† ¬† ¬† ¬† ports: [{ containerPort: 8080 }]\n¬† ¬† ¬† ¬† livenessProbe: # Check if the application is still running\n¬† ¬† ¬† ¬† ¬† httpGet:\n¬† ¬† ¬† ¬† ¬† ¬† path: /actuator/health/liveness\n¬† ¬† ¬† ¬† ¬† ¬† port: 8080\n¬† ¬† ¬† ¬† readinessProbe: # Check if the application is ready to serve traffic\n¬† ¬† ¬† ¬† ¬† httpGet:\n¬† ¬† ¬† ¬† ¬† ¬† path: /actuator/health/readiness\n¬† ¬† ¬† ¬† ¬† ¬† port: 8080"
      },
      {
        "title": "Kubernetes Service and Ingress",
        "content": "Exposing the deployed application externally. Covers the **`Service`** object (ClusterIP, NodePort, LoadBalancer) for load balancing traffic internally among pods. Details the **`Ingress`** resource for managing external HTTP/HTTPS routing, SSL termination, and host-based routing rules to the internal services.",
        "codeExample": "/* Kubernetes Service YAML */\napiVersion: v1\nkind: Service\nmetadata:\n¬† name: spring-api-service\nspec:\n¬† selector:\n¬† ¬† app: spring-api\n¬† ports:\n¬† ¬† - protocol: TCP\n¬† ¬† ¬† port: 80\n¬† ¬† ¬† targetPort: 8080\n¬† type: LoadBalancer"
      },
      {
        "title": "Configuration Management (ConfigMaps and Secrets)",
        "content": "Handling application configuration in a containerized environment. Covers **`ConfigMaps`** for storing non-sensitive configuration data (e.g., logging levels, feature flags) and **`Secrets`** for storing sensitive data (e.g., database passwords, API keys). Explains mounting these resources as environment variables or files inside the container.",
        "codeExample": "/* Kubernetes ConfigMap Usage */\napiVersion: v1\nkind: ConfigMap\nmetadata:\n¬† name: app-config\ndata:\n¬† LOGGING_LEVEL: INFO\n¬† DB_HOST: postgres-service\n\n// Container accesses DB_HOST via environment variable"
      },
      {
        "title": "CI/CD with Jenkins/GitLab/GitHub Actions",
        "content": "Automating the software delivery pipeline. Covers configuring pipelines (Jenkins, GitLab CI, GitHub Actions) to perform the complete process: **Build** (Maven/Gradle), **Test** (JUnit/Mockito), **Containerize** (Docker build/push to registry), and **Deploy** (using `kubectl` or Helm charts to update the Kubernetes cluster).",
        "codeExample": "/* CI/CD Docker Build Step (Conceptual) */\n- name: Build & Push Docker Image\n¬† run: |\n¬† ¬† docker build -t my-registry/spring-api:v1.2 .\n¬† ¬† docker push my-registry/spring-api:v1.2\n¬† env:\n¬† ¬† # Use Git SHA as image tag for better traceability"
      },
      {
        "title": "Service Mesh (Istio/Linkerd) and Observability",
        "content": "Advanced microservices networking. Covers the concept of a **Service Mesh** (e.g., Istio) to handle service-to-service communication, traffic management (e.g., A/B testing, canary releases), security (mTLS), and centralized **Observability** (automatic metrics collection and distributed tracing), offloading this logic from the application code.",
        "codeExample": "/* Service Mesh Benefit (Conceptual) */\n// Istio sidecar proxy intercepts all traffic to/from the Spring Boot app.\n// Traffic Rule: Route 10% of user traffic to the 'v2' version of the service."
¬† ¬† ¬† }
    ]
  }
]
  },
  web3_1: {
    id: 'web3-1',
    title: 'Web3 Development : Part 1',
    icon: BlocksIcon,
    color: '#627EEA',
    description: 'EVM, Solidity, and Core Foundations',
    units: [
  {
    "id": 1,
    "title": "Blockchain Fundamentals & Web3 Architecture üß±",
    "icon": "Code",
    "subsections": [
      {
        "title": "Blockchain as a Distributed Ledger Technology (DLT)",
        "content": "Defines the blockchain structure: **immutable, linked blocks** of transactions secured by cryptography. Discusses the core value propositions: **transparency, censorship resistance, and trustlessness**. Distinguishes between public (permissionless) and private (permissioned) ledgers.",
        "codeExample": "/* Conceptual Block Structure */\nstruct Block {\n  bytes32 previousHash; // Link to preceding block\n  bytes32 stateRoot;    // Merkle root of the state\n  bytes32 receiptRoot;  // Merkle root of transaction receipts\n  uint256 blockNumber; \n  uint256 difficulty;  // PoW difficulty target\n  uint256 baseFeePerGas; // EIP-1559 Base Fee\n  // ... other data\n}"
      },
      {
        "title": "Decentralization, P2P Networks, and Nodes",
        "content": "Explores **Decentralization** across three axes: political, architectural, and logical. Details the **Peer-to-Peer (P2P)** network structure and the function of different **Nodes** (Full, Light, Archive) in maintaining network integrity and processing transactions.",
        "codeExample": "/* Node Access Methods */\n// RPC (Remote Procedure Call) is the standard interface.\n// web3.eth.getBlockNumber() (Query)\n// web3.eth.sendSignedTransaction(rawTx) (Write)"
      },
      {
        "title": "Consensus Mechanisms: PoW vs. PoS",
        "content": "Contrasts **Proof-of-Work (PoW)**, relying on energy expenditure (mining), with **Proof-of-Stake (PoS)** (used by Ethereum), relying on financial collateral (staking). Explains the security trade-offs and the concept of a **Finality Gadget** (like Casper FFG) in PoS.",
        "codeExample": "/* PoS vs PoW Conceptual Difference */\n// PoW: Miners compete to solve cryptographic puzzles.\n// PoS: Validators are selected based on the amount of staked ETH."
      },
      {
        "title": "Smart Contracts and Decentralized Applications (dApps)",
        "content": "Defines **Smart Contracts** as autonomous, self-executing code stored on the blockchain. Explains **dApps** as applications that use smart contracts and decentralized storage (IPFS/Arweave) for their backend logic and data persistence.",
        "codeExample": "/* Smart Contract Role */\n// Contract Code: Stored as bytecode on the EVM.\n// Contract State: Stored in the EVM storage (key-value mapping)."
      },
      {
        "title": "The Mempool and Transaction Lifecycle",
        "content": "Describes the **Mempool** as the queue of pending transactions. Details the transaction lifecycle: **Creation**, **Signing** (EOA), **Broadcasting**, **Mempool Inclusion**, **Mining/Finalization**, and **Receipt Generation** (including logs).",
        "codeExample": "/* Transaction State Check (Frontend) */\n// txHash is generated immediately upon submission.\n// provider.waitForTransaction(txHash) // Waits until the transaction is mined."
      }
    ]
  },
  {
    "id": 2,
    "title": "EVM, Gas, Opcodes, and Runtime ‚öôÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "EVM Stack, Memory, and Persistent Storage",
        "content": "Detailed allocation of data locations: **Stack** (temporary, fast, 256-bit words), **Memory** (temporary, cheap reads/writes, volatile per transaction), and **Storage** (persistent, expensive SSTORE/SLOAD opcodes).",
        "codeExample": "/* Data Location in Solidity */\n// 'storage' - persistent state\nmapping(address => uint256) public balances;\n\n// 'memory' - transient\nfunction process(string memory data) external { ... }"
      },
      {
        "title": "Gas: Cost, Limit, and Refund",
        "content": "Defines **Gas** as the execution fee. Covers **Gas Limit** (maximum gas the sender is willing to pay) and **Gas Refund** (unused gas is refunded upon successful execution). Explains why failed transactions consume all allocated gas but refund the execution fee.",
        "codeExample": "/* Transaction Fee Calculation */\n// Total Fee = Gas Used * (Base Fee + Priority Fee)\n// Unused Gas Refunded = (Gas Limit - Gas Used) * Base Fee"
      },
      {
        "title": "Opcodes and Bytecode Execution",
        "content": "A look at the **EVM Opcodes** (PUSH, ADD, SSTORE) as machine instructions. Explains that **Bytecode** is the sequence of opcodes executed by the EVM and that the Gas Cost of a function is the sum of the costs of its underlying opcodes.",
        "codeExample": "/* Opcode Cost (Conceptual) */\n// SSTORE (Write to storage): ~20,000 gas (or 5,000 if overwriting a non-zero value)\n// SLOAD (Read from storage): ~100 gas\n// ADD, PUSH: Very cheap (~3 gas)"
      },
      {
        "title": "Internal vs. External Calls and Message Passing",
        "content": "Inter-contract communication mechanisms. **External Calls** transfer execution control and can send ETH. **Internal Calls** are simple function calls within the same contract or inherited logic (cheaper, no ETH transfer).",
        "codeExample": "/* Low-Level Call */\n// External call: sends 1 ETH to target\n(bool success, ) = targetAddress.call{value: 1 ether}(\"\");\n// Delegatecall: executes target code in *this* contract's storage\n(bool success, bytes memory data) = targetAddress.delegatecall(callData);"
      },
      {
        "title": "Revert, Require, and Assert Semantics",
        "content": "Solidity's error handling. **`require()`** (input/condition validation, refunds unused gas). **`revert()`** (complex error logic, refunds unused gas). **`assert()`** (checking internal invariants, consumes all gas, used for developer errors).",
        "codeExample": "/* Solidity Error Functions */\nfunction checkAmount(uint256 amount) public pure {\n  // Validation (Refunds unused gas)\n  require(amount > 0, \"Amount must be positive.\");\n  \n  // Internal Invariant Check (Consumes ALL gas)\n  // assert(dataStructure.length < 100); \n}"
      }
    ]
  },
  {
    "id": 3,
    "title": "Solidity: Types, Variables, and Storage ‚úçÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "Fixed vs. Dynamic Sized Types",
        "content": "Covers fixed-size integers (`uint8` to `uint256`), which are gas-efficient, vs. dynamic types (`string`, `bytes`, dynamic arrays), which are flexible but cost more for storage and manipulation.",
        "codeExample": "/* Fixed vs Dynamic */\nuint256 public total;       // Fixed size, standard\nbytes32 public hashValue;   // Fixed size, for storing hashes\nstring public name;         // Dynamic size, stored as a pointer"
      },
      {
        "title": "The `address` Type and Payable Distinction",
        "content": "The 20-byte Ethereum address type. Distinguishes between **`address`** (cannot receive ETH via `transfer`/`send`) and **`address payable`** (can receive ETH), ensuring explicit handling of funds.",
        "codeExample": "/* Address Types */\naddress public tokenAddress; \naddress payable public fundReceiver; // Must be payable to receive funds\n\nfunction sendEth(uint256 amount) public {\n  // Can only call transfer/send on a payable address\n  fundReceiver.transfer(amount); \n}"
      },
      {
        "title": "Mappings and State Access",
        "content": "Mastering **`mapping`** for key-value storage. Explains that mappings are sparse and provide constant-time lookups (O(1)) but cannot be iterated over, requiring a separate array for key tracking if iteration is needed.",
        "codeExample": "/* Mappings */\n// Mapping user address to their balance\nmapping(address => uint256) public balances;\n\n// Nested Mapping for allowances\nmapping(address => mapping(address => uint256)) public allowances;"
      },
      {
        "title": "Structs and Complex Data Aggregation",
        "content": "Using **`struct`** to group related data into a single type, improving code readability. Covers how structs are stored sequentially in storage slots and the importance of **Storage Packing** when defining them.",
        "codeExample": "/* Structs and Usage */\nstruct Campaign {\n  address creator;\n  uint256 goal;\n  bool completed;\n}\n\nmapping(uint256 => Campaign) public campaigns;"
      },
      {
        "title": "Arrays (Static and Dynamic) and Memory Cost",
        "content": "Handling lists. **Static Arrays** (`uint[10]`) are size-fixed and cheaper. **Dynamic Arrays** (`uint[]`) are size-flexible but cost more for `push`/`pop`. Emphasizes returning `memory` arrays from functions to avoid high gas fees associated with large `storage` array copying.",
        "codeExample": "/* Array Usage */\nuint256[] public historyIds;\n\nfunction getLastTen() public view returns (uint256[] memory) {\n  // Copying from storage to memory is required for returning dynamic arrays\n  uint256[] memory lastTen = new uint256[](10);\n  // ... copy logic\n  return lastTen;\n}"
      },
      {
        "title": "Constants and Immutables",
        "content": "**`constant`** (compile-time fixed, no gas cost, not readable by dApps via state access). **`immutable`** (constructor fixed, read from storage, slight cost, readable by dApps). Choosing correctly minimizes gas and enforces design constraints.",
        "codeExample": "/* Constants vs Immutables */\nuint256 public constant MAX_SUPPLY = 1000000; // Fixed at compile time\naddress public immutable DEPLOYER;            // Fixed in constructor\n\nconstructor() {\n  DEPLOYER = msg.sender;\n}"
      },
      {
        "title": "Data Location: Storage, Memory, and Calldata",
        "content": "Optimizing gas by allocating complex types correctly. **`storage`** (expensive). **`memory`** (temporary, medium cost). **`calldata`** (read-only, cheapest, used for external function arguments).",
        "codeExample": "/* Calldata vs Memory */\nfunction submitData(string[] calldata report) external { /* Read-only, efficient */ }\nfunction processData(string[] memory report) public { /* Copy created, less efficient */ }"
      },
      {
        "title": "User-Defined Value Types (UDVTs)",
        "content": "Advanced data typing. Covers **User-Defined Value Types (UDVTs)** (Solidity 0.8.8+), allowing a custom type to wrap an elementary type (like `uint256`) to improve type safety and domain modeling within the contract.",
        "codeExample": "/* UDVTs for Type Safety */\ntype TokenId is uint256;\n\nfunction getMetadata(TokenId id) public view returns (string memory) {\n  // This function only accepts TokenId, not a raw uint256\n}"
      }
    ]
  },
  {
    "id": 4,
    "title": "Solidity: Functions, Mutability, and Control Flow üè∑Ô∏è",
    "subsections": [
      {
        "title": "Visibility: Public, External, Internal, Private",
        "content": "Controlling access: **`public`** (internal/external), **`external`** (external only, preferred for complex arguments to use `calldata`), **`internal`** (internal/derived contracts), **`private`** (internal only).",
        "codeExample": "/* Function Visibility */\nfunction processExternal(uint256 data) external { /* ... */ }\nfunction _internalProcess(uint256 data) internal { /* ... */ }"
      },
      {
        "title": "State Mutability: View and Pure",
        "content": "Gas optimization for read operations. **`view`** (read-only state, zero gas externally). **`pure`** (no state read/write, zero gas externally). Essential for dApp client calls.",
        "codeExample": "/* View and Pure Functions */\nfunction getBalance(address user) public view returns (uint256) { return balances[user]; }\nfunction calculateTax(uint256 amount) public pure returns (uint256) { return amount * 10 / 100; }"
      },
      {
        "title": "The Fallback Function and `receive()`",
        "content": "Handling unexpected calls. **`receive()`** (handles plain ETH transfers with no calldata). **`fallback()`** (handles calls to non-existent functions or ETH transfers when `receive()` is not present/restricted). Both must be `external payable` to receive ETH.",
        "codeExample": "/* Fallback and Receive Functions */\nreceive() external payable { /* Logs received ETH */ }\nfallback() external payable { revert(\"Unknown call or non-plain ETH transfer.\"); }"
      },
      {
        "title": "Modifiers and Pre-Condition Checks",
        "content": "Using **Modifiers** (`modifier`) to enforce pre-conditions (e.g., authentication, state checks) before function execution. Promotes code reuse and enhances security by separating check logic from business logic.",
        "codeExample": "/* Modifier Definition and Usage */\nmodifier onlyOwner() {\n  require(msg.sender == owner, \"Not authorized.\");\n  _;\n}\n\nfunction shutdown() public onlyOwner { /* Only owner executes */ }"
      },
      {
        "title": "Function Overloading and Signatures",
        "content": "Defining multiple functions with the same name but different argument lists (overloading). Explains the EVM resolves these based on the unique **Function Selector** derived from the name and argument types.",
        "codeExample": "/* Function Overloading */\nfunction deposit(uint256 amount) public { /* ... */ }\nfunction deposit(address account, uint256 amount) public { /* ... */ }"
      },
      {
        "title": "Looping (While, For) and Gas Risks",
        "content": "Implementing iterative logic. Covers standard `while` and `for` loops. **WARNING:** Looping over unbounded arrays in storage is an anti-pattern, as the gas cost can exceed the block gas limit, rendering the function permanently unusable.",
        "codeExample": "/* Unbounded Loop Risk */\n// DANGEROUS: If users.length > block gas limit, this function fails forever.\nfunction clearUsers() public {\n  for (uint i = 0; i < users.length; i++) {\n    delete users[i];\n  }\n}"
      },
      {
        "title": "Return Variables and Named Returns",
        "content": "Defining return types. Covers explicit returns (`return value;`) and using **Named Return Variables**, where the return variable is declared in the function signature and is automatically returned upon function exit.",
        "codeExample": "/* Named Return Variables */\nfunction getBalanceAndTax(uint256 amount) public pure returns (uint256 balance, uint256 tax) {\n  balance = amount;\n  tax = amount * 5 / 100;\n  // No explicit return statement needed\n}"
      },
      {
        "title": "Using `abi.encodePacked` and `abi.encodeWithSignature`",
        "content": "Encoding data for low-level calls and hashing. Covers **`abi.encodePacked()`** for concatenating arbitrary values (used for hashing/signing). Details **`abi.encodeWithSignature()`** for preparing the `calldata` payload for a specific function call on another contract.",
        "codeExample": "/* ABI Encoding */\n// For function call payload:\nbytes memory callData = abi.encodeWithSignature(\"setPrice(uint256)\", 100);\n\n// For hashing (e.g., EIP-712 signing):\nbytes32 messageHash = keccak256(abi.encodePacked(\"prefix\", data));"
      }
    ]
  },
  {
    "id": 5,
    "title": "Solidity: Events, Logs, and Off-Chain Data üì¢",
    "subsections": [
      {
        "title": "Events and the EVM Log Structure",
        "content": "Understanding **Events** as the only reliable way to communicate cheap, historical data to the off-chain world. Explains that event data is stored in the **EVM Logs** (part of the transaction receipt), which are indexed and searchable by block explorers and dApps. Events are read-only and immutable after mining.",
        "codeExample": "/* Event Definition */\nevent AssetPurchased(\n¬† address indexed buyer,\n¬† uint256 indexed assetId,\n¬† uint256 price\n);\n\nfunction purchase(uint256 assetId) public {\n¬† // ... Emission of the event (off-chain notification)\n¬† emit AssetPurchased(msg.sender, assetId, finalPrice);\n}"
      },
      {
        "title": "Indexed vs. Non-Indexed Parameters",
        "content": "Optimizing event searching. Covers using the **`indexed`** keyword on up to **three** parameters in an event definition. Explains that indexed parameters are stored in the log's **Topics** array, allowing block explorers (like Etherscan) and dApps to filter historical events quickly and efficiently. Non-indexed parameters are stored in the Log's **Data** field and must be downloaded completely.",
        "codeExample": "/* Indexed Parameter Usage */\n// Maximum three indexed parameters allowed per event.\nevent AssetPurchased(\n¬† address indexed buyer, // Topic 1 (searchable)\n¬† uint256 indexed assetId, // Topic 2 (searchable)\n¬† uint256 price // Stored in Data (not searchable)\n);"
      },
      {
        "title": "Listening to Events on the Frontend",
        "content": "Implementing real-time state tracking in dApps. Covers using the **Provider** object (Ethers/Viem) to set up **Real-Time Event Listeners** using the `contract.on('EventName', callback)` pattern. Details querying historical events using **`contract.queryFilter('EventName', fromBlock, toBlock)`** to reconstruct the application's state on initialization.",
        "codeExample": "/* JavaScript Event Listener (Ethers.js) */\ncontract.on('AssetPurchased', (buyer, assetId, price) => {\n¬† console.log(`\n¬† ¬† New Sale!\n¬† ¬† Buyer: \${buyer},\n¬† ¬† ID: \${assetId.toString()}\n¬† `);\n¬† // Update local application state here\n});"
      },
      {
        "title": "Decoupling Storage (Contract Separation)",
        "content": "Advanced pattern for separating data storage from business logic. Covers using one contract (**Storage**) primarily for state variables and another contract (**Logic**) for function execution. This provides a clean separation and is often combined with the Proxy Pattern to ensure the Storage contract never changes address.",
        "codeExample": "/* Storage Decoupling (Conceptual) */\ncontract Storage { \n¬† mapping(address => uint256) public balances; // STATE\n}\n\ncontract Logic { \n¬† Storage public storageContract;\n¬† \n¬† function transfer(address to, uint256 amount) external {\n¬† ¬† // LOGIC interacts with state held by Storage\n¬† ¬† storageContract.balances[msg.sender] -= amount;\n¬† }\n}"
      },
      {
        "title": "Immutable Off-Chain Data (IPFS Links)",
        "content": "Using event logs to store pointers (links) to large, immutable data hosted on decentralized file storage (IPFS, Arweave). Covers storing the **CID (Content ID)** in the event log, making the data traceable and verifiable by the transaction hash without the high cost of storing the data directly on-chain.",
        "codeExample": "/* Storing IPFS CID in a Log */\nevent MetadataUpdated(uint256 itemId, string cid);\n\nfunction updateMetadata(uint256 itemId, string memory cid) public onlyOwner {\n¬† // Store the string CID (e.g., 'QmXoyp...') in the event log\n¬† emit MetadataUpdated(itemId, cid);\n¬† // Optional: Store a boolean on-chain to confirm metadata exists\n}"
      },
      {
        "title": "Filtering Events by Topics",
        "content": "Advanced query techniques. Covers how the frontend can construct a **filter object** based on indexed topics to narrow down the search space for historical events (e.g., filtering for all `Transfer` events *from* a specific address *to* another specific address).",
        "codeExample": "/* Ethers.js Query Filter by Topic */\nconst filter = {\n  address: contractAddress,\n  // Topic 0 is always the hash of the event signature\n  topics: [\n    ethers.id(\"Transfer(address,address,uint256)\"),\n    // Topic 1: Indexed 'from' address (Alice's address)\n    ethers.zeroPadValue('0xAliceAddress', 32)\n  ]\n};\n\ncontract.queryFilter(filter, startBlock, endBlock);"
      },
      {
        "title": "Reading Past Events Synchronously",
        "content": "Accessing logged data without waiting for real-time events. Covers using the transaction receipt to read the logs immediately after a transaction is confirmed, allowing dApps to instantly update the UI with data confirmed by the blockchain.",
        "codeExample": "/* Reading Log Data from Receipt */\nconst receipt = await tx.wait();\n// The receipt contains an array of logs that can be decoded using the contract interface:\nconst decodedEvent = contract.interface.parseLog(receipt.logs[0]);\n// console.log(decodedEvent.args.buyer);"
      },
      {
        "title": "The Bloom Filter (Conceptual)",
        "content": "Understanding the block-level indexing. Covers the **Bloom Filter**, a data structure included in every block header that allows nodes to quickly determine if a block contains logs matching a specific address or topic without having to examine every transaction in the block.",
        "codeExample": "/* Bloom Filter Role (Conceptual) */\n// When searching for events, the node checks the Bloom Filter of a block range.\n// If the Bloom Filter says 'definitely not present,' the block is skipped (fast search)."
      }
    ]
  },
  {
    "id": 6,
    "title": "Advanced Assembly and Low-Level EVM üî¨",
    "icon": "Code",
    "subsections": [
      {
        "title": "Yul, Bytecode, and the Compiler Pipeline",
        "content": "The path from Solidity to machine code. Covers **Yul** as the intermediate language the Solidity compiler uses before generating EVM **Bytecode**. Understanding this pipeline is necessary for advanced optimization and writing gas-efficient contracts.",
        "codeExample": "/* Compiler Pipeline */\n// Solidity (.sol) -> Yul (Intermediate Language) -> EVM Bytecode (0x60806040...)"
      },
      {
        "title": "Inline Assembly Syntax and Usage",
        "content": "Using **Inline Assembly** (`assembly { ... }`) to write **Yul** directly within Solidity functions. Assembly provides direct access to the EVM stack, memory, and storage, allowing for manual optimization that can save significant gas, but it bypasses Solidity's safety checks.",
        "codeExample": "/* Inline Assembly for Storage Read */\nfunction getSlot(bytes32 slot) public view returns (uint256 value) {\n¬† assembly {\n¬† ¬† // sload(p) loads the word from storage at position p\n¬† ¬† value := sload(slot)\n¬† }\n}"
      },
      {
        "title": "Accessing Storage Slots (SSTORE/SLOAD)",
        "content": "Reading and writing storage slots directly. Covers using the `sload(p)` and `sstore(p, v)` opcodes. This is essential for reading and writing data in specific storage locations, often used in **Proxy Patterns** (to access state variables of the Implementation) or for gas-efficient array access.",
        "codeExample": "/* Assembly Write to Storage */\n// Stores the value 100 into storage slot 0\nassembly {\n  sstore(0, 100)\n}"
      },
      {
        "title": "Memory Operations (`mload`, `mstore`, Free Memory Pointer)",
        "content": "Manipulating temporary data in memory. Covers the opcodes **`mload`** (read from memory) and **`mstore`** (write to memory). Explains the **Free Memory Pointer** (stored at address `0x40`) which tracks the next available memory location, essential for safely allocating temporary space for complex return types.",
        "codeExample": "/* Assembly Memory Allocation */\n// Get the free memory pointer\nassembly {\n  let mptr := mload(0x40)\n  // Store the value 10 into memory at mptr\n  mstore(mptr, 10)\n}"
      },
      {
        "title": "Low-Level Call Opcodes (`call`, `delegatecall`, `staticcall`)",
        "content": "Executing external code via assembly. Covers the **`call`** opcode (standard external message call). **`delegatecall`** (execute code in the current context). **`staticcall`** (read-only external call, rejects state-changing attempts). These offer lower-level control than their Solidity keyword equivalents.",
        "codeExample": "/* Low-Level Call via Assembly */\n// Calling a target address with callData and limiting gas\nassembly {\n  // call(gas, addr, value, data_offset, data_size, ret_offset, ret_size)\n  success := call(gaslimit, target, 0, 0x0, dataSize, 0x0, retSize)\n}"
      },
      {
        "title": "Contract Creation and Selfdestruct",
        "content": "Creating new contracts from within Solidity. Covers using the `create` opcode to deploy new contracts. Details the **`selfdestruct`** opcode (formerly `suicide`), which removes the contract's bytecode from the blockchain and sends its remaining ETH balance to a specified address. Used sparingly for final cleanup.",
        "codeExample": "/* Selfdestruct Opcode */\n// Removes contract bytecode and sends remaining ETH to `recipient`\nfunction closeContract() public onlyOwner {\n  selfdestruct(payable(owner));\n}"
      },
      {
        "title": "Yul Loops and Performance",
        "content": "Implementing optimized loops in Yul. Covers the specialized **`for`** loop structure in Yul which is often more gas-efficient than the standard Solidity `for` loop, particularly when dealing with memory/storage access.",
        "codeExample": "/* Yul Loop Structure (Conceptual) */\n// for { let i := 0 } lt(i, length) { i := add(i, 1) } {\n//   // Optimized loop body logic\n// }"
      },
      {
        "title": "Reading `calldata` via Assembly",
        "content": "Accessing function arguments directly from the transaction data payload. Covers using assembly to read the raw `calldata` directly, often used to validate the entire transaction payload before Solidity logic begins, saving gas.",
        "codeExample": "/* Reading Calldata Length */\nfunction getCalldataSize() public view returns (uint256 size) {\n  assembly {\n    size := calldatasize()\n  }\n}"
      }
    ]
  },
  {
    "id": 7,
    "title": "EVM Opcodes and Gas Cost Analysis ‚õΩ",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Three Cost Tiers of Opcodes",
        "content": "Categorizing opcodes by execution expense. Covers **Tier 1** (e.g., `ADD`, `PUSH`, `SUB`, `JUMP`) which are very cheap (3-5 gas). **Tier 2** (e.g., `SLOAD`, `BALANCE`) which are moderately expensive. **Tier 3** (e.g., `SSTORE`, `LOG`, `CALL`) which are the most expensive due to accessing persistent storage or external contracts.",
        "codeExample": "/* Opcode Cost Tier Rationale */\n// Tier 1: Pure computation (CPU only) - fast\n// Tier 3: Storage/Networking access (slowest/most resource-intensive)"
      },
      {
        "title": "SSTORE Cost Dynamics (Warm vs. Cold Access)",
        "content": "Analyzing the cost of writing to storage. Covers the high cost of **Cold SSTORE** (writing to a slot for the first time). Details the reduced cost for **Warm SSTORE** (writing to a slot that has already been accessed in the current transaction) and the gas refund for clearing a slot to zero.",
        "codeExample": "/* Gas Optimization based on SSTORE */\n// Initial SSTORE to zero: ~20,000 gas (Expensive)\n// SSTORE to an already written value: ~5,000 gas (Cheaper)\n// Clearing storage (0 -> non-zero): Refund"
      },
      {
        "title": "SLOAD and Storage Access Optimization",
        "content": "Analyzing the cost of reading storage. Covers the **Cold SLOAD** cost (reading a slot for the first time in the transaction) vs. **Warm SLOAD** (reading a slot that's already in the access list). Optimization involves reading state variables into memory once at the beginning of a function to save subsequent SLOAD costs.",
        "codeExample": "/* SLOAD Optimization in Solidity */\nfunction process() public {\n  // 1. Read once to memory/stack (Cold SLOAD)\n  uint256 currentBalance = balances[msg.sender];\n  // 2. Use the local variable for subsequent reads (Warm SLOAD/Stack access - cheaper)\n  uint256 newBalance = currentBalance - 100;\n  balances[msg.sender] = newBalance;\n}"
      },
      {
        "title": "External Call Gas Cost (e.g., `TRANSFER`, `CALL`)",
        "content": "Analyzing the cost of inter-contract communication. Covers the high base cost of the **`CALL`** opcode due to external execution context setup. Explains why Solidity's built-in `transfer` (now deprecated for safety reasons) and `send` (low-level, returns success/fail) limit the gas forwarded to the external call.",
        "codeExample": "/* External Call Gas Cost */\n// Call opcode: Base cost + cost of executing the external function's code\n// Mitigation: Using the 'Checks-Effects-Interactions' pattern to minimize state exposure during the call."
      },
      {
        "title": "The `LOG` Opcodes and Event Costs",
        "content": "Analyzing the cost of events. Covers the **`LOG0`** to **`LOG4`** opcodes used to emit event data. The cost is linearly dependent on the size of the logged data and the number of indexed topics (each indexed topic requires a fixed cost). Events are still vastly cheaper than storage writes.",
        "codeExample": "/* Event Cost Factor */\n// Cost = Base Cost + (Cost per Byte of Data) + (Cost per Indexed Topic)"
      },
      {
        "title": "Gas Cost of Reverts (EIP-140)",
        "content": "Understanding gas refunds on failure. Covers **`REVERT`** (used by `require`/`revert`), which refunds all gas used by the execution *after* the point of failure. This is why `require` is gas-efficient for checking pre-conditions, as the user only pays for the work done up until the failure.",
        "codeExample": "/* Gas Refund on Revert */\n// Transaction starts with 100,000 gas limit.\n// Runs for 5,000 gas, hits a `require` failure.\n// Gas consumed = 5,000.\n// Gas Refunded = (100,000 - 5,000) = 95,000 (Refunded to sender)."
      },
      {
        "title": "Gas Stubs and Gas Optimizers",
        "content": "Using tools to manage cost. Covers **Gas Stubs** (testing gas consumption with Hardhat/Foundry). Details the built-in **Solidity Optimizer** (activated with `optimizer` settings) which simplifies code before generating bytecode, potentially reducing execution cost, but requires careful verification.",
        "codeExample": "/* Hardhat Configuration for Optimization */\nmodule.exports = {\n  solidity: {\n    version: \"0.8.20\",\n    settings: {\n      optimizer: {\n        enabled: true,\n        runs: 200 // Number of times the code is expected to run\n      }\n    }\n  }\n};"
      },
      {
        "title": "Calldata Loading Costs",
        "content": "Analyzing the cost of reading input data. Covers the fixed cost of reading the initial `calldata` and the cost of reading data from `calldata` during function execution. This cost is extremely low compared to storage, reinforcing `calldata`'s use for external arguments.",
        "codeExample": "/* Calldata Cost Rationale */\n// Initial cost for calldata loading (cheap)\n// Subsequent cost for reading calldata (very cheap) <- Goal is to keep data here."
      }
    ]
  },
  {
    "id": 8,
    "title": "EVM Precompiles and Native Contracts üîó",
    "icon": "Code",
    "subsections": [
      {
        "title": "Precompiled Contracts: Efficiency",
        "content": "Understanding **Precompiled Contracts**‚Äîspecial addresses (0x01 to 0x09) that execute complex cryptographic or utility operations (e.g., elliptic curve arithmetic, hashing) directly in the native host client (Go-Ethereum, Parity) instead of the EVM. This makes them significantly faster and cheaper than equivalent Solidity code.",
        "codeExample": "/* Precompile Contract Addresses (Examples) */\n// 0x01: ecrecover (Elliptic Curve Digital Signature Algorithm recovery)\n// 0x02: sha256 (Standard SHA256 hashing)\n// 0x03: ripemd160 (Another hashing algorithm)\n// 0x04: identity (Simple data copy)"
      },
      {
        "title": "Using `ecrecover` for Signature Validation",
        "content": "Mastering the most common precompile. Covers using the **`ecrecover`** precompile (address 0x01) to validate an external signature created by an EOA. This allows contracts to verify that a message (e.g., an off-chain transaction, or EIP-712 Permit) was truly signed by a claimed address.",
        "codeExample": "/* ecrecover Usage in Solidity */\nfunction verify(bytes32 hash, bytes memory signature) public view returns (address) {\n  // Must unpack the signature into v, r, and s components\n  (uint8 v, bytes32 r, bytes32 s) = splitSignature(signature);\n  // Returns the address that signed the hash\n  return ecrecover(hash, v, r, s);\n}"
      },
      {
        "title": "Precompile Gas Cost",
        "content": "Analyzing the pricing model for precompiles. Covers how precompiles are priced based on the complexity of the cryptographic operation (e.g., `ecrecover` is expensive, `identity` is cheap). While not native EVM opcodes, they still consume gas to prevent denial-of-service (DoS) attacks.",
        "codeExample": "/* Precompile Cost Rationale */\n// The gas cost for precompiles is defined in the Ethereum protocol specification (Yellow Paper) \n// and is charged based on the complexity of the underlying algorithm."
      },
      {
        "title": "Native Contract: Address 0x000...000",
        "content": "Covers the use of the zero address (`0x0...0`) in internal transactions, often used as the sender of the contract creation transaction or as a placeholder for internal bookkeeping.",
        "codeExample": "/* Zero Address Usage */\n// The contract creation transaction has a destination address of 0x0.\n// In Solidity: address(0) is often used to check for uninitialized variables."
      },
      {
        "title": "Integration with Native Hashing (`sha256`, `ripemd160`)",
        "content": "Using precompiles for hashing. Covers accessing the `sha256` (address 0x02) and `ripemd160` (address 0x03) precompiles via low-level calls to perform native hashing operations, which are much faster than implementing the equivalent algorithm in pure Solidity.",
        "codeExample": "/* Native SHA256 Call (Conceptual) */\n// targetAddress = 0x0000000000000000000000000000000000000002 (sha256 precompile)\n// (bool success, bytes memory result) = targetAddress.call(dataToHash);"
      }
    ]
  },
  {
    "id": 9,
    "title": "Finality and Block Structure Analysis ‚è≥",
    "icon": "Code",
    "subsections": [
      {
        "title": "Transaction Finality and Immutability",
        "content": "Defining **Finality**‚Äîthe guarantee that a block cannot be reversed or altered. Covers that on Ethereum PoS, transactions are considered finalized when included in an epoch that has been successfully attested by a two-thirds majority of the validator set, guaranteeing immutability.",
        "codeExample": "/* Finality (Conceptual) */\n// L1 Block Statuses:\n// 1. Unsafe (Recently proposed)\n// 2. Safe (Attested by majority)\n// 3. Finalized (Guaranteed immutable by protocol rules)"
      },
      {
        "title": "Block Header Components",
        "content": "Analyzing the data contained in every block. Covers key fields: **`parentHash`** (linking the chain), **`stateRoot`** (Merkle root of the state), **`timestamp`**, **`miner/validator address`**, and the **`baseFeePerGas`** (EIP-1559).",
        "codeExample": "/* Block Header Access in Solidity */\n// block.number: Current block number\n// block.timestamp: Current block timestamp (used for time-dependent logic)\n// block.basefee: Current EIP-1559 base fee"
      },
      {
        "title": "Transaction Receipts and Logs",
        "content": "The output of a transaction execution. Covers the **Transaction Receipt** (which includes the final status, gas used, and the crucial **Logs Bloom Filter**). Logs are the indexed events emitted by smart contracts, essential for off-chain applications.",
        "codeExample": "/* Transaction Receipt Fields (Conceptual) */\n// status: 1 (Success) or 0 (Failure/Revert)\n// gasUsed: Final gas cost of execution\n// logs: Array of emitted event logs"
      },
      {
        "title": "Block Timestamps and Randomness",
        "content": "Understanding the unreliability of time. Covers the risk of relying on **`block.timestamp`** (can be manipulated by a miner/validator within a small window). **CRITICAL SECURITY NOTE:** Never use `block.timestamp` or `blockhash` for generating secure randomness; use Chainlink VRF instead.",
        "codeExample": "/* Timestamp Vulnerability */\n// DANGEROUS:\n// uint256 seed = uint256(keccak256(abi.encodePacked(block.timestamp, block.difficulty)));"
      },
      {
        "title": "Epochs and Attestations (PoS)",
        "content": "PoS specific finality. Covers **Epochs** (fixed periods of time) in the PoS mechanism. Explains **Attestations** (votes by validators on the validity of a block) and how accumulating a supermajority (2/3 of staked ETH) of attestations leads to block **Finalization**.",
        "codeExample": "/* PoS Finality Check (Conceptual) */\n// Is block in epoch E+1 finalized?\n// Yes, if epoch E has >= 2/3 cumulative validator stake votes."
      }
    ]
  },
  {
    "id": 10,
    "title": "Consensus Mechanisms (PoS & PoW History) ‚ú®",
    "icon": "Code",
    "subsections": [
      {
        "title": "Proof-of-Work (PoW) Principles",
        "content": "The original mechanism. Covers **Proof-of-Work** (used by Bitcoin, historically by Ethereum) where nodes compete to find a nonce that results in a block hash below a target **difficulty**. Details the role of **Miners** and the concept of **Hash Rate**.",
        "codeExample": "/* PoW Hashing Goal (Conceptual) */\n// Find nonce such that:\n// hash(blockHeader + nonce) < TargetDifficulty"
      },
      {
        "title": "Proof-of-Stake (PoS) Principles",
        "content": "The modern Ethereum mechanism. Covers **Proof-of-Stake**, where **Validators** are selected to propose and attest blocks based on the amount of cryptocurrency they have staked. Details the low energy consumption and the concept of **Slashing** (penalties for malicious behavior).",
        "codeExample": "/* PoS Validator Selection (Conceptual) */\n// Validator Selection: Proportional to staked ETH amount."
      },
      {
        "title": "The Merge (Ethereum's PoW to PoS Transition)",
        "content": "The critical transition event. Covers **The Merge** (September 2022) where the Ethereum Mainnet execution layer switched from being secured by PoW miners to PoS validators, transitioning consensus without interrupting service.",
        "codeExample": "/* Merge Event (Conceptual) */\n// Execution Layer (Code/State) + Consensus Layer (PoS Network) = New Ethereum"
      },
      {
        "title": "Hybrid Consensus Models (Conceptual)",
        "content": "Covers older and experimental models. Details the history of **Hybrid Consensus** (e.g., early Ethereum's PoW for security + PoS for finality). Notes the variety of consensus mechanisms used by other chains (e.g., Delegated PoS, Byzantine Fault Tolerance).",
        "codeExample": "/* Hybrid Consensus Rationale (Conceptual) */\n// Use PoW's robust security for the main chain while gaining speed/efficiency benefits from a secondary mechanism."
      },
      {
        "title": "Network Forks and Longest Chain Rule",
        "content": "Handling disagreement. Covers **Forks** (temporary splits in the blockchain when two valid blocks are mined almost simultaneously). Details the **Longest Chain Rule** (the network follows the chain with the most accumulated difficulty/attestations) to resolve forks.",
        "codeExample": "/* Fork Resolution (Conceptual) */\n// Block A and Block B are proposed at the same height.\n// Network temporarily splits until one chain becomes longer/more attested."
      }
    ]
  },
  {
    "id": 11,
    "title": "EIP-1559 and Transaction Fee Economics üí∏",
    "icon": "Code",
    "subsections": [
      {
        "title": "EIP-1559 and Dynamic Fee Pricing",
        "content": "Mastering the current Ethereum fee market. Covers **EIP-1559** (London hard fork), which replaced the simple auction mechanism with a dynamic fee system to make costs more predictable. The fee is split into two components: Base Fee (burned) and Priority Fee (tip).",
        "codeExample": "/* EIP-1559 Fee Structure */\n// Total Cost = (Gas Used * Base Fee) + (Gas Used * Priority Fee)\n// Base Fee is burned, Priority Fee goes to validator."
      },
      {
        "title": "Base Fee and Block Utilization",
        "content": "Covers the **Base Fee**, which is calculated algorithmically based on block occupancy (if the last block was > 50% full, the base fee increases; if < 50%, it decreases). This stabilizes average block capacity at 50% and makes gas costs predictable.",
        "codeExample": "/* Base Fee Adjustment (Conceptual) */\n// Block Utilization > 50% -> Base Fee increases.\n// Block Utilization < 50% -> Base Fee decreases."
      },
      {
        "title": "Priority Fee (Max Tip)",
        "content": "Covers the **Priority Fee (Max Tip)**, which is an optional tip paid directly to the validator to incentivize them to include the transaction in the next block, especially during periods of high congestion.",
        "codeExample": "/* Priority Fee Incentive */\n// Sender sets MaxFeePerGas and MaxPriorityFeePerGas.\n// Priority Fee = min(MaxTip, (MaxFee - BaseFee))."
      },
      {
        "title": "Burning the Base Fee (Deflationary Impact)",
        "content": "Covers the **burning** of the Base Fee, which permanently removes ETH from circulation. This introduces a **deflationary mechanism** tied to network activity, directly affecting Ethereum's monetary policy.",
        "codeExample": "/* ETH Burn Mechanism (Conceptual) */\n// High Network Activity -> High Base Fee -> More ETH burned."
      },
      {
        "title": "Gas Limit, Transaction Cost, and Estimation",
        "content": "Covers **Gas Limit** (the sender's cap) and the use of **`eth_estimateGas`** RPC calls (Hardhat/Ethers.js) to predict the minimum gas required for successful execution before submitting the transaction.",
        "codeExample": "/* Gas Estimation (Ethers.js) */\ntry {\n  const gasEstimate = await contract.mint.estimateGas(recipient, amount);\n  // Use estimate + 20% margin for safety\n  const safeGasLimit = gasEstimate * 120n / 100n;\n} catch (error) {\n  console.error(\"Estimation failed.\");\n}"
      }
    ]
  },
  {
    "id": 12,
    "title": "Bytecode, Runtime, and Deployment Costs üì¶",
    "icon": "Code",
    "subsections": [
      {
        "title": "Contract Bytecode and Runtime Code",
        "content": "Distinguishes between **Deployment Bytecode** (includes the constructor logic and the final runtime code) and **Runtime Bytecode** (the actual code stored on the EVM that executes function calls).",
        "codeExample": "/* Bytecode Types */\n// Deployment Bytecode: 0x6080604052... (Includes constructor logic)\n// Runtime Bytecode: 0x6080604052... (The deployed code)\n// Deployment gas includes running the constructor."
      },
      {
        "title": "Deployment Cost and Code Size Limit (EIP-170)",
        "content": "Covers the high gas cost of contract deployment (includes transaction fees + cost of executing constructor + cost of storing runtime code). Details **EIP-170**, which enforces a limit on the maximum size of the runtime bytecode (~24.5 KB), requiring large contracts to use the **Proxy Pattern** or **Libraries**.",
        "codeExample": "/* EIP-170 Limit */\n// Max Runtime Code Size: 24,576 bytes\n// Mitigation for large contracts: Use libraries or delegatecall via proxies."
      },
      {
        "title": "Libraries and Reusable Bytecode",
        "content": "Using **Libraries** (contracts marked with `library`) for code reuse. Explains that libraries are deployed separately, and their bytecode is **not** included in the calling contract's runtime code, saving significant gas and bypassing the 24.5 KB limit.",
        "codeExample": "/* Library Usage */\nlibrary SafeMath { /* ... */ }\n\ncontract MyContract {\n  using SafeMath for uint256; // Links SafeMath functions to uint256 type\n  // Library's bytecode is NOT included in MyContract's runtime code.\n}"
      },
      {
        "title": "The `CREATE` and `CREATE2` Opcodes",
        "content": "Methods for contract deployment. Covers the **`CREATE`** opcode (used by standard Solidity deployment), where the contract address is determined by the sender's address and nonce. Introduces **`CREATE2`** (EIP-1014), where the contract address is determined by the factory, salt, and bytecode, allowing for **predictable contract addresses** (useful for deterministic deployment).",
        "codeExample": "/* CREATE2 Address Prediction */\n// Address = hash(0xFF, sender, salt, keccak256(bytecode))\n// The address is known before the transaction is mined."
      },
      {
        "title": "Selfdestruct and Final Cleanup",
        "content": "Covers the **`selfdestruct`** opcode, which removes the contract's bytecode from the blockchain and sends its remaining ETH balance to a specified address. Used only for final cleanup and resource release.",
        "codeExample": "/* Selfdestruct Opcode */\n// Removes contract bytecode and sends remaining ETH to `recipient`\nfunction closeContract() public onlyOwner {\n  selfdestruct(payable(owner));\n}"
      },
      {
        "title": "Compiler Optimizations and Runs",
        "content": "Using the Solidity compiler's built-in optimizer. Covers enabling the **optimizer** and setting the **`runs`** parameter (the number of times the contract code is expected to run). Higher `runs` values produce smaller runtime bytecode (cheaper deployment/storage) but might increase the initial deployment transaction cost.",
        "codeExample": "/* Compiler Settings */\nsettings: {\n  optimizer: {\n    enabled: true,\n    runs: 10000 // Optimized for frequent execution (e.g., token transfers)\n  }\n}"
      }
    ]
  },
  {
    "id": 13,
    "title": "Cryptographic Primitives (Hashing & Signatures) üîë",
    "icon": "Code",
    "subsections": [
      {
        "title": "Keccak-256 Hashing (Solidity `keccak256`)",
        "content": "The EVM's native hashing function. Covers using **`keccak256(data)`** to generate a 32-byte hash. Essential for creating unique IDs, checking data integrity, and computing storage slot addresses.",
        "codeExample": "/* Keccak-256 Hashing */\n// Used to derive a unique ID for storage access\nbytes32 userId = keccak256(abi.encodePacked(msg.sender, salt));"
      },
      {
        "title": "ecrecover and Signature Validation",
        "content": "Validating EOA signatures on-chain. Covers the **`ecrecover`** precompile (address 0x01) to verify that a private key signed a specific message hash, returning the signing address. Essential for secure off-chain authentication (SIWE) and gasless transactions (Permit).",
        "codeExample": "/* ecrecover Usage */\nfunction verify(bytes32 hash, bytes memory signature) public view returns (address) {\n  // Returns the address that signed the hash\n  return ecrecover(hash, v, r, s);\n}"
      },
      {
        "title": "EIP-712: Structured Data Signing",
        "content": "Mastering the standard for signing off-chain data. Covers **EIP-712** to define a domain and schema for the data, ensuring the signed message is human-readable and resistant to phishing attacks. Used heavily for Permit and other complex signing scenarios.",
        "codeExample": "/* EIP-712 Goal (Conceptual) */\n// User signs a message that explicitly states:\n// 1. The Domain (dApp name/chain ID).\n// 2. The Type (e.g., Permit).\n// 3. The Data (e.g., amount, spender)."
      },
      {
        "title": "Storage Slot Calculation",
        "content": "Understanding how state variables are stored. Covers how non-mapping, fixed-size variables are packed sequentially starting at slot 0. Details the calculation for mapping slots: **`keccak256(abi.encodePacked(key, slot))`** where `slot` is the storage slot of the mapping variable itself.",
        "codeExample": "/* Mapping Slot Calculation */\n// Slot for balances[userAddress] is calculated as:\n// keccak256(abi.encodePacked(userAddress, uint256(slotOfBalancesVariable)))"
      },
      {
        "title": "Randomness (The Unsolvable Problem)",
        "content": "Covers the fact that the EVM is a deterministic machine, making truly secure, on-chain randomness impossible. **CRITICAL WARNING:** Never use `block.timestamp`, `block.number`, or `block.hash` for secure randomness, as they are easily manipulatable.",
        "codeExample": "/* Unsafe Randomness */\n// DANGEROUS: Miner can control the timestamp and blockhash to manipulate the result.\n// uint256 rand = uint256(keccak256(abi.encodePacked(block.timestamp, msg.sender)));"
      }
    ]
  },
  {
    "id": 14,
    "title": "The Account Model (EOA vs. Contract) üë§",
    "icon": "Code",
    "subsections": [
      {
        "title": "Externally Owned Accounts (EOA)",
        "content": "The basic user account. Covers **EOAs** (controlled by a single private key), which are the only account type capable of initiating transactions (paying gas). EOAs have no associated code.",
        "codeExample": "/* EOA Capability */\n// EOA can initiate transactions.\n// EOA can sign messages with its private key."
      },
      {
        "title": "Contract Accounts (CA)",
        "content": "The code-driven account. Covers **Contract Accounts** (controlled by their code), which cannot initiate transactions but can execute code when called by an EOA or another contract. CAs contain immutable bytecode and persistent storage.",
        "codeExample": "/* Contract Account Characteristic */\n// Contract Accounts are immutable (code cannot change unless a proxy pattern is used).\n// Contract Accounts cannot sign messages."
      },
      {
        "title": "The EOA/Contract Interaction Flow",
        "content": "The standard interaction model. Covers the flow: **EOA initiates transaction** -> **Transaction targets a CA** -> **CA executes code** -> **CA sends internal message/call to another CA** -> **Execution chain ends** -> **State is finalized**.",
        "codeExample": "/* Interaction Flow */\n// EOA -> CA_A.function() -> CA_A.call(CA_B.function())"
      },
      {
        "title": "EOA Creation and Private Keys",
        "content": "Covers the cryptographic steps: generating a random **256-bit Private Key** -> deriving the 512-bit **Public Key** (Elliptic Curve Cryptography) -> taking the **Keccak-256 hash** of the public key -> taking the **last 20 bytes** as the EOA address.",
        "codeExample": "/* EOA Address Derivation (Conceptual) */\n// Private Key -> Public Key (EC) -> Keccak256(Public Key) -> Last 20 Bytes (Address)"
      },
      {
        "title": "Account Nonce and Replay Protection",
        "content": "Covers the **Nonce** (a counter for each EOA, starting at 0), which is included in every transaction to prevent **Replay Attacks** (sending the same transaction multiple times) and ensures transactions are processed in the correct order.",
        "codeExample": "/* Nonce Role */\n// Transaction 1 (Nonce 0)\n// Transaction 2 (Nonce 1)\n// ... If a transaction is submitted with an outdated nonce, the EVM rejects it."
      }
    ]
  },
  {
    "id": 15,
    "title": "The Merkle-Patricia Trie and State Storage üå≥",
    "icon": "List",
    "subsections": [
      {
        "title": "Merkle Trees and Proofs",
        "content": "Understanding the fundamental data structure. Covers the **Merkle Tree** (or Hash Tree), a tree where every non-leaf node is the cryptographic hash of its child nodes. **Merkle Proofs** (a subset of nodes) allow proving that a piece of data is included in the tree without needing the entire data set.",
        "codeExample": "/* Merkle Proof Rationale (Conceptual) */\n// Proof: Data + Sibling Hashes (Path to the Root) = State Root\n// Allows verification of a single transaction's inclusion in a block."
      },
      {
        "title": "The Merkle-Patricia Trie (MPT)",
        "content": "The data structure used by Ethereum. Covers the **Merkle-Patricia Trie (MPT)**, an optimized trie structure that stores the entire Ethereum state (accounts, balances, storage) and is highly efficient for lookups, insertions, and deletions.",
        "codeExample": "/* MPT Structure (Conceptual) */\n// Node Types: Leaf, Extension, Branch (used for path compression)"
      },
      {
        "title": "The Three Ethereum Tries",
        "content": "Covers the three MPTs whose roots are included in every block header: **State Trie** (stores account details), **Transaction Trie** (stores all transactions in the block), and **Receipt Trie** (stores all transaction receipts and logs).",
        "codeExample": "/* Trie Roots in Block Header */\n// State Root (Crucial for state verification)\n// Transaction Root\n// Receipt Root"
      },
      {
        "title": "Account Storage in the State Trie",
        "content": "Covers what is stored in the State Trie for each address: **Nonce**, **Balance**, **StorageRoot** (the root of the account's separate Storage Trie), and **CodeHash** (the hash of the contract's bytecode).",
        "codeExample": "/* Account State Fields (Conceptual) */\n// Balances: User's ETH balance\n// Nonce: Transaction counter (EOA) or contract creation counter (CA)"
      },
      {
        "title": "Storage Trie and State Variable Mapping",
        "content": "Covers the **Storage Trie**, which is unique to each contract account and stores all the contract's state variables (Solidity variables). Explains how Solidity maps variables to the MPT's 256-bit storage slots (slot 0, slot 1, etc.).",
        "codeExample": "/* Storage Slot Mapping */\n// Solidity: uint256 myVar; // Stored at Slot 0\n// Solidity: mapping(address => uint256) balances; // Stored at Slot 1 (Mapping root)"
      },
      {
        "title": "Proof of State (Witness)",
        "content": "Covers how the MPT enables a node to generate a **Proof of State** (Witness) for a specific account or storage value. This proof is used by Light Clients and Layer 2s to verify a small piece of state without needing the entire blockchain data.",
        "codeExample": "/* Proof Generation (Conceptual) */\n// Proof: Path from the target storage key to the State Root."
      }
    ]
  }
]
  },
  web3_2: {
    id: 'web3-2',
    title: 'Web3 Development : Part 2',
    icon: BlocksIcon,
    color: '#8E44AD',
    description: 'Tooling, Frontends, and Token Standards',
    units: [
  {
    "id": 16,
    "title": "Development Environments (Hardhat/Foundry) üõ†Ô∏è",
    "icon": "List",
    "subsections": [
      {
        "title": "Foundry (Rust-based) vs. Hardhat (JS/TS-based)",
        "content": "Detailed comparison of the two dominant environments. **Foundry** is fast, supports native Solidity testing via **`forge test`**, and uses the **`anvil`** EVM node. **Hardhat** uses JavaScript/TypeScript for testing (Mocha/Chai) and offers a vast plugin ecosystem, making it excellent for full-stack integration.",
        "codeExample": "/* CLI Usage Comparison */\n// Hardhat Test: npx hardhat test\n// Foundry Test: forge test"
      },
      {
        "title": "Local Forking and EVM Control",
        "content": "Mastering local EVM manipulation. Covers **Local Forking** (cloning a live network state) for realistic integration testing. Details using the local node's RPC methods (`hardhat_impersonateAccount`, `evm_mine`) to control time, gas, and act on behalf of any address.",
        "codeExample": "/* Impersonating an account (Hardhat) */\nawait hre.network.provider.request({\n  method: \"hardhat_impersonateAccount\",\n  params: [whaleAddress],\n});\n// Now you can send transactions as the whale."
      },
      {
        "title": "Foundry's `cast` and `anvil` Utilities",
        "content": "Utilizing Foundry's command-line tools. **`anvil`** provides an ultra-fast, standalone EVM. **`cast`** enables direct CLI interaction for sending transactions, calling view functions, and handling unit conversions (ETH to Wei, hex to decimal) without scripting.",
        "codeExample": "/* Foundry CLI Usage */\n// Call a view function from the CLI\ncast call 0xContractAddress \"symbol()(string)\"\n\n// Convert units\ncast to-wei 5.0 ether"
      },
      {
        "title": "Configuration and Network Management",
        "content": "Setting up multiple deployment targets. Covers configuring network entries in `truffle-config.js` or `hardhat.config.js` for local nodes, testnets (Sepolia), and mainnet. Emphasizes securing RPC keys and private keys using environment variables (`dotenv`).",
        "codeExample": "/* Hardhat.config.js Network Snippet */\nnetworks: {\n  sepolia: {\n    url: process.env.SEPOLIA_RPC_URL,\n    accounts: [process.env.PRIVATE_KEY]\n  },\n  localhost: { url: 'http://127.0.0.1:8545' }\n}"
      },
      {
        "title": "Artifacts, ABIs, and Deployment Management",
        "content": "Handling compiled contract output. Covers the purpose of the **Artifacts** folder, storing **Bytecode**, **ABI**, and **Deployment Addresses**. Explains the importance of artifact management for secure frontend integration and multi-chain development.",
        "codeExample": "/* Artifact Access (JavaScript) */\n// Load ABI and Bytecode from the compiled artifact JSON\nimport TokenArtifact from '../artifacts/contracts/Token.sol/Token.json';\n\nconst abi = TokenArtifact.abi;\nconst bytecode = TokenArtifact.bytecode;"
      }
    ]
  },
  {
    "id": 17,
    "title": "Smart Contract Testing (JS/Solidity) üß™",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Solidity Testing (Foundry) and `ds-test`",
        "content": "Writing highly granular unit tests directly in Solidity. Covers using the **`ds-test`** library and **`Test`** contract inheritance. This methodology allows for precise gas reporting and eliminates the performance overhead of the JavaScript-Solidity bridge.",
        "codeExample": "/* Foundry Test Structure (Solidity) */\nimport \"forge-std/Test.sol\";\n\ncontract TokenTest is Test {\n  Token public token;\n\n  function setUp() public {\n    token = new Token(1000);\n  }\n\n  function test_TransferSuccess() public {\n    // Assert before and after state\n    assertEq(token.balanceOf(address(this)), 1000);\n    token.transfer(address(1), 500);\n    assertEq(token.balanceOf(address(1)), 500);\n  }\n}"
      },
      {
        "title": "JS/TS Testing (Mocha/Hardhat) and Assertion Libraries",
        "content": "Writing integration tests using JavaScript/TypeScript. Covers using **Mocha** and **Chai** for syntax and integrating with Hardhat's Ethers utilities for contract deployment and interaction. Essential for testing dApp-side logic and complex setup scenarios.",
        "codeExample": "/* Hardhat JS Test (Revert Assertion) */\ndescribe(\"MyToken\", function () {\n  it(\"Should fail if transfer exceeds balance\", async function () {\n    const [owner, addr1] = await ethers.getSigners();\n    // Assert the transaction reverts with a specific error message\n    await expect(token.transfer(addr1.address, 10000))\n      .to.be.revertedWith(\"ERC20: transfer amount exceeds balance\");\n  });\n});"
      },
      {
        "title": "Fuzz Testing and Random Input Generation",
        "content": "Advanced security testing. Covers **Fuzz Testing** (Foundry) to automatically generate vast amounts of random input values for function parameters, efficiently discovering numerical and logical edge cases that manual tests miss.",
        "codeExample": "/* Foundry Fuzz Test Example */\nfunction testFuzz_SumShouldBeSafe(uint256 x, uint256 y) public {\n  // Tests the safety property of addition on random inputs\n  vm.assume(x + y >= x); // Assert that overflow protection is working\n}"
      },
      {
        "title": "Time Manipulation and Snapshot/Revert",
        "content": "Testing time-sensitive features. Covers using local EVM methods (`evm_increaseTime`, `evm_setNextBlockTimestamp`) to control the block timestamp. Details using **Snapshots** (`evm_snapshot`/`evm_revert`) to reset the EVM state quickly between tests, drastically reducing test execution time.",
        "codeExample": "/* Time Manipulation (Hardhat/Anvil) */\n// Increase time by one year (for vesting logic)\nconst oneYear = 365 * 24 * 60 * 60;\nawait network.provider.send(\"evm_increaseTime\", [oneYear]);\nawait network.provider.send(\"evm_mine\"); // Mine a new block to apply time change"
      },
      {
        "title": "Gas Reporting and Test Coverage",
        "content": "Analyzing resource consumption. Covers using plugins to generate **Gas Reports** (showing the gas cost per function) to pinpoint optimization targets. Details generating **Test Coverage Reports** to ensure all critical lines of contract code are executed by tests.",
        "codeExample": "/* Hardhat Gas Report Command */\n// Run tests and output the cost breakdown:\n// npx hardhat test --gas"
      }
    ]
  },
  {
    "id": 18,
    "title": "Deployment and Verification (Etherscan) üöÄ",
    "icon": "List",
    "subsections": [
      {
        "title": "Deployment Scripts and Address Management",
        "content": "Automating deployment. Covers writing scripts that handle complex deployments (contract linking, proxy initialization). Uses a **Deployment Watcher** to track and store contract addresses and ABIs on various chains in a clean JSON format for consumption by the frontend.",
        "codeExample": "/* Hardhat Deployment Script */\nconst MyToken = await ethers.getContractFactory(\"MyToken\");\nconst token = await MyToken.deploy(initialSupply, name);\nawait token.waitForDeployment();\n// Log/Save: console.log(\"Deployed to:\", token.target);"
      },
      {
        "title": "Verification on Etherscan/Block Explorers",
        "content": "Making code public and auditable. Covers using the **Etherscan Verification API** (via framework plugins) to upload the source code and compiler settings. Verification is **mandatory** for public trust and easy user interaction.",
        "codeExample": "/* Hardhat Etherscan Verification Command */\nnpx hardhat verify \\\n  --network sepolia \\\n  '0x...ContractAddress...' \\\n  \"Constructor Argument 1\" // Pass exact constructor args"
      },
      {
        "title": "Private Key and Mnemonic Security",
        "content": "Securing deployment credentials. Covers storing **Private Keys** and **API Keys** exclusively in encrypted secrets or environment variables (`.env`). Stresses **never** committing production keys to GitHub. Best practice is to deploy using a **MultiSig Wallet** address as the contract owner.",
        "codeExample": "/* Hardhat.config.js Secure Key Access */\naccounts: [process.env.PRIVATE_KEY] // Loaded from ENV file\n// NEVER: accounts: ['0x123...hardcoded key...']"
      },
      {
        "title": "CI/CD Pipeline for Deployment",
        "content": "Automating the testing and release process. Covers configuring CI pipelines (GitHub Actions) to execute **tests, compile artifacts, and deploy to a target testnet (Sepolia/Goerli)** only after successful testing, enforcing a quality gate.",
        "codeExample": "/* CI/CD Deployment Step */\n- name: Deploy to Sepolia\n  if: github.ref == 'refs/heads/main'\n  run: npx hardhat run scripts/deploy.js --network sepolia\n  env:\n    PRIVATE_KEY: ${{ secrets.SEPOLIA_PRIVATE_KEY }}"
      },
      {
        "title": "Deterministic Deployment (`CREATE2`)",
        "content": "Predicting the contract address before deployment. Covers using the **`CREATE2`** opcode to ensure the contract's final address is determined by the deployment bytecode, the factory address, and a **salt** value. This allows dApps to interact with the contract address before it is even mined.",
        "codeExample": "/* CREATE2 Principle */\n// Address is predictable based on:\n// hash(0xFF + sender + salt + keccak256(bytecode))"
      }
    ]
  },
  {
    "id": 19,
    "title": "Contract Interaction: Ethers.js and Viem üîó",
    "icon": "Code",
    "subsections": [
      {
        "title": "Ethers.js vs. Viem (Lightweight Alternative)",
        "content": "Comparing the two dominant JavaScript libraries. **Ethers.js** (established, robust, great tooling). **Viem** (newer, TypeScript-first, extremely lightweight, focuses on modularity). Covers choosing the best library based on project size and dependency complexity.",
        "codeExample": "/* Viem Client Instantiation */\nimport { createPublicClient, http } from 'viem';\nimport { mainnet } from 'viem/chains';\n\nconst client = createPublicClient({\n  chain: mainnet,\n  transport: http()\n});"
      },
      {
        "title": "Provider, Signer, and Contract Instantiation",
        "content": "The core objects: **Provider/Client** (read-only chain data), **Signer/WalletClient** (write access for transactions). Covers instantiating the **Contract Object** using the ABI and address.",
        "codeExample": "/* Ethers.js Instantiation */\nconst contract = new ethers.Contract(address, abi, signer); // Signer for writes\n\n/* Viem Read Operation */\nconst data = await client.readContract({\n  address, abi, functionName: 'balanceOf',\n  args: [userAddress]\n});"
      },
      {
        "title": "Handling BigInt and Unit Conversion",
        "content": "Managing large integer precision ($10^{18}$ Wei). Covers the necessity of using **BigInt** in modern JavaScript and utility functions (`ethers.utils.parseUnits`, `formatUnits`) to convert between human-readable numbers and contract-safe Wei values.",
        "codeExample": "/* Unit Conversion */\nconst amountEth = '5.0';\n// Convert human-readable '5.0' to BigInt Wei (18 decimals)\nconst amountWei = ethers.parseUnits(amountEth, 18);\n// Convert back to human-readable\nconst readable = ethers.formatUnits(amountWei, 18);"
      },
      {
        "title": "Estimating Gas and Simulating Transactions",
        "content": "Predicting transaction cost and execution outcome. Covers using the `estimateGas` method and setting transaction overrides (`gasLimit`, `maxFeePerGas`). Emphasizes simulating transactions locally before submitting them to prevent the user from paying for a failed transaction.",
        "codeExample": "/* Estimating Gas in Ethers.js */\nconst gasEstimate = await contract.mint.estimateGas(recipient, amount);\n// Use the estimate plus a safety margin for the final gas limit."
      },
      {
        "title": "Handling Transaction Receipts and Reverts",
        "content": "Processing the final outcome. Covers waiting for the **Transaction Receipt** (`await tx.wait()`) to confirm block inclusion and checking the `receipt.status` (1 for success, 0 for failure). Details decoding **Solidity Revert Messages** for user-friendly error display.",
        "codeExample": "/* Handling Reverts */\ntry {\n  const tx = await contract.withdraw();\n  const receipt = await tx.wait();\n  if (receipt.status !== 1) { throw new Error('On-chain execution failed'); }\n} catch (error) {\n  // Log and display decoded revert reason (e.g., 'Insufficient balance.')\n  console.error('TX failed:', error.reason);\n}"
      }
    ]
  },
  {
    "id": 20,
    "title": "Frontend Wallet Integration (Wagmi/ConnectKit) üì±",
    "icon": "Code",
    "subsections": [
      {
        "title": "Wallet Connection (Wagmi/Viem) and State Hooks",
        "content": "Managing wallet connections declaratively (React focus). Covers using **Wagmi** and its hooks (`useAccount`, `useConnect`) to manage the connection status, connected address, and chain ID. Abstraction libraries like **ConnectKit** simplify the UI/UX of the connection modal.",
        "codeExample": "/* Wagmi Hook Usage */\nimport { useAccount, useConnect } from 'wagmi';\nimport { injected } from 'wagmi/connectors';\n\nfunction ConnectButton() {\n  const { isConnected } = useAccount();\n  const { connect } = useConnect();\n  \n  if (isConnected) return <p>Connected</p>;\n  return <button onClick={() => connect({ connector: injected() })}>Connect Wallet</button>;\n}"
      },
      {
        "title": "Handling Network Switching and Disconnects",
        "content": "Ensuring the correct chain is active. Covers using the `useSwitchChain` hook to prompt the user to switch networks (`wallet_switchEthereumChain`). Subscribes to the `onDisconnect` event to clear user session state when the wallet is disconnected.",
        "codeExample": "/* Wagmi Hook for Chain Switching */\nfunction NetworkCheck() {\n  const { chain } = useAccount();\n  const { switchChain } = useSwitchChain();\n  if (chain && chain.id !== 1) {\n    return <button onClick={() => switchChain({ chainId: 1 })}>Switch to Mainnet</button>;\n  }\n  return null;\n}"
      },
      {
        "title": "Reading Contract State and Watching Events",
        "content": "Declarative data fetching in React. Covers using Wagmi's built-in hooks (`useReadContract`, `useWatchContractEvent`) to read contract state and listen for events, automatically handling data fetching, caching, and component re-renders.",
        "codeExample": "/* Wagmi Read Hook */\nimport { useReadContract } from 'wagmi';\n\nfunction BalanceDisplay() {\n  const { data: balance } = useReadContract({\n    address: '0xContractAddress',\n    abi: TokenABI,\n    functionName: 'balanceOf',\n    args: [userAddress]\n  });\n  return <p>Balance: {balance?.toString()}</p>;\n}"
      },
      {
        "title": "Sending Transactions and Notifications",
        "content": "Executing state changes. Covers using `useWriteContract` and `useWaitForTransactionReceipt` hooks to handle the entire transaction lifecycle, from submission (writing) to confirmation (receipt). Integrates transaction notification systems (e.g., Blocknative, custom toast) for UX.",
        "codeExample": "/* Wagmi Write Hook */\nconst { writeContract } = useWriteContract();\n\nfunction sendTx() {\n  writeContract({\n    address: tokenAddress,\n    abi: TokenABI,\n    functionName: 'transfer',\n    args: [recipient, amount]\n  });\n}"
      },
      {
        "title": "Signing Messages (SIWE) and Authentication",
        "content": "Authenticating without passwords. Covers using the **Sign-In with Ethereum (SIWE)** standard and Wagmi's `useSignMessage` hook. The signed message and signature are sent to the backend for verification, creating a secure, token-based session.",
        "codeExample": "/* SIWE Workflow */\nconst { signMessageAsync } = useSignMessage();\n\nasync function handleLogin() {\n  const message = \"Login to DApp: 123\";\n  const signature = await signMessageAsync({ message });\n  // Send signature and address to backend for session creation\n  await backend.verify(address, message, signature);\n}"
      }
    ]
  },
  {
    "id": 21,
    "title": "GraphQL and Decentralized Indexing (The Graph) üîé",
    "icon": "List",
    "subsections": [
      {
        "title": "The Indexing Problem and Subgraphs",
        "content": "Solving the challenge of querying blockchain data. Covers why directly querying node RPCs is slow and impractical for historical/aggregated data. Introduces **The Graph Protocol** and **Subgraphs**‚Äîopen APIs that process and index blockchain events into a queryable GraphQL schema.",
        "codeExample": "/* Subgraph Role (Conceptual) */\n// The Graph Node consumes EVM logs (Events)\n// -> Maps events to entities based on user-defined schema\n// -> Stores structured data in PostgreSQL\n// -> Exposes a fast GraphQL API."
      },
      {
        "title": "Subgraph Schema and Entities",
        "content": "Designing the data model for indexing. Covers defining the **GraphQL Schema** for the subgraph, specifying **Entities** (types that represent objects like `User`, `Token`, `Transaction`) and their fields. Entities are typically indexed by the contract address and a unique ID (e.g., token ID).",
        "codeExample": "/* Subgraph Schema Snippet (GraphQL) */\ntype Token @entity {\n  id: ID! # Token ID\n  owner: User!\n  uri: String\n  price: BigInt!\n  createdAtTimestamp: BigInt!\n}\n\ntype User @entity {\n  id: ID! # User Address\n  tokens: [Token!] @derivedFrom(field: \"owner\")\n}"
      },
      {
        "title": "Mapping Handlers (Event Processing)",
        "content": "The core logic of the subgraph. Covers writing **Mapping Handlers** (TypeScript functions) that are executed whenever a specific **Contract Event** is detected. These handlers contain the logic to create, load, update, or delete entities in the subgraph's database.",
        "codeExample": "/* Mapping Handler (TypeScript) */\n// Triggered on ERC-721 Transfer event\nexport function handleTransfer(event: Transfer): void {\n  let token = Token.load(event.params.tokenId.toString());\n  let user = User.load(event.params.to.toHexString());\n  \n  if (token) {\n    // Update the owner field of the token entity\n    token.owner = user.id;\n    token.save();\n  }\n}"
      },
      {
        "title": "GraphQL Queries in Frontend",
        "content": "Consuming the indexed data in a dApp. Covers using standard **GraphQL client libraries** (Apollo, Urql) to query the subgraph's endpoint. Enables complex filtering, sorting, and pagination on historical blockchain data that would be impossible with RPC calls alone.",
        "codeExample": "/* Frontend GraphQL Query */\nconst GET_USER_NFTS = `\n  query getUserNfts($owner: ID!) {\n    user(id: $owner) {\n      tokens {\n        id\n        uri\n      }\n    }\n  }\n`;"
      },
      {
        "title": "Decentralized Indexing and Curators (Conceptual)",
        "content": "Understanding The Graph's economics. Covers the decentralized roles: **Indexers** (run the GraphQL nodes and stake GRT), **Curators** (signal which subgraphs are important), and **Delegators** (stake GRT to Indexers). This ensures the indexing layer is decentralized and economically sound.",
        "codeExample": "/* The Graph Roles (Conceptual) */\n// Indexer: Provides computing power for querying.\n// Curator: Provides signaling/quality control for data."
      }
    ]
  },
  {
    "id": 22,
    "title": "Web2 Data Integration (Oracles & Keepers) üì°",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Oracle Problem and Trust Minimization",
        "content": "Defining the core problem: smart contracts need external, real-world data (prices, events) but cannot access it natively. Covers **Oracles** as the solution and the central challenge of **Trust Minimization** (ensuring the data is provided reliably without a single point of failure).",
        "codeExample": "/* Oracle Problem Example */\n// Solidity Contract Logic:\n// if (ETH_USD_PRICE > 3000) { liquidate(); }\n\n// Problem: How does the contract securely and reliably obtain the ETH price?"
      },
      {
        "title": "Chainlink Data Feeds (Price Oracles)",
        "content": "Mastering the most common oracle solution. Covers **Chainlink Data Feeds** (price oracles), which aggregate data from multiple independent nodes and data sources (eliminating single points of failure) and store the median result in an on-chain contract. Essential for reliable DeFi protocols.",
        "codeExample": "/* Chainlink Price Feed Usage (Solidity) */\ninterface AggregatorV3Interface { ... }\n\ncontract PriceConsumer {\n  // Address of the ETH/USD price feed\n  AggregatorV3Interface internal priceFeed;\n  \n  function getLatestPrice() public view returns (int) {\n    // Returns the latest aggregated price\n    (uint80 roundId, int price, uint startedAt, uint timeStamp, uint80 answeredInRound) = priceFeed.latestRoundData();\n    return price;\n  }\n}"
      },
      {
        "title": "Chainlink VRF (Verifiable Randomness)",
        "content": "Generating secure randomness for on-chain use (lotteries, NFTs, gaming). Covers the **Chainlink VRF (Verifiable Random Function)**, which provides cryptographically secure, tamper-proof random numbers, preventing miners or external actors from manipulating the random seed.",
        "codeExample": "/* Chainlink VRF Request (Solidity) */\n// Requests randomness from the VRF coordinator contract\nfunction requestRandomWords() external onlyOwner returns (uint256 requestId) {\n  // ... sends request to coordinator\n}\n\n// Callback function that receives the random number\nfunction fulfillRandomWords(\n  uint256 requestId, uint256[] memory randomWords\n) internal override { myRandomNumber = randomWords[0]; }"
      },
      {
        "title": "Keepers (Automation) and Scheduled Tasks",
        "content": "Automating smart contract functions. Covers using **Chainlink Keepers** (or similar automation bots) to securely trigger contract functions based on pre-defined conditions (e.g., time intervals, minimum collateral levels). This eliminates the need for a centralized server to manage scheduled tasks or liquidations.",
        "codeExample": "/* Keeper Automation (Conceptual) */\n// Contract: Check if collateral ratio drops below 150%.\nfunction checkUpkeep(bytes calldata checkData) external view returns (bool upkeepNeeded, bytes memory performData) {\n  // If condition met (ratio < 150%), return true to indicate the Keeper should execute the next function.\n  upkeepNeeded = (getCurrentRatio() < 150);\n}"
      },
      {
        "title": "Custom Job Creation and External Adapters",
        "content": "Integrating custom, non-standard data. Covers creating **Chainlink External Adapters** (off-chain APIs) to fetch data from any traditional web API (e.g., flight data, sports scores) and securely transmit it on-chain via the Chainlink node network, enabling complex dApp functionality.",
        "codeExample": "/* Custom Job Flow (Conceptual) */\n// 1. Contract sends request to Chainlink Coordinator.\n// 2. Chainlink Node receives request.\n// 3. Node executes External Adapter (e.g., Python script) to call a sports API.\n// 4. Node sends the result back to the contract."
      }
    ]
  },
  {
    "id": 23,
    "title": "Fungible Tokens (ERC-20) and Extensions üí∞",
    "icon": "Code",
    "subsections": [
      {
        "title": "ERC-20 Core Functions and State",
        "content": "Mastering the standard for **Fungible Tokens**. Covers the mandatory functions: **`totalSupply`**, **`balanceOf`**, **`transfer`**, and **`transferFrom`**. Explains the core state variables: a `mapping` of user addresses to balances and a nested `mapping` for allowances.",
        "codeExample": "/* ERC-20 Core Functions in Solidity */\n// Transfer tokens from sender to recipient\nfunction transfer(address to, uint256 value) public virtual returns (bool);\n\n// Delegate spending: allow a 'spender' to withdraw up to 'value'\nfunction approve(address spender, uint256 value) public virtual returns (bool);"
      },
      {
        "title": "The Allowance Mechanism (Approve/TransferFrom)",
        "content": "Understanding token delegation. Explains how **`approve(spender, amount)`** grants permission to a third-party (e.g., a DEX or a staking contract) to spend tokens on the owner's behalf. **`transferFrom(from, to, amount)`** is the function called by the third-party to execute the delegated spend, crucial for all DeFi interactions.",
        "codeExample": "/* ERC-20 Allowance Interaction */\n// User calls:\n// token.approve(DEX_ADDRESS, 1000)\n\n// DEX calls (using its own address as the sender):\n// token.transferFrom(USER_ADDRESS, DEX_ADDRESS, 100)"
      },
      {
        "title": "EIP-2612: Permit (Gasless Approvals)",
        "content": "Implementing **ERC-20 Permit** for improved user experience. Covers the concept of an off-chain, signed message that grants an allowance, eliminating the need for the user to send an initial, gas-costly `approve()` transaction. The allowance is granted when the transaction is processed, saving the user gas.",
        "codeExample": "/* Conceptual EIP-2612 Flow */\n// 1. User signs a message (off-chain) saying, \"I approve DEX to spend 100.\"\n// 2. DEX submits this signed message via the `permit` function.\n// 3. `permit` executes the allowance change on-chain. (User saves gas)."
      },
      {
        "title": "Decimals and Display Units",
        "content": "Handling token precision. Covers the **`decimals()`** function (typically 18, matching ETH) which determines the token's smallest unit. Explains the necessity of using `ethers.utils.parseUnits` and `ethers.utils.formatUnits` on the frontend to correctly convert raw token amounts between the user-readable format and the smart contract's BigInt format.",
        "codeExample": "/* Solidity Decimals Definition */\nuint8 public constant decimals = 18; // 18 decimal places\n\n// Contract: amount is 1000000000000000000\n// Frontend: displays 1.0"
      },
      {
        "title": "ERC-1363 (Payable Token) and Hook Integration",
        "content": "Understanding the **ERC-1363** standard, which extends ERC-20 by adding optional token receiver hooks (`onTransferReceived`). This allows tokens to trigger logic in the receiving contract upon transfer, enabling atomic interactions like \"pay and get NFT\" in a single transaction. Useful for building complex token transfer interactions.",
        "codeExample": "/* ERC-1363 Payable Transfer Function */\nfunction transferAndCall(address to, uint256 value, bytes calldata data) public returns (bool) {\n  // 1. Standard ERC-20 transfer occurs...\n  \n  // 2. The receiver contract is called with the data\n  // ITokenReceiver(to).onTransferReceived(msg.sender, value, data);\n  \n  return true;\n}"
      }
    ]
  },
  {
    "id": 24,
    "title": "Non-Fungible Tokens (ERC-721) and Metadata üñºÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "ERC-721 Core: `tokenId` and `ownerOf`",
        "content": "Mastering the standard for **NFTs**. Covers the core concept that each token has a unique **`tokenId`** (a `uint256`). Details the state: a `mapping` from `tokenId` to its `owner` address and a `mapping` from `owner` to the number of tokens they hold (`balanceOf`).",
        "codeExample": "/* ERC-721 Core Functions */\nfunction ownerOf(uint256 tokenId) public view returns (address);\nfunction balanceOf(address owner) public view returns (uint256);\n\n// Internal: mints a new token and assigns it to a user\n// _mint(to, tokenId)"
      },
      {
        "title": "Token Metadata and `tokenURI`",
        "content": "Handling the unique data associated with an NFT (name, image, attributes). Covers the **`tokenURI(tokenId)`** function, which returns an HTTP or IPFS URI pointing to the token's external JSON metadata file. Explains the structure of the **Metadata JSON** (must conform to the ERC-721 Metadata JSON Schema).",
        "codeExample": "/* Token URI Function */\nfunction tokenURI(uint256 tokenId) public view returns (string memory) {\n  // Returns a URI like: ipfs://Qmb8k1pY31L.../123.json\n  return string(abi.encodePacked(\n    baseURI,\n    Strings.toString(tokenId),\n    \".json\"\n  ));\n}"
      },
      {
        "title": "Safe Transfers (`safeTransferFrom`)",
        "content": "Preventing token loss. Covers the standard transfer function **`safeTransferFrom(from, to, tokenId, data)`**. Explains that the 'safe' version checks if the receiving address is a contract and, if so, calls a specific hook function (`onERC721Received`) on that contract. If the receiving contract does not implement the hook, the transaction reverts, ensuring the token isn't sent to an inaccessible address.",
        "codeExample": "/* ERC-721 Safe Transfer */\nfunction safeTransferFrom(address from, address to, uint256 tokenId) public {\n  // ... checks\n  _transfer(from, to, tokenId); // Internal transfer\n  // Checks if 'to' is a contract and if it implemented the required hook\n  require(_checkOnERC721Received(from, to, tokenId, \"\"), \"ERC721: transfer to non ERC721Receiver\");\n}"
      },
      {
        "title": "Royalties (EIP-2981) and Marketplace Integration",
        "content": "Implementing creator fees on secondary sales. Covers the **EIP-2981** standard, which defines a simple way for a token contract to communicate its royalty fee (percentage and recipient address) to external NFT marketplaces. Details how marketplaces call **`royaltyInfo()`** to calculate and pay the creator during a secondary trade.",
        "codeExample": "/* EIP-2981 Royalty Function */\nfunction royaltyInfo(\n  uint256 _tokenId, \n  uint256 _salePrice\n) external view returns (\n  address receiver, \n  uint256 royaltyAmount\n) {\n  // Example: 10% royalty\n  royaltyAmount = (_salePrice * 1000) / 10000; \n  receiver = royaltyFeeRecipient;\n}"
      },
      {
        "title": "Generative Art and On-Chain Assets",
        "content": "Advanced NFT patterns. Covers storing generative art parameters or the final SVG/HTML code **directly in the contract storage** (On-Chain Assets) to ensure the art is immutable and fully decentralized. This contrasts with linking to external image hosts (even IPFS), which introduces a layer of off-chain dependency.",
        "codeExample": "/* On-Chain Generative Logic (Conceptual) */\nfunction tokenURI(uint256 tokenId) public view returns (string memory) {\n  // Returns the Data URI directly with the SVG code embedded\n  return string(abi.encodePacked(\n    \"data:application/json;base64,\", \n    Base64.encode(bytes(abi.encodePacked(\n      '{\"name\":\"Token #', Strings.toString(tokenId), '\"', \n      ', \"image\":\"data:image/svg+xml;base64,', \n      Base64.encode(bytes(generateSVG(tokenId)))\n    )))\n  ));\n}"
      }
    ]
  },
  {
    "id": 25,
    "title": "Multi-Tokens (ERC-1155) and Hybrid Assets üß©",
    "icon": "Code",
    "subsections": [
      {
        "title": "ERC-1155 Core: `id` and `amount`",
        "content": "Mastering the multi-token standard. Covers the structure: a single contract manages multiple types of assets, each identified by a unique **`id`** (token type). Balances are tracked by `mapping(uint256 => mapping(address => uint256))`, representing `(token_id -> owner_address -> balance)`. Assets can be fungible or non-fungible based on usage.",
        "codeExample": "/* ERC-1155 Core Balance State */\n// Tracks balances of multiple token types for multiple addresses\nmapping(uint256 => mapping(address => uint256)) public balances;"
      },
      {
        "title": "Batch Operations for Efficiency",
        "content": "The primary advantage of ERC-1155. Covers **`balanceOfBatch`** (querying multiple balances for multiple users in a single call) and **`safeBatchTransferFrom`** (transferring multiple types of tokens in a single transaction). This drastically reduces gas costs for games or platforms with complex inventory systems.",
        "codeExample": "/* ERC-1155 Batch Transfer */\nfunction safeBatchTransferFrom(\n  address from, address to,\n  uint256[] calldata ids, // Array of token IDs to transfer\n  uint256[] calldata amounts, // Array of amounts for each ID\n  bytes calldata data\n) public {\n  // Transfers all items in one transaction\n}"
      },
      {
        "title": "Token Type Management (Fungible/NFT)",
        "content": "Controlling the nature of tokens. Covers the standard practice where an ERC-1155 token is fungible if its `amount` > 1 (e.g., 100 potions, same ID) and non-fungible if its `amount` = 1 (e.g., a unique sword, unique ID). The contract logic determines the fungibility by how the tokens are minted and tracked.",
        "codeExample": "/* Minting Logic determines fungibility */\n// Minting 100 fungible items of type 5\n_mint(msg.sender, 5, 100, \"\");\n\n// Minting a single non-fungible item of type 6\n_mint(msg.sender, 6, 1, \"\");"
      },
      {
        "title": "Hybrid Assets and Fractionalization",
        "content": "Advanced use cases. Covers using ERC-1155 to create **Hybrid Assets** (e.g., a fungible currency token and a unique badge token managed by the same contract). Details the concept of **Fractionalization**, where a unique ERC-721 token is wrapped and converted into many fungible ERC-20 tokens, allowing shared ownership.",
        "codeExample": "/* Fractionalization Goal (Conceptual) */\n// ERC-721 (Unique Asset) -> Wrapped by a Contract -> 1000 ERC-20 Tokens"
      },
      {
        "title": "URI Management and Batch Metadata",
        "content": "Handling metadata efficiently. Covers the **`uri(uint256 id)`** function, which typically returns a single base URI with a placeholder (`{id}`) that the frontend replaces to fetch the specific token's metadata. This contrasts with ERC-721's single `tokenURI` function and is optimized for the batch nature of ERC-1155.",
        "codeExample": "/* ERC-1155 URI Function */\n// URI contains a placeholder '{id}'\nfunction uri(uint256) public view returns (string memory) {\n  return string(abi.encodePacked(\"ipfs://metadata/{id}.json\"));\n}"
      }
    ]
  },
  {
    "id": 26,
    "title": "OpenZeppelin: Security and Inheritance üõ°Ô∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "OpenZeppelin Contracts: Standardization",
        "content": "The essential security library. Covers using **OpenZeppelin Contracts** as a secure, battle-tested baseline for all major standards (ERC-20, ERC-721) and utilities. This practice reduces the surface area for common bugs and facilitates easier code audits.",
        "codeExample": "/* Secure ERC-20 Inheritance */\nimport \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\n\ncontract MyToken is ERC20 {\n  constructor(uint256 initialSupply) ERC20(\"MyToken\", \"MTK\") {\n    _mint(msg.sender, initialSupply);\n  }\n}"
      },
      {
        "title": "The `Ownable` Pattern and Access Control",
        "content": "Implementing single-point administrative control. Covers inheriting the **`Ownable`** contract, which adds the `owner` state variable and the `onlyOwner` modifier. Details the safe transfer of ownership using **`transferOwnership`** (which often requires two steps for safety) and the use of the `renounceOwnership` function.",
        "codeExample": "/* Ownable Inheritance */\nimport \"@openzeppelin/contracts/access/Ownable.sol\";\n\ncontract AdminContract is Ownable {\n  // Only the owner can call this function\n  function emergencyShutdown() public onlyOwner {\n    // ... logic\n  }\n}"
      },
      {
        "title": "Safety Mechanisms: `Pausable` and `ReentrancyGuard`",
        "content": "Implementing contract emergency measures. Covers inheriting **`Pausable`** to allow the owner to temporarily freeze token transfers or critical contract functions in case of an attack or bug discovery. Details using **`ReentrancyGuard`** to automatically protect sensitive functions from the Reentrancy attack.",
        "codeExample": "/* Safety Module Integration */\nimport \"@openzeppelin/contracts/security/ReentrancyGuard.sol\";\nimport \"@openzeppelin/contracts/security/Pausable.sol\";\n\ncontract Vault is Pausable, ReentrancyGuard {\n  // Function that can be paused by admin\n  function redeem() public whenNotPaused { ... }\n  \n  // Function protected against reentrancy (e.g., withdraw)\n  function withdraw() public nonReentrant { ... }\n}"
      },
      {
        "title": "Contract Initialization and Constructor Delegation",
        "content": "Managing initialization logic during contract deployment. Covers how derived classes call parent constructors using syntax like `ERC20(\"Name\", \"Symbol\")`. In **Upgradable Proxies**, the constructor is replaced by an **`initialize()`** function, and OpenZeppelin's `Initializable` module prevents it from being called more than once.",
        "codeExample": "/* Initializer in Upgradable Contracts */\n// The actual constructor is not used in proxy patterns\nfunction initialize(string memory name) public initializer {\n  // Logic that would normally be in the constructor\n  _name = name;\n}"
      },
      {
        "title": "Upgrades Plugin Integration",
        "content": "Using OpenZeppelin's dedicated **Upgrades Plugins** (Hardhat/Truffle) to manage Proxy deployment and upgrade mechanisms (e.g., UUPS, Transparent Proxy). This automates the complex `delegatecall` setup, logic contract replacement, and storage collision checks, greatly simplifying secure upgradability.",
        "codeExample": "/* Hardhat Upgrades Plugin Deployment */\nconst { upgrades } = require('hardhat');\n\nasync function deployUpgradable() {\n  const MyLogic = await ethers.getContractFactory(\"MyLogicV1\");\n  // Deploys the proxy and the initial logic contract\n  const proxy = await upgrades.deployProxy(MyLogic, [initialArg]); \n  await proxy.waitForDeployment();\n\n  // To upgrade later:\n  // const MyLogicV2 = await ethers.getContractFactory(\"MyLogicV2\");\n  // await upgrades.upgradeProxy(proxy.target, MyLogicV2);\n}"
      }
    ]
  },
  {
    "id": 27,
    "title": "Token Standards Beyond Ethereum (BEP-20, etc.) üåê",
    "icon": "Code",
    "subsections": [
      {
        "title": "BEP-20 (Binance Smart Chain) and EVM Forks",
        "content": "Understanding the **BEP-20** standard (Binance Smart Chain) and other EVM-compatible token standards (e.g., Polygon, Avalanche). Covers how these are near-identical to ERC-20 but operate on different networks with distinct chain IDs and gas tokens, necessitating multi-chain configuration.",
        "codeExample": "/* BEP-20 / ERC-20 Similarity */\n// The function signatures are identical:\n// BEP-20 function transfer(address to, uint256 amount) public returns (bool);\n// ERC-20 function transfer(address to, uint256 amount) public returns (bool);\n// Key difference is the network/chain ID."
      },
      {
        "title": "EIP-4626: Tokenized Vault Standard",
        "content": "Mastering the standard for DeFi integration. Covers **EIP-4626** (Tokenized Vault Standard), which provides a unified API for interacting with yield-bearing vaults (lending pools, staking pools). This standard simplifies composability by making all vaults behave like a standard ERC-20 token.",
        "codeExample": "/* EIP-4626 Core Functions */\n// deposit(assets): User deposits base token\n// redeem(shares): User redeems shares for base token\n// convertToShares(assets): View function for calculating share price."
      },
      {
        "title": "EIP-5095: Generic Asset Router",
        "content": "The standard for complex transfers. Covers **EIP-5095**, which defines a generic way to transfer any ERC token (20, 721, 1155) through a routing contract, improving the composability of multi-token operations across different protocols.",
        "codeExample": "/* EIP-5095 Router Principle */\n// Centralized router contract handles complex asset type identification and forwarding."
      },
      {
        "title": "EIP-3475: Liquidity Bond Standard",
        "content": "The standard for fixed-term commitments. Covers **EIP-3475** (Liquidity Bond Standard), used to represent fixed-term, redeemable financial commitments (like fixed-rate lending) as unique NFTs (bonds), allowing them to be traded or managed easily.",
        "codeExample": "/* EIP-3475 Bond Principle */\n// Bond (NFT) represents: Principal Amount, Maturity Date, Fixed APY."
      },
      {
        "title": "Integrating with External Token Interfaces",
        "content": "Calling functions on external deployed tokens. Covers using Solidity **Interfaces** (`interface IExternalToken { ... }`) to define the required function signatures, allowing the contract to interact with external tokens without needing their full source code, which is essential for DeFi aggregators.",
        "codeExample": "/* External Token Interface */\ninterface IERC20 {\n  function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n}\n\n// Contract calls the external token:\nfunction swapTokens(address tokenAddress) public {\n  IERC20(tokenAddress).transferFrom(msg.sender, address(this), amount);\n}"
      }
    ]
  },
  {
    "id": 28,
    "title": "Digital Asset Royalties (EIP-2981) üëë",
    "icon": "Code",
    "subsections": [
      {
        "title": "EIP-2981 Standard Definition",
        "content": "Mastering the standard for universal NFT royalties. Covers **EIP-2981** as the mechanism for an NFT contract to explicitly define the recipient address and percentage fee for every secondary sale, ensuring creators are compensated across all compatible marketplaces.",
        "codeExample": "/* EIP-2981 Royalty Function */\nfunction royaltyInfo(\n  uint256 _tokenId, \n  uint256 _salePrice\n) external view returns (\n  address receiver, \n  uint256 royaltyAmount\n);"
      },
      {
        "title": "Implementing the Royalty Logic",
        "content": "Coding the royalty calculation. Covers implementing the logic within the `royaltyInfo` function to calculate the exact amount of the fee (usually a percentage) based on the provided `_salePrice` and the token's configured royalty fraction.",
        "codeExample": "/* Royalty Calculation */\n// Assuming a 5% royalty fee (500 basis points)\nuint256 fee = 500;\nroyaltyAmount = (_salePrice * fee) / 10000; \nreceiver = royaltyFeeRecipient;"
      },
      {
        "title": "Marketplace Integration and Compliance",
        "content": "The role of the marketplace. Covers how compatible marketplaces (OpenSea, Magic Eden) call the `royaltyInfo` function during a sale and automatically remit the calculated `royaltyAmount` to the designated `receiver`, ensuring compliance.",
        "codeExample": "/* Marketplace Compliance (Conceptual) */\n// Marketplace logic:\n// 1. Get royaltyInfo(tokenId, salePrice).\n// 2. Perform token transfer: SalePrice - RoyaltyAmount to Seller.\n// 3. Perform token transfer: RoyaltyAmount to Receiver."
      },
      {
        "title": "On-Chain vs. Off-Chain Royalty Enforcement",
        "content": "Analyzing enforcement models. Covers the fact that EIP-2981 is only a **signaling mechanism** (a suggestion) and is not enforced by the contract's transfer function. Enforcement relies on marketplace compliance. Discusses advanced models (e.g., custom transfer hooks) for *on-chain* royalty enforcement.",
        "codeExample": "/* Enforcement Limitation */\n// The standard ERC-721 transfer() does NOT check EIP-2981, allowing peer-to-peer transfers to bypass the suggested fee."
      },
      {
        "title": "Dynamic Royalties and Tiered Fees",
        "content": "Implementing complex fee structures. Covers creating custom logic (often outside the base EIP-2981 implementation) to vary the royalty fee based on factors like sale price tier, token traits, or secondary market volume, requiring careful contract design.",
        "codeExample": "/* Dynamic Royalty Logic (Conceptual) */\n// If salePrice < 1 ETH: Royalty = 10%\n// If salePrice >= 1 ETH: Royalty = 5%"
      }
    ]
  },
  {
    "id": 29,
    "title": "Token Gating and Access Control üöß",
    "icon": "Code",
    "subsections": [
      {
        "title": "Token Gating Principles",
        "content": "Implementing access based on token ownership. Covers **Token Gating** (restricting access to content, features, or physical events based on a user holding a specific token or NFT). This is the foundation of membership, loyalty programs, and decentralized communities.",
        "codeExample": "/* Token Gating Check (Solidity) */\n// Check requires the user to own at least 1 NFT (ERC-721)\nfunction accessGatedFunction() public view {\n  require(nftContract.ownerOf(tokenId) == msg.sender, \"Must own the required NFT.\");\n  // ... secured logic\n}"
      },
      {
        "title": "ERC-721/ERC-1155 Gating",
        "content": "Gating access to unique assets. Covers checking ownership of a specific ERC-721 **`tokenId`** (unique asset) or checking the balance of an ERC-1155 **`id`** (membership badge). This is often done via view calls to the external token contract.",
        "codeExample": "/* ERC-721 Gating */\n// Checks if the user owns ANY token from this collection\nfunction hasAccess() public view returns (bool) {\n  return nftContract.balanceOf(msg.sender) > 0;\n}"
      },
      {
        "title": "ERC-20 (Balance) Gating",
        "content": "Gating access based on holding a sufficient quantity of a fungible token (e.g., governance tokens, native currency). Covers calling the external ERC-20 **`balanceOf()`** function and comparing the result against a minimum threshold.",
        "codeExample": "/* ERC-20 Balance Gating */\nuint256 public constant MIN_BALANCE = 100 * 10**18;\n\nfunction isPremiumMember() public view returns (bool) {\n  return governanceToken.balanceOf(msg.sender) >= MIN_BALANCE;\n}"
      },
      {
        "title": "Off-Chain Gating and Authentication",
        "content": "Securing Web2 resources (e.g., private Discord channels, API access). Covers using **Sign-In with Ethereum (SIWE)** to authenticate the user and verifying their token ownership **off-chain** to grant temporary access via an OAuth token.",
        "codeExample": "/* Off-Chain Gating Flow (Conceptual) */\n// 1. Frontend: User signs SIWE message.\n// 2. Backend: Verifies signature, calls contract.balanceOf(address).\n// 3. Backend: If balance > threshold, issues a JWT for API access."
      },
      {
        "title": "Snapshot Gating and Historical Balance",
        "content": "Gating access based on past ownership. Covers the pattern of using a **Snapshot** (a recorded token balance at a specific block number/timestamp) to grant access to users who held a token at a predetermined time, preventing quick purchase/dump schemes.",
        "codeExample": "/* Snapshot Gating Principle */\n// Access is granted if token balance was > 0 at Block #15,000,000."
      }
    ]
  },
  {
    "id": 30,
    "title": "Soulbound Tokens (SBT) and Non-Transferable Assets üëª",
    "icon": "Code",
    "subsections": [
      {
        "title": "Soulbound Token (SBT) Concept and Purpose",
        "content": "Defining **Soulbound Tokens (SBTs)**‚Äînon-transferable NFTs permanently linked to an account (a 'Soul'). Covers the use case for representing achievements, credentials, identity proofs, reputation, and educational certificates, where transferability would undermine the token's validity.",
        "codeExample": "/* SBT Principle */\n// An SBT is an ERC-721 token that lacks the transfer() function."
      },
      {
        "title": "Implementing Non-Transferability",
        "content": "The core implementation mechanism. Covers preventing token transfer by overriding the standard ERC-721 functions, such as **`_beforeTokenTransfer()`** (OpenZeppelin hook), to ensure the `from` address is always the zero address (only minting/burning is allowed).",
        "codeExample": "/* Preventing Transfers (OpenZeppelin Hook) */\nfunction _beforeTokenTransfer(address from, address to, uint256 tokenId, bytes memory data) internal virtual override {\n  // Revert if the token is moved from a user (non-zero address)\n  require(from == address(0), \"SBT: Token is non-transferable.\");\n  // Allows transfer to address(0) (burning) and from address(0) (minting)\n}"
      },
      {
        "title": "External vs. Internal Non-Transferability",
        "content": "Covers two levels of security. **External Non-Transferability** (the token standard itself prevents transfers). **Internal Non-Transferability** (external contracts or wallets may still be able to transfer the token if the standard function is not overridden, necessitating careful contract design).",
        "codeExample": "/* Internal Non-Transferability Risk */\n// Low-level call or assembly could potentially bypass standard transfer checks."
      },
      {
        "title": "Revocability and Covenants",
        "content": "Managing the token lifecycle. Covers implementing **Revocability** (the issuer can burn/revoke the token) for credentials that expire or are rescinded. Details the concept of a **Covenant**, where the token may gain or lose functionality based on on-chain conditions being met.",
        "codeExample": "/* Revocation Function */\nfunction revoke(uint256 tokenId) public onlyOwner {\n  // Burn the token permanently\n  _burn(ownerOf(tokenId), tokenId);\n}"
      },
      {
        "title": "EIP-5192 (Locked Tokens) and Metadata",
        "content": "The official standard. Covers **EIP-5192** (Minimal Soulbound NFT), which provides a standardized way to lock a token to an address. Discusses linking SBTs to **Verifiable Credentials (VCs)**, where the token acts as the decentralized, tamper-proof pointer to the actual credential document.",
        "codeExample": "/* EIP-5192 Interface Principle */\n// Provides a standard `locked(uint256 tokenId)` function that returns true."
      }
    ]
  }
]
  },
  web3_3: {
    id: 'web3-3',
    title: 'Web3 Development : Part 3',
    icon: BlocksIcon,
    color: '#000080',
    description: 'Tooling, Frontends, and Token Standards',
    units: [
  {
    "id": 31,
    "title": "Advanced Security Audits and Vulnerabilities üö®",
    "icon": "Palette",
    "subsections": [
      {
        "title": "Reentrancy and State Machine Attacks",
        "content": "Deep dive into the **Reentrancy Attack** (exploiting external calls to re-enter the calling contract) and its modern mitigation (OpenZeppelin's `ReentrancyGuard`, using `transfer` vs. `call`). Covers **State Machine Flaws** where improper sequence or incomplete checks lead to unintended state transitions (e.g., activating a contract before initialization).",
        "codeExample": "/* Vulnerable Code (No Reentrancy Guard) */\nfunction withdraw() public {\n¬† uint256 amount = balances[msg.sender];\n¬† // Interaction happens BEFORE state update (VULNERABLE)\n¬† (bool success, ) = msg.sender.call{value: amount}(\"\");\n¬† balances[msg.sender] = 0; // Too late!\n¬† require(success, \"Transfer failed\");\n}"
      },
      {
        "title": "Integer Overflow and Underflow",
        "content": "Protecting against numerical exploits. Covers **Overflows** (adding to max `uint256` results in 0) and **Underflows** (subtracting from 0 results in max `uint256`). Explains that since **Solidity 0.8.0**, arithmetic operations default to being **checked**, automatically reverting on overflow/underflow, making it safer but requiring careful use of `unchecked` blocks for optimization.",
        "codeExample": "/* Post-0.8.0 Safety */\nfunction add(uint256 a, uint256 b) public pure returns (uint256) {\n¬† // This will revert by default if a + b > type(uint256).max\n¬† return a + b;\n}"
      },
      {
        "title": "Front-Running and Time-Dependent Attacks",
        "content": "Exploiting the public nature of the mempool. Covers **Front-Running** (seeing a pending transaction and submitting a competing transaction with higher gas to execute first). Mitigation techniques include using commit-reveal schemes, batching, and avoiding reliance on block number/timestamp for critical actions.",
        "codeExample": "/* Vulnerable to Front-Running */\n// If price is sensitive, a bot can see this pending transaction, copy it,\n// and pay higher gas to buy the token before this transaction raises the price.\nfunction buyToken(uint256 amount) public {\n¬† uint256 currentPrice = getPrice();\n¬† // ... buy logic\n}"
      },
      {
        "title": "Static Analysis Tools (Slither, Mythril)",
        "content": "Using automated tools for vulnerability detection. Covers **Slither** and **Mythril** for performing **Static Analysis** (examining source code without execution) to detect common flaws: unchecked external calls, unsafe type conversions, compiler warnings, and shadow variable declaration, providing a critical pre-audit checklist.",
        "codeExample": "/* Slither CLI Usage */\n// Scans the source code for common pitfalls and outputs a structured report.\nslither . --checklist"
      },
      {
        "title": "Formal Verification and Economic Audits",
        "content": "The highest level of assurance. Covers **Formal Verification** (using mathematical tools like F* or Certora to *prove* that contract code conforms to a formal specification). Details **Economic Audits** (analyzing game theory, tokenomics, and incentive structures) to ensure the system is economically stable and resistant to manipulation by rational actors.",
        "codeExample": "/* Formal Verification Goal (Conceptual) */\n// PROVE: In every state, the total amount of tokens in the contract is less than or equal to MAX_SUPPLY."
      },
      {
        "title": "Denial-of-Service (DoS) Attacks",
        "content": "Preventing contract abuse. Covers **DoS** attacks via gas limit exploitation (e.g., forcing a function to iterate over an unbounded array, exceeding the block gas limit). Mitigation: design pull patterns (users pull funds) instead of push patterns (contract pushes funds to many addresses).",
        "codeExample": "/* DoS Mitigation (Pull vs. Push) */\n// BAD (Vulnerable to DoS if recipients.length is too large):\n// function payout(address[] recipients) public { for(...) { recipients[i].transfer(amount); } }\n\n// GOOD (Safe, user calls to withdraw):\n// function withdraw() public { amount = balances[msg.sender]; balances[msg.sender] = 0; msg.sender.transfer(amount); }"
      },
      {
        "title": "Delegatecall Exploits (Storage Slot Overwrites)",
        "content": "Understanding the most dangerous high-level exploit. Covers how an attacker can leverage a vulnerable `delegatecall` instruction (often in a proxy contract) to execute malicious code that overwrites critical storage slots (like `owner` or `total_supply`) in the calling contract's storage.",
        "codeExample": "/* Delegatecall Exploit Risk */\n// If the proxy contract delegatecalls to a library contract,\n// the library can access and modify the proxy's storage variables."
      },
      {
        "title": "Signature Replay Attacks (EIP-712)",
        "content": "Protecting off-chain signed data. Covers preventing an attacker from using a legitimate signed message (e.g., a Permit signature) multiple times. Mitigation: incorporating a **`nonce`** and **`deadline`** into the signed data structure (EIP-712) and validating these parameters on-chain.",
        "codeExample": "/* EIP-712 Replay Protection */\n// The signed data includes:\n// 1. Nonce: A unique, single-use number stored on-chain.\n// 2. Deadline: A timestamp after which the signature is invalid."
      }
    ]
  },
  {
    "id": 32,
    "title": "Access Control Patterns and Modifiers üóùÔ∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "The `onlyOwner` Modifier and Safe Transfer",
        "content": "Implementing the single administrator pattern. Covers using the **`onlyOwner`** modifier (from OpenZeppelin) to restrict sensitive functions. Details best practices for **Ownership Transfer** that involves a two-step process (propose and accept) to prevent loss of control due to incorrect address input.",
        "codeExample": "/* Safe Ownership Transfer Pattern */\naddress public pendingOwner;\n\nfunction transferOwnership(address newOwner) public onlyOwner {\n¬† pendingOwner = newOwner;\n}\n\nfunction acceptOwnership() public {\n¬† require(msg.sender == pendingOwner, \"Must be pending owner.\");\n¬† owner = pendingOwner;\n}"
      },
      {
        "title": "Role-Based Access Control (RBAC)",
        "content": "Implementing granular permissions using **Roles (EIP-712)**. Covers using the **`AccessControl`** contract (OpenZeppelin) to manage different roles (e.g., `MINTER_ROLE`, `PAUSER_ROLE`) and grant/revoke these roles to multiple addresses, moving beyond single-owner control.",
        "codeExample": "/* Role-Based Access Control */\nbytes32 public constant MINTER_ROLE = keccak256(\"MINTER_ROLE\");\n\nfunction grantMinterRole(address account) public onlyOwner {\n¬† _grantRole(MINTER_ROLE, account);\n}\n\n// Check if sender has the role\nfunction mint(address to, uint256 amount) public onlyRole(MINTER_ROLE) {\n¬† _mint(to, amount);\n}"
      },
      {
        "title": "Pausable Logic and Emergency Shutdown",
        "content": "Implementing an emergency brake. Covers using the **`whenNotPaused`** and **`whenPaused`** modifiers to conditionally enable/disable functionality. Details the need for a non-pausable **`panic_shutdown()`** function (often multi-sig controlled) for extreme scenarios, allowing assets to be rescued if a fatal bug is found.",
        "codeExample": "/* Pausable Logic */\n// Function runs only when the contract is NOT paused\nfunction transfer(address to, uint256 amount) public whenNotPaused {\n¬† // ... transfer logic\n}\n\n// Function runs only when the contract IS paused (e.g., emergency withdrawal)\nfunction emergencyWithdrawal() public whenPaused { ... }"
      },
      {
        "title": "Timelocks and Delay Mechanisms",
        "content": "Adding mandatory delays to high-risk functions (e.g., modifying fees, upgrading contracts). Covers the **`TimelockController`** pattern, which forces passed proposals to wait for a fixed period (e.g., 48 hours) before they can be executed. This gives users time to react to potentially malicious changes.",
        "codeExample": "/* Timelock Function Call (Conceptual) */\n// 1. Admin schedules the upgrade action with the Timelock contract.\n// timelock.schedule(targetAddress, value, calldata, predecessors, salt, minDelay)\n\n// 2. After 48 hours, the Admin executes the scheduled action.\n// timelock.execute(...)"
      },
      {
        "title": "Multi-Signature Wallets (MultiSig)",
        "content": "Securing critical contract ownership. Covers using an external **MultiSig Wallet** (e.g., Gnosis Safe) to manage the contract's ownership key. Explains that a critical action (like upgrading the contract or changing the treasury address) requires approval from a quorum of signers (e.g., 3 out of 5 key holders), preventing single points of failure.",
        "codeExample": "/* MultiSig Ownership (Conceptual) */\n// 1. Deploy the MultiSig Wallet (e.g., requires 3 of 5 signatures).\n// 2. Deploy the DApp contract and set its owner to the MultiSig address.\n\n// Any call to `onlyOwner` on the DApp contract must first be approved by the MultiSig quorum."
      },
      {
        "title": "Custom Logic Modifiers (Complex Pre-Conditions)",
        "content": "Creating specialized modifiers to enforce business logic. Covers defining complex, reusable pre-conditions based on contract state, time, or external contract interaction (e.g., `onlyIfActivePeriod`, `onlyIfCollateralized`).",
        "codeExample": "/* Custom Modifier */\nmodifier onlyIfActivePeriod() {\n  require(block.timestamp >= startTime && block.timestamp <= endTime, \"Not in active period.\");\n  _;\n}"
      },
      {
        "title": "Address Whitelisting and Blacklisting",
        "content": "Implementing simple, granular access control lists. Covers using a `mapping(address => bool)` to create an explicit whitelist (only allowed addresses can call) or blacklist (preventing known bad actors) for specific functions, often used during early phase deployment or bug patching.",
        "codeExample": "/* Whitelisting Pattern */\nmapping(address => bool) public whitelist;\n\nfunction mintWhitelisted() public {\n  require(whitelist[msg.sender], \"Not whitelisted.\");\n  // ... mint logic\n}"
      },
      {
        "title": "Interface Segregation Principle (ISP) in Access Control",
        "content": "Applying SOLID principles. Covers splitting large access control logic (like OpenZeppelin's `AccessControl`) into smaller, focused contracts or interfaces. This limits the attack surface of derived contracts and makes logic easier to audit.",
        "codeExample": "/* ISP in Solidity */\n// Instead of one massive Admin interface, use separate interfaces:\ninterface IMinter { function mint() external; }\ninterface IPauser { function pause() external; }"
      }
    ]
  },
  {
    "id": 33,
    "title": "Gas Optimization (Storage, Memory, Yul) ‚õΩ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Storage Packing and Slot Optimization",
        "content": "Minimizing storage gas cost. Covers the principle of **Storage Packing**: Solidity attempts to fit multiple variables into a single **256-bit storage slot**. Optimization requires grouping small variables (`uint8`, `uint128`, `bool`) adjacent to each other in the contract state definition to maximize slot utilization, as each slot write (SSTORE) is extremely expensive.",
        "codeExample": "/* Storage Packing Optimization */\n// GOOD (Packs into one slot):\n// uint128 a;\n// uint128 b;\n// uint8 c;\n// uint8 d; \n\n// BAD (Wastes slots):\n// uint256 a; \n// uint8 b; // Wasted space in the slot due to preceding uint256\n// uint256 c;"
      },
      {
        "title": "Avoiding Unnecessary SSTORE (Writes)",
        "content": "The most significant gas saver. Covers recognizing that **SSTORE** (writing to storage) is orders of magnitude more expensive than computation. Optimization involves writing logic that minimizes state updates, utilizing **`memory`** for complex calculations, and checking conditions before writing (`if (value != 0) { ... }`).",
        "codeExample": "/* Avoiding Unnecessary SSTORE */\n// Expensive: always writes\n// myCounter = newValue;\n\n// Optimized: only writes if the value actually changes (cheaper)\nif (newValue != myCounter) {\n¬† myCounter = newValue;\n}"
      },
      {
        "title": "Using Calldata for External Arguments",
        "content": "Optimizing function calls. Covers enforcing the use of **`calldata`** for external function arguments, especially for complex types (arrays, strings, structs). Explains that `calldata` is read-only and does not create an expensive copy of the data in memory, making the external call far cheaper.",
        "codeExample": "/* Calldata vs Memory */\n// Gas Efficient (calldata)\nfunction viewData(uint256[] calldata values) external view { ... }\n\n// Less Efficient (memory copy is created)\nfunction processData(uint256[] memory values) public { ... }"
      },
      {
        "title": "Yul and Inline Assembly",
        "content": "The final frontier of gas optimization. Covers using **Yul** (Solidity's intermediate language) and **Inline Assembly** (`assembly { ... }`) to write EVM opcodes directly. This allows accessing low-level machine instructions (e.g., `sload`, `sstore`, `mload`) for manual optimization when the Solidity compiler's output is sub-optimal. *Requires expert-level knowledge and increases audit complexity.*",
        "codeExample": "/* Inline Assembly for Raw Storage Read */\nfunction readSlot(bytes32 slot) public view returns (uint256 value) {\n¬† assembly {\n¬† ¬† // Load 32 bytes from the storage slot pointed to by 'slot'\n¬† ¬† value := sload(slot)\n¬† }\n}"
      },
      {
        "title": "External Calls and Minimal Interfaces",
        "content": "Optimizing external communication. Covers passing minimal data in external calls. Explains the use of **External Interfaces** (`interface IContract`) to define only the required functions, which ensures the compiler doesn't embed unnecessary ABI information, reducing the size of the calling contract.",
        "codeExample": "/* Minimal Interface Usage */\n// Interface only includes the function needed by the caller\ninterface IToken {\n¬† function transfer(address to, uint256 amount) external returns (bool);\n}\n\n// Calling contract uses the minimal interface\nfunction sendTokens(address recipient, uint256 amount) internal {\n¬† IToken(tokenAddress).transfer(recipient, amount);\n}"
      },
      {
        "title": "Loop Unrolling and Fixed Arrays",
        "content": "Advanced optimization technique. Covers using **Fixed-Size Arrays** and manually **Unrolling Loops** (writing sequential instructions instead of a loop iterator) when dealing with very small, known array sizes to reduce the overhead gas cost associated with the `JUMP` opcode in the loop body.",
        "codeExample": "/* Loop Unrolling (Conceptual) */\n// Instead of: for (i=0; i<3; i++) { do_work(i); }\n// Write: do_work(0); do_work(1); do_work(2);"
      },
      {
        "title": "Using `abi.encode` for Hashing",
        "content": "Optimizing data hashing. Covers using **`abi.encode()`** instead of `abi.encodePacked()` for generating Keccak-256 hashes when possible. `abi.encode()` uses standard ABI padding, which prevents ambiguity risks and is often more gas-efficient for large, complex structures.",
        "codeExample": "/* Safe Hashing */\n// Prefer this for security and consistency:\nbytes32 safeHash = keccak256(abi.encode(addr, amount, deadline));"
      },
      {
        "title": "Error String Length",
        "content": "Minimizing error gas cost. Covers reducing the length of **Revert Error Strings** (`require(..., \"Short message\")`) as every character in the string costs gas to store in the transaction's calldata. Shorter error strings lead to lower transaction fees for failed transactions.",
        "codeExample": "/* Error String Optimization */\n// GOOD:\nrequire(condition, \"ID\"); \n\n// BAD:\n// require(condition, \"Invalid token ID provided for this operation.\");"
      }
    ]
  },
  {
    "id": 34,
    "title": "Upgradable Contracts and Proxy Patterns üîÑ",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Immutability Problem and Proxy Solution",
        "content": "Defining the core problem: contracts are immutable once deployed. Covers the **Proxy Pattern** as the solution, which decouples the **Storage/Address** (held by the Proxy contract) from the **Logic/Code** (held by the Implementation contract), allowing the logic contract to be replaced without losing state or changing the public-facing address.",
        "codeExample": "/* Proxy Pattern Principle */\n// Address: 0xProxyAddress (Never changes)\n// | -> Delegatecall -> \n// Logic: 0xLogicV1 (Can be replaced with 0xLogicV2)"
      },
      {
        "title": "Proxy Types: Transparent vs. UUPS",
        "content": "The two common Proxy standards. **Transparent Proxy** (EIP-1967) is simpler but has function clashes. **UUPS (Universal Upgradable Proxy Standard)** is more flexible and gas-efficient, as the upgrade logic resides in the Implementation contract rather than the Proxy, making it the current preferred standard.",
        "codeExample": "/* UUPS Upgrade Mechanism (Conceptual) */\n// The Proxy calls the Implementation contract.\n// The Implementation contract has a function that calls:\n// proxy.upgradeTo(address newImplementation) "
      },
      {
        "title": "Storage Slot Collisions",
        "content": "The most dangerous risk of upgradability. Covers **Storage Slot Collisions**, which occur when the state variables in the upgraded contract (V2) do not perfectly align with the storage slots used by the old contract (V1). This can lead to variables overwriting each other, corrupting the contract state. Mitigation relies on specialized tools and the **Layout Slot Pattern**.",
        "codeExample": "/* Example of Storage Collision Risk */\n// V1 Contract Storage:\n// Slot 0: owner (address)\n// Slot 1: counter (uint256)\n\n// V2 Contract (If fields are reordered or deleted, storage breaks!)\n// Slot 0: counter (uint256)\n// Slot 1: owner (address) <- COUNTER OVERWRITES OWNER ADDRESS!"
      },
      {
        "title": "Initializer Functions and State Migration",
        "content": "Managing contract setup in upgradable contracts. Covers using the **`initialize()`** function (protected by `onlyInitializer` or a similar check) in place of the constructor, as the Proxy pattern bypasses the constructor. Details **State Migration** logic (e.g., `migrateToV2()` function) that runs *after* an upgrade to update old data structures to the V2 format.",
        "codeExample": "/* Initializer and Version Check */\n// Checks if the contract has already been initialized\nfunction initialize(uint256 initialValue) public initializer {\n¬† require(initialValue > 0, \"Initial value must be set.\");\n¬† value = initialValue;\n}"
      },
      {
        "title": "OpenZeppelin Upgrades Plugin",
        "content": "Tooling for secure upgrades. Covers using the **OpenZeppelin Upgrades Plugin** (Hardhat/Foundry) to automate the deployment of Proxy and Implementation contracts. This tool performs crucial checks, including **Storage Layout Validation** (checking for slot collisions) before deploying the new logic contract and transferring control.",
        "codeExample": "/* Hardhat Upgrade Command */\n// Deploys the V2 logic, performs checks, and updates the proxy's pointer.\nconst MyLogicV2 = await ethers.getContractFactory(\"MyLogicV2\");\n// The upgrade command runs the storage layout validation automatically\nawait upgrades.upgradeProxy(proxyAddress, MyLogicV2);"
      },
      {
        "title": "Minimal Proxy (EIP-1167) and Clones",
        "content": "A gas-efficient alternative to full proxies. Covers **EIP-1167 Minimal Proxy** (Clones), which allows a Factory contract to deploy extremely cheap, minimalist proxy contracts that delegate execution to a single master implementation. Used for mass deployment of identical, non-upgradable instances.",
        "codeExample": "/* Minimal Proxy Principle */\n// Clone contract is deployed with minimal bytecode (constant size) and points to the master logic."
      },
      {
        "title": "Function Clashes (Transparent Proxy)",
        "content": "The specific vulnerability of the Transparent Proxy pattern. Covers **Function Clashes**, where a function in the Proxy's interface has the same selector as a function in the Implementation contract, leading to unpredictable execution. Solved by the Proxy logic checking the caller's address (Proxy Admin vs. Regular User).",
        "codeExample": "/* Transparent Proxy Clashes */\n// If a regular user calls `upgradeTo()`, the Proxy executes its OWN logic.\n// If the Admin calls `upgradeTo()`, the Proxy executes the IMPLEMENTATION's logic."
      },
      {
        "title": "Storage Gap for Future Variables",
        "content": "A technique to reserve space for future storage variables. Covers using a **Storage Gap** (an array of unused storage slots, e.g., `uint256[50] private __gap;`) at the end of the V1 Implementation contract. This ensures that when V2 is deployed, new variables can be added to the end of V2 without colliding with the existing V1 variables.",
        "codeExample": "/* Storage Gap in Implementation Contract V1 */\ncontract MyLogicV1 { \n  uint256 public data1; \n  uint256[50] private __gap; // Reserve 50 slots for V2/V3\n}"
      }
    ]
  },
  {
    "id": 35,
    "title": "Layer 2s: Optimistic vs. ZK Rollups ‚ö°",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Scalability Trilemma and Rollup Necessity",
        "content": "Revisiting the **Scalability Trilemma** (Security, Decentralization, Scalability). Covers the need for **Layer 2 (L2) Solutions** to handle transactions off-chain, enabling high throughput (TPS) and low fees, while submitting bundled proofs back to Ethereum L1 for final settlement and security.",
        "codeExample": "/* L2 Benefit */\n// Rollup: 10,000 transactions bundled into 1 L1 transaction.\n// User pays 1/10000th of the L1 gas cost for their transaction."
      },
      {
        "title": "Optimistic Rollups (Optimism, Arbitrum)",
        "content": "Mastering **Optimistic Rollups**. Explains the **Optimistic** assumption (transactions are valid unless proven otherwise). Covers the **Fraud Proof** system, which allows users to challenge invalid L2 transactions during the **Challenge Window** (e.g., 7 days). Details the long withdrawal delay caused by this challenge window.",
        "codeExample": "/* Optimistic Withdrawal Delay (Conceptual) */\n// L2 -> L1 Withdrawal initiated (Funds locked on L2)\n// Challenge Window (7 days) begins\n// Funds released after 7 days if no valid fraud proof is submitted."
      },
      {
        "title": "ZK Rollups (zkSync, StarkNet)",
        "content": "Mastering **Zero-Knowledge (ZK) Rollups**. Explains their mechanism: off-chain transactions are bundled and validated with a **Cryptographic Proof (ZK-SNARK/STARK)**. This proof is computationally expensive to generate but cheap for L1 to verify, ensuring instant finality (no challenge period) and superior security/privacy.",
        "codeExample": "/* ZK Rollup Finality (Conceptual) */\n// L2 Sequencer generates proof (fast transaction, slow proof generation)\n// L1 Verifier Contract checks proof (instant security)\n// L2 -> L1 Withdrawal is fast because the proof is already verified."
      },
      {
        "title": "Layer 2 Bridges and Canonical Token Management",
        "content": "Implementing cross-chain asset transfers. Covers the role of the **Bridge Contract** (on L1) that locks funds and mints a 'wrapped' version of the token on L2 (the **Canonical Token**). Details the process of burning the wrapped token on L2 to unlock the original token on L1, ensuring the 1:1 backing ratio is maintained.",
        "codeExample": "/* Bridge Deposit Mechanism */\n// 1. User calls deposit(token, amount) on L1 Bridge.\n// 2. L1 Bridge locks token.\n// 3. L2 Bridge (Standard Token Contract) mints WETH(L2) to user."
      },
      {
        "title": "Data Availability and Calldata Storage",
        "content": "Ensuring L2 data is secure. Covers the **Data Availability** guarantee: all transaction data for L2s must be posted back to the Ethereum L1 chain (in transaction `calldata`). This ensures that if the L2 Sequencer goes offline, users can reconstruct the L2 state and submit a fraud proof.",
        "codeExample": "/* Calldata Storage Cost */\n// L2 transaction data is stored on L1 as transaction input/calldata, which is cheap to store but expensive to retrieve/process."
      },
      {
        "title": "Sidechains (Polygon) vs. Rollups",
        "content": "Distinguishing between architecture types. Covers **Sidechains** (e.g., Polygon PoS Chain) which are independent EVM-compatible chains with their own consensus (PoS/Federated MultiSig). **CRITICAL DIFFERENCE:** Sidechains do not inherit L1 security; Rollups cryptographically rely on L1 for security.",
        "codeExample": "/* Security Inheritance */\n// Rollup: Security inherited from Ethereum PoS (L1).\n// Sidechain: Security depends on its own validator set (L2/Independent)."
      },
      {
        "title": "Sequencers and Centralization Risk",
        "content": "Analyzing L2 operational risk. Covers the **Sequencer** (the entity that batches and submits L2 transactions to L1). While efficient, the sequencer represents a point of centralization (can censor, reorder transactions). Details mitigation: decentralized sequencing and forced transaction submission.",
        "codeExample": "/* Sequencer Role */\n// Sequencer: Orders transactions, calculates state root, submits batch to L1."
      },
      {
        "title": "EVM Equivalence (Type 1 vs. Type 2 ZK-EVMs)",
        "content": "Achieving compatibility with Ethereum. Covers the goal of **EVM Equivalence** (the L2 behaves identically to Ethereum). Distinguishes between **Type 1 ZK-EVMs** (highest compatibility, slow proving time) and **Type 2/3 ZK-EVMs** (faster proving time, some incompatibility with tooling/opcodes).",
        "codeExample": "/* EVM Equivalence Benefit */\n// High Equivalence: Existing L1 code/tooling (Hardhat, Solc) works seamlessly on L2."
      }
    ]
  },
  {
    "id": 36,
    "title": "Cross-Chain Communication and Bridges üåâ",
    "icon": "Code",
    "subsections": [
      {
        "title": "Standard Bridges vs. Arbitrary Message Passing",
        "content": "Distinguishing between asset transfer and data transfer. Covers **Standard Bridges** (used for canonical asset transfers, e.g., transferring ETH/ERC-20). Details **Arbitrary Message Passing (AMP)**, which allows L1 and L2 contracts to send complex, arbitrary data payloads (function calls, governance votes) to each other.",
        "codeExample": "/* Cross-Chain Message Passing Goal (Conceptual) */\n// L1 Contract: Send message: 'DAO approved proposal X.'\n// L2 Contract: Execute: `if (message == approved) { executeProposal(); }`"
      },
      {
        "title": "Bridge Security and Risks",
        "content": "Analyzing the primary attack vector in multi-chain DeFi. Covers **Bridge Vulnerabilities** (e.g., exploit of bridge logic, compromise of external relayers, or insufficient validation). Emphasizes the importance of using decentralized, established bridges (e.g., L2's native bridge) over centralized or experimental ones.",
        "codeExample": "/* Bridge Security Vulnerability (Conceptual) */\n// Centralized Bridge: Requires multi-sig signers to process withdrawals.\n// Attack: If 3 of 5 keys are compromised, assets can be stolen."
      },
      {
        "title": "Relayers and Off-Chain Validation",
        "content": "The external infrastructure required for cross-chain communication. Covers the role of **Relayers** (off-chain actors) who monitor events on the source chain (L1) and submit the proof/data to the destination chain (L2) to complete the transaction. Details the incentive structure (relayers are paid a fee) and the need for decentralized relayer networks to prevent censorship.",
        "codeExample": "/* Relayer Role (Conceptual) */\n// 1. L1 Contract emits: `MessageSent(payload)`\n// 2. Relayer sees the event, calculates the proof/merkle root.\n// 3. Relayer sends an L2 transaction: `L2Bridge.proveAndExecute(proof, payload)`"
      },
      {
        "title": "Interoperability Standards and IBC (Conceptual)",
        "content": "Exploring future communication standards. Covers the potential for protocols like the **Inter-Blockchain Communication Protocol (IBC)** (currently used by Cosmos) to enable trustless, asynchronous communication between different EVM-compatible chains, facilitating a truly composable multi-chain ecosystem.",
        "codeExample": "/* IBC Principle (Conceptual) */\n// A highly generalized standard for sending messages and verifying state across heterogeneous blockchains."
      },
      {
        "title": "Withdrawal Finality and Challenge Periods",
        "content": "Managing delays in optimistic rollups. Covers monitoring the **Challenge Window** (e.g., 7 days) required for funds to move from L2 back to L1. Details integrating frontend logic to communicate this mandatory delay clearly to the user and managing the necessary time-locks for L2 assets.",
        "codeExample": "/* Frontend Withdrawal Logic */\n// function initiateWithdraw() { ... }\n\n// function checkFinality() {\n//   const currentTime = Date.now();\n//   const finalityTime = withdrawalTime + 7 days;\n//   if (currentTime >= finalityTime) {\n//     claimFunds();\n//   } else {\n//     display(\"Funds claimable in \" + (finalityTime - currentTime));\n//   }\n// }"
      },
      {
        "title": "Canonical vs. Bridged Tokens",
        "content": "Understanding token origins. Covers **Canonical Tokens** (the original, native asset on L1). Details **Bridged Tokens** (the wrapped version of an L1 token, minted on L2 by the bridge contract). **CRITICAL NOTE:** Only the canonical version is secure; the value of the bridged token relies entirely on the security of the bridge contract.",
        "codeExample": "/* Token Security */\n// L1: ETH (Canonical, Trustless)\n// L2: WETH (Bridged, Trust relies on L1 Bridge code)"
      },
      {
        "title": "L2 Fee Abstraction",
        "content": "Improving L2 UX. Covers the concept of **Fee Abstraction**, where L2 users can pay transaction fees in ERC-20 tokens (e.g., DAI) instead of the native L2 gas token (e.g., ETH on Arbitrum/Optimism). This requires a relayer to swap the ERC-20 for ETH to pay the gas.",
        "codeExample": "/* Fee Abstraction Flow (Conceptual) */\n// User signs transaction approving fee payment in DAI.\n// Relayer executes transaction, paying ETH gas, and deducting DAI from the user."
      },
      {
        "title": "Inter-Rollup Communication",
        "content": "Communication between different L2 chains (e.g., Optimism to Arbitrum). Covers protocols and specialized bridge designs required to securely transmit messages or assets between two separate rollup environments, which is currently a complex and evolving field.",
        "codeExample": "/* Rollup-to-Rollup Communication */\n// Requires a specialized messenger contract to verify both L2 state roots on L1."
      }
    ]
  },
  {
    "id": 37,
    "title": "Decentralized Storage (IPFS, Arweave) üíæ",
    "icon": "List",
    "subsections": [
      {
        "title": "IPFS (InterPlanetary File System) and CIDs",
        "content": "Mastering the file storage protocol. Covers **Content Addressing**‚Äîfiles are addressed by their unique content hash (the **CID**), ensuring immutability. Details using **IPFS Gateways** (e.g., Cloudflare, Infura) to retrieve files via standard HTTP, bridging the decentralized storage to the traditional web browser.",
        "codeExample": "/* IPFS CID Usage */\n// IPFS CID (Content ID) example:\n// QmXoypizjW3W5frtU4Yg3B7rW5n4WbYfR3qV5c1T92F\n\n// Frontend Retrieval URL:\nconst url = `https://ipfs.io/ipfs/${CID}`;"
      },
      {
        "title": "Pinning Services and Data Availability",
        "content": "Ensuring IPFS data remains accessible. Covers the necessity of **Pinning**‚Äîactively hosting a file on an IPFS node (or service like Pinata/Web3.Storage) to prevent it from being garbage-collected (deleted) by other nodes. Details choosing a reliable pinning strategy for mission-critical dApp assets and NFT metadata.",
        "codeExample": "/* Pinata API Call (Conceptual) */\n// Uses a dedicated service to guarantee the file remains available\n// pinata.pinFileToIPFS(file, options);\n\n// Once pinned, the CID is used in the smart contract's tokenURI function."
      },
      {
        "title": "Arweave and Permanent Storage",
        "content": "Understanding **Arweave**, the permanent storage solution. Covers its unique **Proof-of-Access** consensus and its model of **pay-once, store-forever** (via endowment). Details its use case for storing critical, unchanging data (e.g., the base code for a contract, final NFT art files) where immutability and guaranteed availability are paramount.",
        "codeExample": "/* Arweave Data Retrieval (Conceptual) */\n// arweave.transactions.get('transaction_id')\n\n// Arweave Link Example:\n// https://arweave.net/[Transaction ID]"
      },
      {
        "title": "Storage Cost Comparison (IPFS vs. Arweave)",
        "content": "Analyzing economic costs. Covers how **IPFS** has no direct storage cost but requires continuous payment for pinning/hosting. **Arweave** requires a large upfront payment (based on current storage cost) but theoretically guarantees permanence, providing a valuable trade-off analysis for dApp developers.",
        "codeExample": "/* Storage Model Comparison */\n// IPFS: Pay for pinning (recurring fee) -> Data availability is probabilistic.\n// Arweave: Pay for data endowment (one-time fee) -> Data availability is economic incentive."
      },
      {
        "title": "Storing Dynamic Data Off-Chain (Databases)",
        "content": "Handling frequently changing data. Covers why traditional decentralized storage (IPFS/Arweave) is unsuitable for mutable state (e.g., user profiles, feed posts). Details integrating **Decentralized Databases** (e.g., Ceramic Network, The Graph) to manage mutable user data while maintaining decentralization and cryptographic security.",
        "codeExample": "/* Decentralized Database Flow (Conceptual) */\n// 1. User updates profile off-chain (Ceramic).\n// 2. User signs the update transaction with their wallet.\n// 3. The database stores the signed data (cryptographically verifiable).\n// 4. Smart Contract stores only the hash/pointer to the latest profile data."
      },
      {
        "title": "Decentralized Backend (D-App Backend)",
        "content": "Covers decentralized backend solutions (e.g., **Moralis, Supabase** alternatives) that provide APIs and database functionality while leveraging decentralized principles where possible. These tools help bridge the gap for dApps that require complex Web2 features without full centralization.",
        "codeExample": "/* D-Backend Role (Conceptual) */\n// Handling user login via SIWE/EIP-4361, providing structured data feeds, and managing off-chain caches."
      },
      {
        "title": "NFT Metadata Freezing",
        "content": "Guaranteeing the permanence of NFT metadata. Covers **Metadata Freezing** (or finalization), where the `tokenURI` is updated to point to a permanent, unchangeable storage location (IPFS/Arweave CID) and the base URI is disabled, preventing the creator from changing the asset's attributes after sale.",
        "codeExample": "/* Metadata Freezing Logic */\n// After freezing:\n// function setBaseURI(string memory newURI) public onlyOwner { revert(\"URI is frozen\"); }\n// tokenURI points to ipfs://[Final CID]"
      },
      {
        "title": "Content Hashing and Verifiability",
        "content": "Ensuring data integrity. Covers using the **cryptographic hash** of the content (e.g., SHA-256) and storing that hash on-chain. This allows anyone to verify that the off-chain data (retrieved via IPFS) has not been tampered with by hashing the downloaded content and comparing it to the on-chain hash.",
        "codeExample": "/* Content Verification */\n// Solidity: bytes32 public dataHash = 0x...;\n// Frontend: check(keccak256(downloadedContent) == dataHash)"
      }
    ]
  },
  {
    "id": 38,
    "title": "Oracles (Chainlink) and Off-Chain Data üì°",
    "icon": "Code",
    "subsections": [
      {
        "title": "The Oracle Problem and Trust Minimization",
        "content": "Defining the **Oracle Problem**‚Äîsmart contracts need external, real-world data (prices, events) but cannot access it natively. Covers **Oracles** as the solution and the central challenge of **Trust Minimization** (ensuring the data is provided reliably without a single point of failure).",
        "codeExample": "/* Oracle Problem Example */\n// Solidity Contract Logic:\n// if (ETH_USD_PRICE > 3000) { liquidate(); }\n\n// Problem: How does the contract securely and reliably obtain the ETH price?"
      },
      {
        "title": "Chainlink Data Feeds (Price Oracles)",
        "content": "Mastering the most common oracle solution. Covers **Chainlink Data Feeds** (price oracles), which aggregate data from multiple independent nodes and data sources (eliminating single points of failure) and store the median result in an on-chain contract. Essential for reliable DeFi protocols.",
        "codeExample": "/* Chainlink Price Feed Usage (Solidity) */\ninterface AggregatorV3Interface { ... }\n\ncontract PriceConsumer {\n¬† // Address of the ETH/USD price feed\n¬† AggregatorV3Interface internal priceFeed;\n¬† \n¬† function getLatestPrice() public view returns (int) {\n¬† ¬† // Returns the latest aggregated price\n¬† ¬† (uint80 roundId, int price, uint startedAt, uint timeStamp, uint80 answeredInRound) = priceFeed.latestRoundData();\n¬† ¬† return price; // Price is scaled by the feed's decimals\n¬† }\n}"
      },
      {
        "title": "Chainlink VRF (Verifiable Randomness)",
        "content": "Generating secure randomness for on-chain use (lotteries, NFTs, gaming). Covers the **Chainlink VRF (Verifiable Random Function)**, which provides cryptographically secure, tamper-proof random numbers, preventing miners or external actors from manipulating the random seed.",
        "codeExample": "/* Chainlink VRF Request (Solidity) */\n// Contract requests randomness from the VRF coordinator contract\nfunction requestRandomWords() external onlyOwner returns (uint256 requestId) {\n¬† // ... sends request to coordinator\n}\n\n// Callback function that receives the random number\nfunction fulfillRandomWords(\n¬† uint256 requestId, uint256[] memory randomWords\n) internal override { myRandomNumber = randomWords[0]; }"
      },
      {
        "title": "Keepers (Automation) and Scheduled Tasks",
        "content": "Automating smart contract functions. Covers using **Chainlink Keepers** (or similar automation bots) to securely trigger contract functions based on pre-defined conditions (e.g., time intervals, minimum collateral levels). This eliminates the need for a centralized server to manage scheduled tasks or liquidations.",
        "codeExample": "/* Keeper Automation (Conceptual) */\n// Contract: Check if collateral ratio drops below 150%.\nfunction checkUpkeep(bytes calldata checkData) external view returns (bool upkeepNeeded, bytes memory performData) {\n¬† // If condition met (ratio < 150%), return true to indicate the Keeper should execute the next function.\n¬† upkeepNeeded = (getCurrentRatio() < 150);\n}"
      },
      {
        "title": "Custom Job Creation and External Adapters",
        "content": "Integrating custom, non-standard data. Covers creating **Chainlink External Adapters** (off-chain APIs) to fetch data from any traditional web API (e.g., flight data, sports scores) and securely transmit it on-chain via the Chainlink node network, enabling complex dApp functionality.",
        "codeExample": "/* Custom Job Flow (Conceptual) */\n// 1. Contract sends request to Chainlink Coordinator.\n// 2. Chainlink Node receives request.\n// 3. Node executes External Adapter (e.g., Python script) to call a sports API.\n// 4. Node sends the result back to the contract."
      },
      {
        "title": "Decentralized Compute and Storage (Conceptual)",
        "content": "Advanced off-chain processing. Covers using decentralized networks (like **IPFS** or specialized compute networks) in conjunction with Oracles to execute heavy, complex off-chain computation (e.g., machine learning models) and verify the result on-chain, bypassing EVM gas limits.",
        "codeExample": "/* Decentralized Compute Flow */\n// Contract sends request for compute job.\n// Compute network executes job and returns verifiable proof of execution/result."
      },
      {
        "title": "Time-Weighted Average Price (TWAP) Oracles",
        "content": "Mitigating front-running in price feeds. Covers using **TWAP Oracles** (often derived from DEXs like Uniswap V2) which calculate the average asset price over a time period (e.g., 10 minutes). This prevents attackers from manipulating the price in a single block to exploit the contract.",
        "codeExample": "/* TWAP Rationale */\n// TWAP is inherently slower but highly resistant to single-block manipulation (front-running)."
      },
      {
        "title": "Manual vs. Automated Data Feeds",
        "content": "Comparing security models. Covers **Automated Feeds** (Chainlink, updated continuously by nodes) vs. **Manual/Owner Feeds** (where the owner periodically pushes data). Automated is preferred for trustlessness; manual is used for non-critical or highly proprietary data.",
        "codeExample": "/* Manual Feed Security Risk */\n// Reliance on a centralized multi-sig or single owner introduces a trust assumption."
      }
    ]
  },
  {
    "id": 39,
    "title": "Decentralized Finance (DeFi) Primitives üè¶",
    "icon": "Code",
    "subsections": [
      {
        "title": "DEXs (Decentralized Exchanges) and AMMs",
        "content": "Understanding the core of DeFi. Covers **DEXs** (e.g., Uniswap, SushiSwap) and the **AMM (Automated Market Maker)** model, which replaces traditional order books with liquidity pools. Details the constant product formula ($x \cdot y = k$) that governs price discovery in these pools and the concept of **Impermanent Loss** for liquidity providers.",
        "codeExample": "/* AMM Price Formula (Conceptual) */\n// Price is the ratio of tokens in the pool\n// tokenA_price = tokenB_reserve / tokenA_reserve\n\n// Uniswap V2 Constant Product Formula (Simplified)\nfunction swap(uint256 amountIn) public returns (uint256 amountOut) {\n¬† // ... price calculation logic\n¬† require(balanceA * balanceB == k, \"Invariant check failed\");\n}"
      },
      {
        "title": "Yield Farming and Staking",
        "content": "Incentive mechanisms for liquidity. Covers **Yield Farming** (earning rewards by providing liquidity or locking assets). Details **Staking** (locking native tokens to secure the network or earn governance rights) and the role of **Staking Rewards Contracts** (distributing newly minted tokens or fees to stakers).",
        "codeExample": "/* Staking Reward Distribution (Conceptual) */\n// Reward = (user_staked_balance / total_staked_balance) * total_rewards_emitted\n\nfunction claimRewards() external {\n¬† uint256 accruedRewards = calculate(msg.sender); \n¬† rewardsToken.transfer(msg.sender, accruedRewards);\n¬† // Reset user's reward calculation pointer\n}"
      },
      {
        "title": "Flash Loans and Arbitrage",
        "content": "Advanced risk vectors and opportunities. Covers **Flash Loans**‚Äîuncollateralized loans that must be repaid within the same atomic transaction (a single block). Details how these loans are used in **Arbitrage** (exploiting temporary price differences across DEXs) or used in complex **Attack Vectors** (e.g., manipulating token price oracles).",
        "codeExample": "/* Flash Loan Execution (Conceptual) */\n// 1. User borrows 1,000,000 DAI from Aave V3\n// 2. EXECUTION: User performs swap/arbitrage/attack\n// 3. REPAYMENT: User repays 1,000,000 DAI + fee\n// 4. If repayment fails, the entire transaction is reverted, protecting the lender."
      },
      {
        "title": "Lending and Borrowing Protocols",
        "content": "Protocols that pool assets for lending. Covers the mechanism where users **Deposit** (lenders) tokens to earn yield, and others **Borrow** (debtors) by providing collateral (over-collateralized loans). Details concepts like **Utilization Rate** (influencing interest rates) and **Liquidation** (selling collateral if the debt-to-collateral ratio becomes unsafe).",
        "codeExample": "/* Liquidation Check (Conceptual) */\nfunction checkLiquidation(address borrower) public view returns (bool) {\n¬† uint256 collateralValue = getCollateralValue(borrower);\n¬† uint256 debtValue = getDebtValue(borrower);\n¬† // If debt is > 75% of collateral (example ratio)\n¬† if (debtValue * 100 > collateralValue * 75) {\n¬† ¬† return true; // Eligible for liquidation\n¬† }\n¬† return false;\n}"
      },
      {
        "title": "Multi-Asset Vaults and Strategies",
        "content": "Implementing complex yield generation. Covers **Vault Contracts** (which pool user funds) and **Strategy Contracts** (which define how the funds are invested/farmed across different DeFi protocols). Details the necessary security checks (e.g., whitelisting allowed strategies) and the complexity of calculating the final APY (Annual Percentage Yield).",
        "codeExample": "/* Vault Interaction (Conceptual) */\n// Vault acts as the safe intermediary\ncontract Vault {\n¬† address public strategyContract;\n¬† \n¬† function deposit(uint256 amount) external {\n¬† ¬† // User sends funds to Vault\n¬† ¬† // Vault delegates investment to the Strategy\n¬† ¬† IStrategy(strategyContract).deposit(amount);\n¬† }\n}"
      },
      {
        "title": "Stablecoins (Collateralized vs. Algorithmic)",
        "content": "Understanding currency stability on-chain. Covers **Collateralized Stablecoins** (e.g., DAI, USDC) backed by crypto or fiat assets. Details **Algorithmic Stablecoins** (e.g., former UST model) which rely on supply/demand mechanisms governed by smart contracts. **CRITICAL NOTE:** Algorithmic stability is highly complex and risky.",
        "codeExample": "/* Collateralized Stablecoin Principle */\n// 1. User locks $1.50 worth of ETH (collateral).\n// 2. Protocol mints $1.00 of Stablecoin.\n// (Over-collateralization ensures stability)"
      },
      {
        "title": "DEX Aggregation and Slippage",
        "content": "Optimizing trade execution. Covers **DEX Aggregators** (e.g., 1inch) which automatically route a trade across multiple DEXs to find the best possible price. Details **Slippage**‚Äîthe difference between the expected price and the executed price‚Äîand setting maximum slippage limits in smart contracts to prevent losses.",
        "codeExample": "/* Slippage Check (Solidity) */\nfunction swap(uint256 amountIn, uint256 minAmountOut) public {\n  uint256 amountReceived = performSwap(amountIn);\n  // Revert if the actual received amount is less than the minimum tolerated amount\n  require(amountReceived >= minAmountOut, \"Slippage tolerance exceeded.\");\n}"
      },
      {
        "title": "Liquid Staking and Derivatives",
        "content": "Improving capital efficiency. Covers **Liquid Staking** (e.g., Lido), where users stake ETH and receive a liquid staking derivative token (e.g., stETH) in return. This token represents the staked ETH plus yield and can be used in other DeFi protocols (e.g., as collateral), increasing capital efficiency.",
        "codeExample": "/* Liquid Staking Principle */\n// 1. User sends 1 ETH to Lido contract.\n// 2. User receives 1 stETH token.\n// 3. stETH can be traded or used as collateral."
      }
    ]
  },
  {
    "id": 40,
    "title": "Decentralized Autonomous Organizations (DAOs) üó≥Ô∏è",
    "icon": "Code",
    "subsections": [
      {
        "title": "DAO Structure and Governance Tokens",
        "content": "Understanding the structure of an organization run by code. Covers the role of the **Governance Token** (e.g., UNI, AAVE)‚Äîusers' voting power is tied to their token balance. Details the three core components: **Token** (voting power), **Timelock** (execution delay), and **Governor** (voting logic).",
        "codeExample": "/* Governance Token Voting Power (Conceptual) */\n// Voting power is tied to the amount of tokens held.\nfunction getVotes(address user) public view returns (uint256) {\n¬† return token.balanceOf(user);\n}"
      },
      {
        "title": "Proposal Lifecycle and Voting",
        "content": "The process of making decisions. Covers the phases: **Proposal Submission** (must meet minimum token threshold), **Voting Period** (e.g., 5 days), **Quorum Check** (minimum number of YES votes required), and **Execution** (if passed). Details using the **`Governor`** contract (OpenZeppelin) to manage this logic.",
        "codeExample": "/* Proposal Submission Logic */\nfunction propose(\n¬† address[] memory targets,\n¬† uint256[] memory values,\n¬† bytes[] memory calldatas,\n¬† string memory description\n) public returns (uint256 proposalId) {\n¬† // Checks: min token hold, proposal length\n¬† // ...\n}"
      },
      {
        "title": "The Timelock Mechanism (Execution Delay)",
        "content": "Securing the DAO's treasury and critical functions. Covers the **Timelock Controller** pattern, which forces passed proposals to wait for a mandatory delay (e.g., 48 hours) before they can be executed. This delay gives users time to react or exit if a malicious proposal is passed, acting as a final line of defense.",
        "codeExample": "/* Timelock Execution Principle */\n// 1. Proposal is voted on and passes.\n// 2. Proposal is sent to Timelock (scheduled for 48 hours later).\n// 3. After 48 hours, the Governor can execute the payload."
      },
      {
        "title": "Off-Chain Voting (Snapshot) and Gas Cost",
        "content": "Optimizing voting expense. Covers the pattern of conducting voting **Off-Chain** using platforms like **Snapshot**. Users sign a message with their wallet (no gas cost) to indicate their vote, and the result is recorded off-chain. The final execution is still triggered on-chain by a single transaction if the quorum is met.",
        "codeExample": "/* Off-Chain Voting Model (Conceptual) */\n// 1. Voting: User signs message with token balance (FREE).\n// 2. Quorum Check: Off-chain tool verifies signatures and token balances at the time of proposal creation.\n// 3. Execution: If verified, a single transaction executes the proposal on-chain."
      },
      {
        "title": "DAO Treasury and Fund Management",
        "content": "Managing the DAO's collective funds. Covers setting the DAO's **Timelock Contract** as the owner of the treasury contract, ensuring that funds can only be spent via a successful, time-delayed governance vote, preventing unilateral control by founders or malicious actors.",
        "codeExample": "/* DAO Treasury Ownership */\n// Treasury Contract is deployed.\n// Treasury.transferOwnership(TimelockContractAddress);\n\n// Any transfer of funds from the Treasury must pass through the Timelock."
      },
      {
        "title": "Voting Delegation and Meta-Governance",
        "content": "Increasing participation. Covers **Voting Delegation**, where token holders can assign their voting power to a trusted delegate who votes on their behalf. Details **Meta-Governance**‚Äîwhen a DAO votes on how to use its governance tokens in *another* DAO (e.g., a DAO using its UNI tokens to vote on Uniswap proposals).",
        "codeExample": "/* Delegation Function */\nfunction delegate(address delegatee) public {\n  // Token contract records the delegation and updates vote count\n  _delegate(msg.sender, delegatee);\n}"
      },
      {
        "title": "Executive vs. Advisory Proposals",
        "content": "Classifying proposal types. Covers **Executive Proposals** (direct actions that execute code on the blockchain after approval). Details **Advisory Proposals** (non-binding votes used to gauge community sentiment or decide on off-chain actions).",
        "codeExample": "/* Executive Proposal Execution */\n// If the proposal is executed, the Timelock performs a delegatecall to the specified target contract with the encoded calldata."
      },
      {
        "title": "Token Distinctions (ERC-20 vs. ERC-721 Voting)",
        "content": "Variations in voting power. Covers the standard model (ERC-20 balance = 1 vote). Details **NFT Governance** (ERC-721), where voting power may be based on the number of NFTs held or the specific traits/rarity of the held NFT.",
        "codeExample": "/* NFT Governance Voting (Conceptual) */\nfunction getVotes(address user) public view returns (uint256) {\n  // Voting power is the number of NFTs owned\n  return nftContract.balanceOf(user);\n}"
      }
    ]
  },
  {
    "id": 41,
    "title": "Identity (ENS) and Account Abstraction üÜî",
    "icon": "Code",
    "subsections": [
      {
        "title": "ENS Resolution and Reverse Resolution",
        "content": "Integrating **Ethereum Name Service (ENS)** for human-readable addresses. Covers using `provider.resolveName('name.eth')` to get the address and `provider.lookupAddress(address)` for the reverse lookup. Essential for improving UX by replacing complex 0x addresses.",
        "codeExample": "/* ENS Resolution (Ethers.js) */\nasync function resolveENS(provider, name) {\n¬† const address = await provider.resolveName(name);\n¬† return address;\n}"
      },
      {
        "title": "EIP-4337 and Account Abstraction (AA)",
        "content": "Understanding the future of accounts. Covers **EIP-4337 (Account Abstraction)**, which allows smart contract wallets to function just like EOAs, enabling customizable security models (e.g., multi-factor auth) and gas payment via ERC-20 tokens, dramatically improving usability.",
        "codeExample": "/* AA Principle (Conceptual) */\n// Today: EOA (Private Key) -> Transaction\n// Future: Smart Contract Wallet -> User Operation (Signed) -> Transaction"
      },
      {
        "title": "Sign-In with Ethereum (SIWE)",
        "content": "The standardized protocol for dApp authentication. Covers **SIWE (EIP-4361)**, where a user signs a structured, human-readable message specifying the domain and nonce. This proves ownership of the address without requiring a password, serving as the basis for dApp login.",
        "codeExample": "/* SIWE Message Structure (Simplified) */\n// Message includes:\n// 1. The domain the user is signing into.\n// 2. The address making the request.\n// 3. A unique nonce (preventing replay attacks)."
      },
      {
        "title": "ENS Text Records and External Data",
        "content": "Using ENS for decentralized identity profiles. Covers setting **ENS Text Records** (e.g., `avatar`, `email`, `url`) that allow users to store public metadata linked to their domain name, creating a standard, decentralized profile structure.",
        "codeExample": "/* Setting ENS Text Record (Conceptual) */\n// web3.eth.ens.setText('myname.eth', 'email', 'alice@email.com');\n\n// Frontend Query:\n// const email = await ens.getText('myname.eth', 'email');"
      },
      {
        "title": "Multi-Factor Authentication (Smart Wallets)",
        "content": "Implementing advanced security using AA. Covers how **Smart Wallets** (contract accounts) can implement **Multi-Factor Authentication** or **Social Recovery** (allowing trusted friends to help recover a lost key), moving past the single point of failure risk inherent in EOA private keys.",
        "codeExample": "/* Smart Wallet Logic (Conceptual) */\nfunction executeTransaction(signature) external {\n¬† // Logic checks if the signature is valid AND\n¬† // checks if it was signed by 2 out of 3 trusted key holders (2FA/MultiSig)\n¬† require(isValidMultiSig(signature), \"Multi-sig failed.\");\n¬† // Execute payload...\n}"
      },
      {
        "title": "ERC-6551 (Token Bound Accounts)",
        "content": "Advanced NFT ownership. Covers **EIP-6551 (Token Bound Accounts)**, which gives every NFT its own unique smart contract wallet. This allows an NFT to own assets, accrue yield, and interact with dApps, transforming it into a full digital identity.",
        "codeExample": "/* TBA Principle */\n// My NFT (ERC-721) now owns 5 ERC-20 tokens and 1 other NFT."
      },
      {
        "title": "Gas Payment Abstraction",
        "content": "Decoupling transaction fees. Covers the AA feature of allowing the **Gas Fee** to be paid by a **Paymaster** contract instead of the user's ETH balance. This enables dApps to sponsor gas for new users or accept fees in ERC-20 tokens.",
        "codeExample": "/* Paymaster Flow */\n// User signs UserOperation.\n// Paymaster Contract pays the ETH gas fee on behalf of the user."
      },
      {
        "title": "Smart Account Implementation (Gnosis Safe)",
        "content": "Using established AA solutions. Covers deploying and managing multi-signature smart contract wallets like **Gnosis Safe**, which function as sophisticated contract accounts with custom security policies and recovery options.",
        "codeExample": "/* Gnosis Safe Feature */\n// Requires a minimum of 2 out of 3 owners to approve any transaction."
      }
    ]
  },
  {
    "id": 42,
    "title": "MEV (Maximal Extractable Value) Mitigation üòà",
    "icon": "Code",
    "subsections": [
      {
        "title": "MEV Definition and Impact",
        "content": "Understanding the profit mechanism. Covers **Maximal Extractable Value (MEV)**‚Äîthe profit that validators/miners can gain by exploiting their ability to arbitrarily include, exclude, or reorder transactions within a block. MEV often occurs through **arbitrage, liquidations, and front-running**.",
        "codeExample": "/* MEV Source Example */\n// A large pending swap transaction is seen in the mempool.\n// Validator inserts their own transaction immediately before the swap to buy the asset cheap, then immediately after to sell it high."
      },
      {
        "title": "Front-Running Mitigation",
        "content": "Protecting transactions from being exploited. Covers on-chain techniques: using a **commit-reveal scheme** (sending a hashed commitment first, then the data later) and setting **Slippage Limits** in DeFi transactions to cap potential losses.",
        "codeExample": "/* Slippage Mitigation */\n// User sets max acceptable slippage at 0.5%.\n// If the price moves more than 0.5% during execution, the transaction reverts."
      },
      {
        "title": "MEV and Decentralized Exchanges (DEXs)",
        "content": "The primary target of MEV. Covers how AMMs are vulnerable to MEV through **Sandwich Attacks** (front-running a user's buy and back-running it with a sell). Mitigation involves protocols like Uniswap V3 limiting the profit available from small reorders.",
        "codeExample": "/* Sandwich Attack Flow (Conceptual) */\n// 1. Attacker sees Victim's large BUY order pending.\n// 2. Attacker submits a smaller BUY (Front-run).\n// 3. Victim's large BUY executes (Price spikes).\n// 4. Attacker submits a SELL (Back-run) for profit."
      },
      {
        "title": "Flashbots and Private Transaction Relays",
        "content": "Off-chain mitigation. Covers **Flashbots** (a relay network) that allows users to send transactions directly to validators without exposing them to the public mempool. This eliminates the visibility that allows front-running, making transactions private and safe.",
        "codeExample": "/* Flashbots Principle */\n// Transaction is sent via a secure, private channel.\n// Validator includes the transaction privately without exposing it to the public mempool."
      },
      {
        "title": "Decentralized Sequencers and L2 MEV",
        "content": "MEV in Layer 2s. Covers the risk of MEV on L2s, where the **Sequencer** can exploit its ability to order transactions. Mitigation involves efforts to **Decentralize the Sequencer** and enforce fair transaction ordering.",
        "codeExample": "/* L2 Sequencer MEV Risk */\n// A centralized L2 sequencer could engage in front-running or censorship before submitting the batch to L1."
      }
    ]
  },
  {
    "id": 43,
    "title": "Token Vesting and Time-Locked Contracts ‚è∞",
    "icon": "Code",
    "subsections": [
      {
        "title": "Vesting Contract Principles",
        "content": "Implementing delayed token distribution. Covers **Vesting Contracts** used to lock tokens for founders, teams, or investors, releasing them according to a predetermined schedule (e.g., 4-year vest with 1-year cliff). This mitigates immediate sell pressure.",
        "codeExample": "/* Vesting Schedule Parameters */\n// 1. Total Amount: Total tokens to be vested.\n// 2. Start Time: Date vesting begins.\n// 3. Cliff Time: Date when the first chunk of tokens is available.\n// 4. Duration: Total vesting time."
      },
      {
        "title": "Time-Locked Contracts (`TimelockController`)",
        "content": "Adding mandatory delays to execution. Covers the **`TimelockController`** pattern (OpenZeppelin) used to hold critical contract privileges (e.g., DAO treasury control) and enforce a minimum waiting period before any submitted transaction can be executed.",
        "codeExample": "/* Timelock Security Rationale */\n// If a malicious action is scheduled, the community has the delay period (e.g., 48h) to detect and intervene."
      },
      {
        "title": "Cliff and Linear Release Schedules",
        "content": "The two primary vesting models. Covers the **Cliff Period** (no tokens released until this date). Details **Linear Vesting** (tokens released continuously or in regular intervals over the duration after the cliff).",
        "codeExample": "/* Linear Vesting Calculation (Conceptual) */\n// Released Amount = Total Amount * (Time Elapsed Since Cliff / Total Duration)"
      },
      {
        "title": "Vesting Revocation",
        "content": "Implementing the ability to stop vesting. Covers adding a mechanism to **Revoke** the vesting schedule (e.g., if a team member leaves the company). This requires the contract to transfer the unvested portion back to the owner/treasury.",
        "codeExample": "/* Vesting Revocation */\nfunction revoke() public onlyOwner {\n  // Transfers all remaining UNVESTED tokens back to the owner\n  uint256 unvested = getTotalAmount() - getVestedAmount();\n  token.transfer(owner, unvested);\n  // Stops future vesting\n}"
      },
      {
        "title": "Vesting Delegation and Transferable Rights",
        "content": "Advanced token management. Covers tokenizing the **Vesting Rights** (representing the future claim as a separate NFT). This allows the holder to sell their future token claim immediately without compromising the vesting schedule.",
        "codeExample": "/* Vesting NFT Principle */\n// An NFT is minted that represents the right to claim vested tokens."
      }
    ]
  },
  {
    "id": 44,
    "title": "Flash Loans and Economic Attacks üí£",
    "icon": "Code",
    "subsections": [
      {
        "title": "Flash Loan Mechanics and Atomicity",
        "content": "The core primitive of DeFi composability. Covers **Flash Loans**‚Äîuncollateralized loans where the borrowing, usage, and repayment must occur within a **single atomic transaction** (the same EVM execution block). Explains that if the repayment fails, the entire transaction is reverted.",
        "codeExample": "/* Flash Loan Execution Flow */\n// 1. Borrower receives 1,000,000 DAI\n// 2. Borrower executes complex trade logic\n// 3. Borrower repays 1,000,000 DAI + fee\n// 4. Success? -> Commit. Failure? -> Revert all state."
      },
      {
        "title": "Oracle Manipulation Attacks",
        "content": "Exploiting vulnerable price feeds. Covers using a Flash Loan to temporarily manipulate the price of a low-liquidity token on a single DEX, tricking a vulnerable contract (relying on that single DEX as its price oracle) into allowing a large, profitable trade or liquidation.",
        "codeExample": "/* Oracle Attack Mitigation */\n// Contracts should use decentralized, time-weighted, multi-source oracles (Chainlink TWAP) instead of single-source DEX prices."
      },
      {
        "title": "Economic Arbitrage vs. Attack",
        "content": "Distinguishing between exploitation types. Covers **Economic Arbitrage** (exploiting natural market inefficiencies, beneficial to the market). Details **Economic Attacks** (exploiting a design flaw in a smart contract for undue gain, often using a Flash Loan to supply capital).",
        "codeExample": "/* Attack vs. Arbitrage */\n// Arbitrage: Buy ETH for $1000 on DEX A, Sell for $1001 on DEX B.\n// Attack: Use loan to trick lending protocol into believing collateral is worth $100M."
      },
      {
        "title": "Prevention: Trustless Oracles and Sanity Checks",
        "content": "Defensive coding against flash loans. Covers using **Decentralized Oracles** (Chainlink) for all price-sensitive logic. Implementing **Sanity Checks** (e.g., checking that the price has not changed by more than 1% in the current block) and implementing protocol-specific safeguards (e.g., Aave's specific flash loan fee structure).",
        "codeExample": "/* Sanity Check Example */\nfunction isPriceSane(uint256 currentPrice, uint256 referencePrice) public view returns (bool) {\n  // Check if price deviation is within 1% tolerance\n  return currentPrice <= referencePrice * 101 / 100;\n}"
      },
      {
        "title": "Flashbots and Transaction Bundles",
        "content": "Using off-chain services to prevent exploitation. Covers using **Flashbots** to submit a transaction bundle (e.g., Loan -> Swap -> Repay) atomically, ensuring the entire operation succeeds or fails privately, preventing others from exploiting the intermediate steps via MEV.",
        "codeExample": "/* Flashbots Bundle */\n// Bundle is a group of ordered transactions submitted privately.\n// Validator includes the bundle only if the entire sequence is valid and profitable for the validator."
      }
    ]
  },
  {
    "id": 45,
    "title": "Data Indexing (The Graph) and Subgraphs üîé",
    "icon": "List",
    "subsections": [
      {
        "title": "The Indexing Problem and Subgraphs",
        "content": "Solving the challenge of querying blockchain data. Covers why directly querying node RPCs is slow and impractical for historical/aggregated data. Introduces **The Graph Protocol** and **Subgraphs**‚Äîopen APIs that process and index blockchain events into a queryable GraphQL schema.",
        "codeExample": "/* Subgraph Role (Conceptual) */\n// The Graph Node consumes EVM logs (Events)\n// -> Maps events to entities based on user-defined schema\n// -> Stores structured data in PostgreSQL\n// -> Exposes a fast GraphQL API."
      },
      {
        "title": "Subgraph Schema and Entities",
        "content": "Designing the data model for indexing. Covers defining the **GraphQL Schema** for the subgraph, specifying **Entities** (types that represent objects like `User`, `Token`, `Transaction`) and their fields. Entities are typically indexed by the contract address and a unique ID (e.g., token ID).",
        "codeExample": "/* Subgraph Schema Snippet (GraphQL) */\ntype Token @entity {\n  id: ID! # Token ID\n  owner: User!\n  uri: String\n  price: BigInt!\n  createdAtTimestamp: BigInt!\n}\n\ntype User @entity {\n  id: ID! # User Address\n  tokens: [Token!] @derivedFrom(field: \"owner\")\n}"
      },
      {
        "title": "Mapping Handlers (Event Processing)",
        "content": "The core logic of the subgraph. Covers writing **Mapping Handlers** (TypeScript functions) that are executed whenever a specific **Contract Event** is detected. These handlers contain the logic to create, load, update, or delete entities in the subgraph's database.",
        "codeExample": "/* Mapping Handler (TypeScript) */\n// Triggered on ERC-721 Transfer event\nexport function handleTransfer(event: Transfer): void {\n  let token = Token.load(event.params.tokenId.toString());\n  let user = User.load(event.params.to.toHexString());\n  \n  if (token) {\n    // Update the owner field of the token entity\n    token.owner = user.id;\n    token.save();\n  }\n}"
      },
      {
        "title": "GraphQL Queries in Frontend",
        "content": "Consuming the indexed data in a dApp. Covers using standard **GraphQL client libraries** (Apollo, Urql) to query the subgraph's endpoint. Enables complex filtering, sorting, and pagination on historical blockchain data that would be impossible with RPC calls alone.",
        "codeExample": "/* Frontend GraphQL Query */\nconst GET_USER_NFTS = `\n  query getUserNfts($owner: ID!) {\n    user(id: $owner) {\n      tokens {\n        id\n        uri\n      }\n    }\n  }\n`;"
      },
      {
        "title": "Decentralized Indexing and Curators (Conceptual)",
        "content": "Understanding The Graph's economics. Covers the decentralized roles: **Indexers** (run the GraphQL nodes and stake GRT), **Curators** (signal which subgraphs are important), and **Delegators** (stake GRT to Indexers). This ensures the indexing layer is decentralized and economically sound.",
        "codeExample": "/* The Graph Roles (Conceptual) */\n// Indexer: Provides computing power for querying.\n// Curator: Provides signaling/quality control for data."
      },
      {
        "title": "Skipping/Filtering Blocks and Reorgs",
        "content": "Handling blockchain instability. Covers writing subgraph handlers to manage **Reorgs** (temporary chain splits) and filtering blocks by timestamp. The subgraph automatically handles the complexity of undoing and re-applying transactions when a reorg occurs.",
        "codeExample": "/* Reorg Handling (Conceptual) */\n// Subgraph detects a reorg, reverts entities to a previous block state, and re-processes events from the correct chain fork."
      },
      {
        "title": "Derived Fields and Aggregation",
        "content": "Advanced data modeling. Covers using **Derived Fields** (`@derivedFrom`) to create virtual relationships between entities and aggregating large amounts of historical data (e.g., computing a user's total token volume) within the subgraph and making it instantly queryable.",
        "codeExample": "/* Derived Field Usage (GraphQL) */\n// The 'tokens' field is derived from the 'owner' field of the Token entity, simplifying the relationship."
      },
      {
        "title": "Web3 Data Providers (Alchemy/Moralis Alternatives)",
        "content": "Exploring alternatives to The Graph. Covers specialized Web3 data APIs (e.g., Alchemy's Notify/Enhanced APIs, Moralis) that provide faster access to common data (NFT ownership, transaction history) for dApps where sub-second latency is critical, often sacrificing some level of decentralization.",
        "codeExample": "/* Data API Usage (Conceptual) */\n// Alchemy API: getNFTsForOwner(address) -> Instant retrieval of all tokens owned by an address."
      }
    ]
  }
]
  }
};

function App() {
  const [selectedBook, setSelectedBook] = useState(null);
  const [selectedUnit, setSelectedUnit] = useState(null);
  const [expandedSubsection, setExpandedSubsection] = useState(null);
  const [darkMode, setDarkMode] = useState(false);
  const [searchQuery, setSearchQuery] = useState('');
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const [expandedBooks, setExpandedBooks] = useState({});

  useEffect(() => {
    document.body.style.backgroundColor = darkMode ? '#0f172a' : '#f8fafc';
    document.body.style.margin = '0';
  }, [darkMode]);

  const toggleBook = (bookId) => {
    setExpandedBooks(prev => ({
      ...prev,
      [bookId]: !prev[bookId]
    }));
  };

  const handleUnitSelect = (book, unit) => {
    setSelectedBook(book);
    setSelectedUnit(unit);
    setExpandedSubsection(null);
    if (window.innerWidth <= 768) {
      setSidebarOpen(false);
    }
  };

  const filteredBooks = Object.values(booksData).filter(book =>
    book.title.toLowerCase().includes(searchQuery.toLowerCase())
  );

  return (
    <div className={`app ${darkMode ? 'dark' : 'light'}`}>
      <header className="header">
        <div className="header-left">
          <button onClick={() => setSidebarOpen(!sidebarOpen)} className="menu-btn">
            <Menu size={24} />
          </button>
          <BookOpen size={32} className="logo-icon" />
          <h1 className="title">Web Dev Academy</h1>
        </div>
        <button onClick={() => setDarkMode(!darkMode)} className="theme-btn">
          {darkMode ? <Sun size={20} /> : <Moon size={20} />}
        </button>
      </header>

      <div className="main-container">
        {sidebarOpen && (
          <aside className="sidebar">
            <div className="search-box">
              <Search size={18} />
              <input
                type="text"
                placeholder="Search books..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
              />
            </div>

            <div className="books-section">
              <h2 className="section-title">Learning Paths</h2>
              
              {filteredBooks.map(book => {
                const IconComponent = book.icon;
                const isExpanded = expandedBooks[book.id];
                
                return (
                  <div key={book.id} className="book-item">
                    <div
                      onClick={() => toggleBook(book.id)}
                      className="book-header"
                      style={{ borderLeftColor: book.color }}
                    >
                      <IconComponent size={22} style={{ color: book.color }} />
                      <div className="book-info">
                        <div className="book-title">{book.title}</div>
                        <div className="book-desc">{book.description}</div>
                      </div>
                      {isExpanded ? <ChevronDown size={18} /> : <ChevronRight size={18} />}
                    </div>

                    {isExpanded && (
                      <div className="units-list">
                        {book.units.map(unit => {
                          const UnitIcon = unit.icon;
                          const isActive = selectedBook?.id === book.id && selectedUnit?.id === unit.id;
                          
                          return (
                            <div
                              key={unit.id}
                              onClick={() => handleUnitSelect(book, unit)}
                              className={`unit-item ${isActive ? 'active' : ''}`}
                              style={isActive ? { 
                                borderLeftColor: book.color,
                                background: `${book.color}15`
                              } : {}}
                            >
                              <UnitIcon size={18} style={{ 
                                color: isActive ? book.color : undefined 
                              }} />
                              <span style={isActive ? { color: book.color } : {}}>
                                {unit.title}
                              </span>
                            </div>
                          );
                        })}
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          </aside>
        )}

        <main className="content">
          {!selectedUnit ? (
            <div className="welcome">
              <div className="welcome-card">
                <div className="icon-wrapper">
                  <BookOpen size={64} />
                </div>
                <h1>Welcome to Web Dev Academy</h1>
                <p>Your comprehensive guide to modern web development. Select a book from the sidebar to start learning.</p>
                <div className="features">
                  <div className="feature">
                    <Code size={32} />
                    <div className="feature-label">Code Examples</div>
                  </div>
                  <div className="feature">
                    <Layout size={32} />
                    <div className="feature-label">Structured</div>
                  </div>
                  <div className="feature">
                    <Zap size={32} />
                    <div className="feature-label">Modern</div>
                  </div>
                </div>
              </div>
            </div>
          ) : (
            <div className="lesson">
              <div className="breadcrumb">
                <span>{selectedBook.title}</span>
                <ChevronRight size={16} />
                <span style={{ color: selectedBook.color }}>{selectedUnit.title}</span>
              </div>

              <div className="lesson-header" style={{ 
                borderLeftColor: selectedBook.color,
                background: `linear-gradient(135deg, ${selectedBook.color}15, ${selectedBook.color}05)`
              }}>
                <h1>{selectedUnit.title}</h1>
              </div>

              <div className="subsections">
                {selectedUnit.subsections.map((subsection, index) => (
                  <div key={index} className="subsection">
                    <div
                      onClick={() => setExpandedSubsection(expandedSubsection === index ? null : index)}
                      className="subsection-header"
                    >
                      <h2>{subsection.title}</h2>
                      {expandedSubsection === index ? 
                        <ChevronDown size={24} style={{ color: selectedBook.color }} /> : 
                        <ChevronRight size={24} />
                      }
                    </div>

                    {expandedSubsection === index && (
                      <div className="subsection-content">
                        <p>{subsection.content}</p>

                        {subsection.codeExample && (
                          <div className="code-block">
                            <div className="code-header">
                              <Code size={16} style={{ color: selectedBook.color }} />
                              <span>Code Example</span>
                            </div>
                            <pre>
                              <code>{subsection.codeExample}</code>
                            </pre>
                          </div>
                        )}
                      </div>
                    )}
                  </div>
                ))}
              </div>
            </div>
          )}
        </main>
      </div>

      <style>{`
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
        }

        .app {
          min-height: 100vh;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          transition: all 0.3s ease;
        }

        .app.light {
          --bg-primary: #f8fafc;
          --bg-secondary: #ffffff;
          --bg-tertiary: #f1f5f9;
          --bg-hover: #e2e8f0;
          --text-primary: #1e293b;
          --text-secondary: #64748b;
          --text-muted: #94a3b8;
          --border: #e2e8f0;
          --shadow: rgba(0, 0, 0, 0.1);
          --code-bg: #1e293b;
        }

        .app.dark {
          --bg-primary: #0f172a;
          --bg-secondary: #1e293b;
          --bg-tertiary: #334155;
          --bg-hover: #475569;
          --text-primary: #f1f5f9;
          --text-secondary: #cbd5e1;
          --text-muted: #94a3b8;
          --border: #334155;
          --shadow: rgba(0, 0, 0, 0.3);
          --code-bg: #0f172a;
        }

        .header {
          position: sticky;
          top: 0;
          z-index: 100;
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border);
          box-shadow: 0 1px 3px var(--shadow);
          padding: 1rem 2rem;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .header-left {
          display: flex;
          align-items: center;
          gap: 1rem;
        }

        .menu-btn, .theme-btn {
          background: var(--bg-tertiary);
          border: none;
          border-radius: 8px;
          padding: 0.5rem;
          cursor: pointer;
          display: flex;
          align-items: center;
          color: var(--text-primary);
          transition: all 0.2s;
        }

        .menu-btn:hover, .theme-btn:hover {
          background: var(--bg-hover);
          transform: scale(1.05);
        }

        .logo-icon {
          color: #3b82f6;
        }

        .title {
          font-size: 1.5rem;
          font-weight: 700;
          background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .main-container {
          display: flex;
          height: calc(100vh - 73px);
        }

        .sidebar {
          width: 320px;
          background: var(--bg-secondary);
          border-right: 1px solid var(--border);
          overflow-y: auto;
          padding: 1.5rem;
        }

        .search-box {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          background: var(--bg-tertiary);
          padding: 0.75rem 1rem;
          border-radius: 12px;
          margin-bottom: 1.5rem;
          border: 1px solid var(--border);
        }

        .search-box input {
          flex: 1;
          background: transparent;
          border: none;
          outline: none;
          font-size: 0.95rem;
          color: var(--text-primary);
        }

        .search-box input::placeholder {
          color: var(--text-muted);
        }

        .section-title {
          font-size: 0.875rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.05em;
          color: var(--text-muted);
          margin-bottom: 1rem;
        }

        .book-item {
          margin-bottom: 0.5rem;
        }

        .book-header {
          background: var(--bg-tertiary);
          padding: 1rem;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          border-left: 4px solid;
          transition: all 0.2s;
        }

        .book-header:hover {
          background: var(--bg-hover);
          transform: translateX(4px);
        }

        .book-info {
          flex: 1;
          min-width: 0;
        }

        .book-title {
          font-weight: 600;
          font-size: 0.95rem;
          color: var(--text-primary);
          margin-bottom: 0.125rem;
        }

        .book-desc {
          font-size: 0.75rem;
          color: var(--text-muted);
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .units-list {
          margin-left: 1rem;
          padding-left: 1rem;
          border-left: 2px solid var(--border);
          margin-top: 0.5rem;
          animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .unit-item {
          padding: 0.75rem;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 0.25rem;
          transition: all 0.2s;
          color: var(--text-secondary);
        }

        .unit-item:hover {
          background: var(--bg-tertiary);
          transform: translateX(4px);
        }

        .unit-item.active {
          border-left: 3px solid;
          padding-left: calc(0.75rem - 3px);
          font-weight: 600;
        }

        .content {
          flex: 1;
          overflow-y: auto;
          background: var(--bg-primary);
        }

        .welcome {
          display: flex;
          align-items: center;
          justify-content: center;
          min-height: 100%;
          padding: 2rem;
        }

        .welcome-card {
          text-align: center;
          max-width: 600px;
        }

        .icon-wrapper {
          width: 120px;
          height: 120px;
          margin: 0 auto 2rem;
          background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
          border-radius: 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 20px 40px rgba(59, 130, 246, 0.3);
          color: white;
        }

        .welcome-card h1 {
          font-size: 2.5rem;
          font-weight: 800;
          margin-bottom: 1rem;
          background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .welcome-card p {
          font-size: 1.25rem;
          color: var(--text-secondary);
          line-height: 1.8;
          margin-bottom: 2rem;
        }

        .features {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 1rem;
          margin-top: 3rem;
        }

        .feature {
          background: var(--bg-secondary);
          padding: 1.5rem;
          border-radius: 16px;
          box-shadow: 0 4px 12px var(--shadow);
          transition: transform 0.3s;
        }

        .feature:hover {
          transform: translateY(-4px);
        }

        .feature svg {
          margin-bottom: 0.5rem;
        }

        .feature:nth-child(1) svg {
          color: #3b82f6;
        }

        .feature:nth-child(2) svg {
          color: #8b5cf6;
        }

        .feature:nth-child(3) svg {
          color: #f59e0b;
        }

        .feature-label {
          font-weight: 600;
          font-size: 0.95rem;
          color: var(--text-primary);
        }

        .lesson {
          padding: 2rem;
          max-width: 900px;
          margin: 0 auto;
        }

        .breadcrumb {
          margin-bottom: 2rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          font-size: 0.875rem;
          color: var(--text-muted);
        }

        .lesson-header {
          padding: 2rem;
          border-radius: 20px;
          margin-bottom: 2rem;
          border-left: 4px solid;
        }

        .lesson-header h1 {
          font-size: 2rem;
          font-weight: 800;
          color: var(--text-primary);
        }

        .subsections {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
        }

        .subsection {
          background: var(--bg-secondary);
          border-radius: 16px;
          overflow: hidden;
          box-shadow: 0 4px 12px var(--shadow);
          border: 1px solid var(--border);
          transition: all 0.3s;
        }

        .subsection:hover {
          box-shadow: 0 8px 24px var(--shadow);
        }

        .subsection-header {
          padding: 1.5rem;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
          align-items: center;
          background: var(--bg-tertiary);
          transition: background 0.2s;
        }

        .subsection-header:hover {
          background: var(--bg-hover);
        }

        .subsection-header h2 {
          font-size: 1.25rem;
          font-weight: 700;
          color: var(--text-primary);
        }

        .subsection-content {
          padding: 1.5rem;
          animation: slideDown 0.3s ease;
        }

        .subsection-content p {
          font-size: 1rem;
          line-height: 1.8;
          color: var(--text-secondary);
          margin-bottom: 1.5rem;
        }

        .code-block {
          background: var(--code-bg);
          border-radius: 12px;
          overflow: hidden;
          border: 1px solid var(--border);
        }

        .code-header {
          background: var(--bg-tertiary);
          padding: 0.75rem 1rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          border-bottom: 1px solid var(--border);
        }

        .code-header span {
          font-size: 0.875rem;
          font-weight: 600;
          color: var(--text-muted);
        }

        .code-block pre {
          padding: 1.5rem;
          margin: 0;
          overflow-x: auto;
          font-size: 0.875rem;
          line-height: 1.7;
          font-family: 'Fira Code', 'Consolas', monospace;
        }

        .code-block code {
          color: #e2e8f0;
        }

        ::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }

        ::-webkit-scrollbar-track {
          background: var(--bg-tertiary);
        }

        ::-webkit-scrollbar-thumb {
          background: var(--border);
          border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
          background: var(--text-muted);
        }

        @media (max-width: 768px) {
          .sidebar {
            position: fixed;
            left: 0;
            top: 73px;
            height: calc(100vh - 73px);
            z-index: 50;
            box-shadow: 2px 0 8px var(--shadow);
          }

          .title {
            font-size: 1.2rem;
          }

          .welcome-card h1 {
            font-size: 1.8rem;
          }

          .features {
            grid-template-columns: 1fr;
          }

          .lesson {
            padding: 1rem;
          }
        }
      `}</style>
    </div>
  );
}

export default App;